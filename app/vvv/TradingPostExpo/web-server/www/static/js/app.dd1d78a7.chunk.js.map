{"version":3,"sources":["assets/post-feed/bookmark-active.svg","assets/post-feed/bookmark-active-blue.svg","assets/logo.svg","assets/logo-no-bg.svg","assets/store-front-logo2-alt.svg","assets/store-front.svg","assets/app-title.svg","assets/splash-welcome.svg","assets/misc/plus.svg","assets/post-feed/upvote.svg","assets/post-feed/comment.svg","assets/post-feed/bookmark.svg","assets/side-menu/Account.svg","assets/side-menu/Competition.svg","assets/side-menu/Feedback.svg","assets/side-menu/Help.svg","assets/side-menu/Learn.svg","assets/side-menu/Log Out.svg","assets/side-menu/Profile.svg","assets/side-menu/Watchlist.svg","assets/analyze2.svg","assets/analytics.svg","assets/bank.svg","lds.tsx","hooks/useColorScheme.ts","constants/Colors.ts","style.ts","components/Link.tsx","components/SvgExpo.web.tsx","images.tsx","utils/misc.tsx","components/ProfileButton.tsx","components/SideMenu.tsx","utils/hooks.tsx","components/LabeledField.tsx","components/PrimaryButton.tsx","components/SecondaryButton.tsx","components/ButtonField.tsx","components/TextField.tsx","utils/validators.ts","components/ScrollWithButtons.tsx","screens/create_account/AccountInfoSection.tsx","components/Headers.tsx","components/Section.tsx","components/Picker.tsx","components/Slider.tsx","components/AddButton.tsx","screens/create_account/InvestmentInterestSection.tsx","components/IconfiyIcon.tsx","utils/third-party/twitter.ts","screens/create_account/YourContentSection.tsx","screens/create_account/ProfileIconSection.tsx","components/SearchBar.tsx","components/NoDataPanel.tsx","components/List.tsx","components/WatchlistPicker.tsx","components/Themed.tsx","screens/create_account/AnalystStartSection.tsx","components/Table.tsx","screens/CreateAccountScreen.tsx","screens/create_account/BasicInfoSection.tsx","screens/create_account/PickWatchlistSection.tsx","screens/create_account/LinkBrokerageSection.tsx","components/StyledText.tsx","components/EditScreenInfo.tsx","screens/ModalScreen.tsx","screens/NotFoundScreen.tsx","screens/TabOneScreen.tsx","components/LoginButtons.tsx","screens/WelcomeScreen.tsx","navigation/LinkingConfiguration.ts","components/PrimaryChip.tsx","components/IconButton.tsx","components/AsyncPressable.tsx","components/HtmlView.web.tsx","components/PostView.tsx","components/PostList.tsx","screens/FeedScreen.tsx","components/ProfileBar.tsx","screens/WatchlistScreen.tsx","components/WatchlistSection.tsx","screens/TableModalScreen.tsx","components/ButtonGroup.tsx","charts/pie-chart.tsx","components/PieHolder.tsx","screens/PortfolioScreen.tsx","screens/WatchlistEditorScreen.tsx","screens/AuthScreen.tsx","screens/ImagePicker.tsx","components/ProfileBanner.tsx","screens/ProfileScreen.tsx","screens/SearchScreen.tsx","screens/OverlayScreen.tsx","screens/CompanyScreen.tsx","navigation/index.tsx","App.tsx","hooks/useCachedResources.ts","assets/fonts/SpaceMono-Regular.ttf","assets/rnui/chevronDown.png","assets/rnui/add.png","assets/rnui/plus.png","assets/nav-bar/portfolio-active.png","assets/nav-bar/portfolio.png","assets/nav-bar/feed-active.png","assets/nav-bar/feed.png","assets/nav-bar/search-active.png","assets/nav-bar/search.png","assets/nav-bar/bookmark-active.png","assets/nav-bar/bookmark.png","assets/nav-bar/menu.png","assets/post-feed/flatgrad.png"],"names":["module","exports","lds","isCachedMap","authToken","hasAuthed","isExplirable","securities","duration","useData","key","expireCheck","cachedAt","Date","now","setValue","undefined","useState","value","_setValue","useEffect","sub","EventRegister","addEventListener","data","removeEventListener","useCallback","v","a","async","cachedLds","Object","keys","forEach","k","console","log","AsyncStorage","setItem","JSON","stringify","emit","initLds","getItem","result","parse","useColorScheme","_useColorScheme","light","text","background","tint","tabIconDefault","tabIconSelected","dark","AppColors","flex","row","flexDirection","shadow","elevation","shadowOffset","height","width","shadowColor","shadowOpacity","shadowRadius","fonts","xSmall","small","medium","large","xLarge","font","size","color","isBold","fontSize","fontWeight","sizes","paddView","padding","backgroundColor","elevated","marginHorizontal","paddingVertical","borderColor","borderWidth","borderRadius","marginBottom","chartColors","social","bannerText","textAlign","margin","lineHeight","thinBannerText","marginVertical","textInputWiz","Link","props","Pressable","onPress","Text","style","children","SvgExpo","url","type","lastRef","useRef","onReadyRef","onReady","current","divRef","svgData","setSvgData","fetch","then","ok","statusText","setTimeout","catch","ex","View","ref","justifyContent","alignContent","alignItems","display","dangerouslySetInnerHTML","__html","sideMenu","Account","Competition","Feedback","Help","Learn","LogOut","Profile","Watchlist","BookmarkActive","_BookmarkActive","BookmarkInactive","_BookmarkInactive","BookmarkActiveBlue","_BookmarkActiveBlue","makeExpoSvg","Svg","AppTitle","_AppTitle","SplashWelcome","_SplashWelcome","UpvoteIcon","_IconBg","_IconNoBg","_PlusIcon","_UpvoteIcon","CommentIcon","_CommentIcon","navIcons","require","active","inactive","BookmarkIcons","TwitterLogo","LinkedInLogo","YouTubeLogo","SubstackLogo","SpotifyLogo","TBI","warn","pctFormatter","Intl","NumberFormat","minimumFractionDigits","toPercent","number","format","thousandFormatter","maximumSignificantDigits","toThousands","currencyFormatter","currency","toDollarsAndCents","split","ProfileButton","nav","useNavigation","editable","navigate","userId","alignSelf","overflow","profileUrl","Image","source","uri","name","padSmall","SideMenu","setHasAuthed","signOut","useAppUser","currentUser","appUser","DrawerContentScrollView","contentContainerStyle","flexGrow","marginTop","profile_url","id","handle","display_name","label","navigation","icon","bookmarkedOnly","map","item","index","array","MenuItem","isLast","length","SvgElement","DrawerItem","call","closeDrawer","labelStyle","marginLeft","isLoadingSecurities","useSecuritiesList","err","setErr","loaded","onErr","Api","Security","extensions","list","byId","bySymbol","r","symbol","getSecurityList","useOpacityAnim","opacityAnim","Animated","Value","timing","delay","toValue","useNativeDriver","start","useMemo","BannerText","opacity","AppearView","styleProp","Symbol","iterator","unshift","useReadonlyEntity","seedValue","setData","hasChanged","setHasChanged","resetData","d","update","updates","_entity","bindTextInput","entity","converter","onChangeText","bindKeys","output","onChangeTextKey","fromType","valueKey","toType","bindTextInputBase","bindPicker","onSelect","LabeledField","sz","compact","leftElement","PrimaryButton","AltPrimaryButton","SecondaryButton","status","AltSecondaryButton","ButtonField","_isActive","setIsActive","buttonLabel","disabled","disabledText","activeText","inactiveText","useLayoutEffect","isActive","bProps","ev","secondary","TextField","rnuRef","caption","setCaption","valueTracker","setValueTracker","validate","textInputRef","errorMessage","field","numberOfLines","spellCheck","autoCorrect","accessoryLeft","accessoryRight","onSubmitEditing","t","validateOnChange","newCaption","category","secureTextEntry","returnKeyType","placeholder","isValidEmail","email","test","isRequired","replace","ScrollWithButtons","isKeyboardVisible","setIsKeyboardVisible","showSubscription","Keyboard","addListener","hideSubscription","remove","useIsKeyboardVisible","ScrollView","nestedScrollEnabled","maxHeight","fillHeight","buttons","ButtonPanel","borderTopColor","borderTopWidth","paddingTop","paddingBottom","zIndex","left","locked","right","AccountBasicInfo","refs","isAuthed","sideMargin","loginEntity","pass","confirm","c","Boolean","password","Header","Subheader","Section","title","useSubHeading","alt","button","Subsection","ElevatedSection","paddingHorizontal","Picker","_value","setValues","Array","items","filter","join","find","selectedIndex","multiSelect","i","idx","_item","IndexPath","findIndex","iconUrl","Slider","MultiSlider","AddButton","fill","EditButton","FavButton","isSelected","investmentStrats","questionStyle","gicsAC","sort","IconifyIcon","DEBUG","xml","Platform","OS","currentColor","body","svg","svgProps","pressableProps","URL","HandleButton","iconPadd","fontStyle","SearchBar","tfRef","onLayout","Search","transform","scaleX","clear","onTextChange","clearButtonMode","NoDataPanel","message","List","internalData","setInternalData","preloadOffset","datasetKey","currentPage","setCurrentPage","pagesDone","setPagesDone","isLoadingRef","maxItem","setMaxItem","setTriggerHack","sizeCache","maxPage","hack","nextPage","originalLength","newData","vp","viewabilityConfig","itemVisiblePercentThreshold","onViewableItemsChanged","max","viewableItems","vi","Math","curMax","needsSplice","maxDisaplyCount","FlatList","getItemLayout","b","numColumns","ListHeaderComponent","ListFooterComponent","maxDisaplyText","stickyHeaderIndices","loadingItem","slice","keyExtractor","renderItem","viewabilityConfigCallbackPairs","noDataMessage","loadingMessage","cellStyle","aspectRatio","flexBasis","empty","useWatchlistPicker","selectedItems","setSelectedItems","selectionConverter","onSelectedItemschanged","symbolConverter","WatchlistPicker","searchText","setSearchText","setDatasetKey","securitiesLoaded","_selectedItems","s","_symbols","_s","delayRef","clearTimeout","RegExp","security_name","aStartsWith","bStartsWith","localeCompare","gap","from","push","isSec","onPressed","selectedClone","SecurityCell","innerSelected","setInnerSelected","shape","logo_url","position","bottom","top","useThemeColor","colorName","theme","colorFromProps","Colors","lightColor","darkColor","otherProps","Table","columns","rowPressed","columnStyle","headerStyle","headerAlias","columnDynamicStyle","columnsToString","align","Theme","alias","dynamicStyle","hideHeader","toString","info","elevatedView","colStyle","FieldElem","evaluatedStyle","evaluatedValue","renderAuxItem","screens","useChangeLock","lockButtons","setLockButtons","user","first_name","last_name","setLoginResult","linkTo","useLinkTo","first","last","username","buttonConfig","saveOnly","canGoBack","goBack","errors","val","toastMessage","Auth","createLogin","login","Error","next","json","policy","description","signIn","createUser","token","converterRef","WatchlistApi","insert","navigateByName","anaylistProfile","analyst_profile","investment_strategy","portfolio_concentration","benchmark","interests","sliderWidth","setSliderWidth","acText","setAcText","acValues","g","addIfMissing","int","toLowerCase","benches","is_benchmark","User","error","nativeEvent","layout","containerStyle","min","step","sliderLength","values","onValuesChange","placement","newInterest","splice","accounts","setAccounts","intervalRef","needsRefresh","openLink","openBrowserAsync","brokerLink","clearInterval","setInterval","getBrokerageAccounts","removeItem","setLink","generateBrokerageLink","link","claims","platform","platform_user_id","twitterHandle","setTwitterHandle","getToken","state","uuid","v4","intervalHandler","openAuth","_challenge","random","substring","authUrl","searchParams","append","Promise","res","rej","code","linkSocialAccount","challenge","useTwitterAuth","socialStyle","screenKeys","loginResult","wizardIndex","setWizardIndex","bio","tags","toast","useToast","resolvedIndex","caProps","msg","show","back","swipeEnabled","indicatorStyle","tabBarStyle","shouldLoadComponent","Screen","otherEntities","otherHasChanged","e","MonoText","fontFamily","EditScreenInfo","path","styles","getStartedContainer","getStartedText","codeHighlightContainer","homeScreenFilename","helpContainer","TouchableOpacity","handleHelpPress","helpLink","helpLinkText","WebBrowser","StyleSheet","create","ModalScreen","container","separator","StatusBar","NotFoundScreen","linkText","TabOneScreen","LoginButtons","createAccountProps","loginProps","tab","cleanUp","setSelectedIndex","userRef","passRef","setUsername","setPassword","setResetMode","isNaN","HTMLDivElement","stonks","n","querySelector","lastItem","lastItem2","floor","index2","linking","prefixes","Linking","config","Root","Create","Dash","Modal","NotFound","PrimaryChip","isAlt","marginRight","minHeight","IconButton","iconSource","resizeMode","AsyncPressable","isDisabled","setIsDisabled","HtmlView","scrolling","src","isUrl","srcDoc","postTotalVerticalMargin","postTotalHorizontalMargin","postSidePad","spaceOnSide","postInnerHeight","itm","windowWidth","_source","postType","maxWidth","resolvePostContent","postUrl","content","htmlBody","matches","exec","PostView","post","ext","is_bookmarked","isBookmarked","setIsBookmarked","is_upvoted","isUpvoted","setIsUpvoted","showStatus","setShowStatus","postTotalBorder","borderBottomColor","borderBottomWidth","horizontal","chip","Post","setBookmarked","_id","resp","appearance","setUpvoted","PostContentView","useWindowDimensions","availWidth","scale","PostList","offset","posts","FeedPart","allItems","page","feed","terms","newItems","String","ProfileBar","openProfile","useNoteField","hideEmptyNote","shownMap","setShownMap","column","note","SecPressable","securityId","useMakeSecurityFields","getIdValue","useWatchlistItemColumns","iconField","secField","price","time","WatchlistScreen","watchlist","setWatchlist","watchlistId","route","params","isSaved","setIsFav","get","w","is_saved","_p","saveWatchlist","f","onChangeNote","canEdit","ticker","NoteEditor","isEdit","setIsEdit","setNote","WatchlistSection","fields","shared","hideNoteOnEmpty","showAddButton","p","watchlists","LimitedTable","tableProps","TableModalScreen","ButtonGroup","arr","unselectedStyle","onValueChange","_calculateRadius","arg","defaultVal","Number","PieChart","padAngle","startAngle","endAngle","PI","valueAccessor","innerRadius","outerRadius","labelRadius","setHeight","setWidth","maxRadius","obj","_outerRadius","_innerRadius","_labelRadius","arcs","arc","entries","labelArcs","pieSlices","dd","slices","pieCentroid","centroid","labelCentroid","extraProps","pointerEvents","event","x","y","React","Children","child","belowChart","cloneElement","PieLabels","textAnchor","alignmentBaseline","stroke","strokeWidth","PieHolder","Alert","alert","stateLabel","stateValue","WatchlistEditorScreen","pickerProps","setName","setWatchlistType","setMagic","watchlistData","m","AuthScreen","ImagePickerScreen","onMoveShouldSetResponder","onStartShouldSetResponder","onResponderStart","onResponderMove","pageX","pageY","profileImageSize","profileImageSmall","actionPanelSize","profileImageStyle","profileImageSmallStyle","bannerAspectRatio","viewStyle","ProfileBanner","profilePic","collapse","extraMarginTop","translateX","platforms","ProfilePic","editMode","navigator","onProfilePicked","SocialBar","logoName","logo","UserLogo","tabBarMargin","ProfileScreen","setUser","setWatchlists","translateHeaderY","dim","scrollRef","bannerHeight","headerHeight","ButtonMargin","clampMax","minViewHeight","collapsed","setCollapsed","isMaxed","setIsMaxed","translation","interpolate","inputRange","outputRange","extrapolate","manager","abs","removeAllListeners","setTab","all","getWatchlists","ProfilePage","currentIndex","$page","newArr","getTrades","$limit","settings","user_id","security_id","onMomentumScrollEnd","scrollToOffset","animated","onScroll","contentOffset","translateY","bannerPic","OverlayScreen","CompanyScreen","security","setSecurity","isFav","isOnQuickWatch","quickadd","add","company_name","open","high","low","Navigation","colorScheme","NavigationContainer","LinkingConfiguration","DarkTheme","DefaultTheme","RootNavigator","Drawer","createDrawerNavigator","Stack","createNativeStackNavigator","HeaderTp","DrawerPart","Navigator","drawerContent","screenOptions","headerTitleAlign","headerTitle","headerRight","routeName","getFocusedRouteNameFromRoute","isMarked","useNavigationState","routes","component","BottomTabNavigator","initialParams","headerBackVisible","WelcomeScreen","options","headerShown","CreateAccountScreen","Group","presentation","headerTintColor","contentStyle","headerBackground","BottomTab","createBottomTabNavigator","DashComponents","Portfolio","quickWatchlist","setQuickWatchlist","holdings","setHoldings","portfolio","setPortfolio","getAllWatchlists","getHoldings","lists","getPortfolio","quick","saved_by_count","portPeriod","setPortPeriod","watchlistItemColumns","beta","sharpe","exposure","long","short","gross","net","cost_basis","created","saved","Feed","searchType","setSearchType","people","setPeople","debounceRef","search","term","initialRouteName","tabBarActiveTintColor","unmountOnBlur","tabBarShowLabel","lazy","tabBarIcon","focused","ImageBackground","App","isLoadingComplete","setLoadingComplete","SplashScreen","Font","FontAwesome","Authentication","results","loadResourcesAndDataAsync","useCachedResources","eva","icons","EvaIconsPack","configApi","apiBaseUrl","setAppUser","setAuthToken"],"mappings":"s5CAAAA,EAAOC,QAAU,IAA0B,6C,oBCA3CD,EAAOC,QAAU,IAA0B,kD,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,mD,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,kBCA3CD,EAAOC,QAAU,8sB,oBCAjBD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,kBCA3CD,EAAOC,QAAU,kuC,oBCAjBD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,kBCA3CD,EAAOC,QAAU,k5B,kBCAjBD,EAAOC,QAAU,s8B,oBCAjBD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,y0BCqB3C,IAAIC,EAAuC,GACvCC,EAAgD,CAChDC,WAAW,EACXC,WAAW,GAGXC,EAAoF,CACpFC,WAAY,CACRC,SAAU,QASLC,EAAU,SAAsBC,GACzC,IAAMC,EAAcL,EAAaI,GAClB,MAAXC,KAAaC,UAAYD,EAAYH,UAAaK,KAAKC,MAAQH,EAAYC,UAC3EG,EAASL,OAAKM,GAGlB,MAA2BC,mBAAiBf,EAAIQ,IAAhD,WAAOQ,EAAP,KAAcC,EAAd,KAYA,OAVAC,qBAAU,WACN,IAAMC,EAAMC,IAAcC,iBAXP,eAW4C,SAACC,GAExDA,EAAKd,MAAQA,GACbS,EAAUjB,EAAIQ,OAItB,OAAO,WAAQY,IAAcG,oBAAoBJ,MAClD,CAACX,IACG,CACHQ,QACAH,SAAUW,uBAAY,SAAOC,GAAP,SAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACZb,EAASL,EAAKiB,IADF,8DAEnB,CAACjB,MAMCK,EAAW,SAA4BL,EAAQiB,GAApC,eAAAC,EAAAC,OAAA,mDACpB3B,EAAIQ,GAAOiB,GACPxB,EAAYO,GAFI,uBAGVoB,EAHU,KAGqB5B,GACrC6B,OAAOC,KAAK9B,GAAK+B,SAAQ,SAACC,GACjB/B,EAAY+B,GAKbC,QAAQC,IAAI,cAAgBF,IAJ5BC,QAAQC,IAAI,gBAAkBF,UACvBJ,EAAUI,OAPT,WAAAN,EAAA,MAaVS,IAAaC,QA5CL,MA4C4BC,KAAKC,UAAUV,KAbzC,OAepBR,IAAcmB,KA7CS,cA6CgB,CAAE/B,QAfrB,6DAkBXgC,EAAU,0BAAAd,EAAAC,OAAA,kEAAAD,EAAA,MAEES,IAAaM,QAnDhB,QAiDC,cAEbC,EAFa,UAIf1C,EAAMqC,KAAKM,MAAMD,GACjBb,OAAOC,KAAK9B,GAAK+B,SAAQ,SAACC,GAAD,OACrBZ,IAAcmB,KAtDC,cAsDwB,CAAEP,UAN9B,kBAQZhC,GARY,6D,8kBC/ER,SAAS4C,IACtB,OAAOC,c,uGCHM,GACbC,MAAO,CACLC,KAAM,OACNC,WAAY,OACZC,KAPmB,UAQnBC,eAAgB,OAChBC,gBATmB,WAWrBC,KAAM,CACJL,KAAM,OACNC,WAAY,OACZC,KAbkB,OAclBC,eAAgB,OAChBC,gBAfkB,SAmBTE,EACD,UADCA,EAED,UAFCA,EAGC,U,8NCpBP,IAAMC,EAAO,CAAEA,KAAM,GACfC,EAAiB,CAAEC,cAAe,OAClCC,EAAoB,CAC7BC,UAAW,EACXC,aAAc,CAAEC,OAAQ,EAAGC,MAAO,GAClCC,YAAa,QACbC,cAAe,KACfC,aAAc,KAaX,IAAMC,EAAQ,CACjBC,OAAQ,GACRC,MAAO,GACPC,OAAQ,GACRC,MAAO,GACPC,OAAQ,IAGL,SAASC,EAAKC,GAA6E,IAAnDC,EAAkD,uDAAlC,QAASC,EAAyB,wDAC7F,MAAO,CACHC,SAAUV,EAAMO,GAChBI,WAAYF,EAAS,YAAS5D,EAC9B2D,MAAOA,GAKR,IAAMI,EACD,EADCA,EAEH,GAFGA,EAGD,GAHCA,EAIH,GAJGA,GAKH,GALGA,GAMH,GANGA,GAQH,IARGA,GASH,IATGA,GAYF,IAZEA,GAaK,EAKLC,GAAW,CAACxB,EAAM,CAAEyB,QAASF,EAAYG,gBAAiB3B,IAG1D4B,IAFa,UAAOH,GAAP,CAAiB,CAAEE,gBAAiB,W,iWAEzC,EAEjBE,iBAAkB,EAClBC,gBAAiB,EACjBH,gBAAiB,QACjBI,YAAa,OACbC,YAAa,EACbC,aAAc,EACdC,aAAc,IACX9B,IAIM+B,GAAc,CACvB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGSC,GACM,UAGNC,GAAa,CACtBC,UAAW,SAAUC,OAAQf,EAAYF,SAAUV,EAAMI,MAAOwB,WAA0B,IAAd5B,EAAMI,OAEzEyB,GAAiB,CAACJ,GAAY,CACvCR,iBAAkB,EAAGa,eAAgBlB,IAK5BmB,GAAe,CACxBD,eAAgBlB,G,iBC9Fb,SAASoB,GAAKC,GACjB,OAAO,eAACC,EAAA,EAAD,CAAWC,QAASF,EAAME,QAA1B,SACH,eAACC,GAAA,EAAD,CAAMC,MAAO,CAAC,CAAE7B,MAAOpB,GAAqB6C,EAAMI,OAAlD,SAA2DJ,EAAMK,a,qgBCF5DC,GAAU,SAACN,GACpB,IAAMO,EAAOP,EAAMK,SAAiBG,KAC9BC,EAAUC,iBAAO,IACjBC,EAAaD,iBAAOV,EAAMY,SAChCD,EAAWE,QAAUb,EAAMY,QAC3B,IAAME,EAASJ,iBAAuB,MAEtC,EAA8B7F,mBAAS,IAAvC,WAAOkG,EAAP,KAAgBC,EAAhB,KA2BA,OA1BAhG,qBAAU,WAGNyF,EAAQI,QAAUN,EAClBU,MAAMV,EAAK,IAAIW,MAAK,SAAC9F,GACjB,IAAIA,EAAK+F,GAYJ,MAAM/F,EAAKgG,WAXZhG,EAAKyB,OAAOqE,MAAK,SAAC1E,GACViE,EAAQI,UAAYN,GACpBS,EAAWxE,GAGf6E,YAAW,WACHV,EAAWE,SACXF,EAAWE,QAAQC,EAAOD,WAC/B,WAIZS,OAAM,SAAAC,GAAE,OAAIxF,QAAQC,IAAIuF,SAQxB,eAACC,EAAA,EAAD,CAAMpB,MAAOJ,EAAMI,MAAnB,SACH,sBAAKqB,IAAKX,EAAQV,MAAO,CAAE1C,OAAQ,OAAQC,MAAO,OAAQ+D,eAAgB,SAAUC,aAAc,SAAUC,WAAY,SAAUC,QAAQ,QAAUC,wBAAyB,CAAEC,OAAQhB,Q,qkBCJxL,IAAMiB,GAAW,CACpBC,aACAC,iBACAC,cACAC,UACAC,WACAC,YACAC,aACAC,eACAC,eAAgBC,KAChBC,iBAAkBC,KAClBC,mBAAoBC,MAGxB,SAASC,GAAYC,GACjB,OAAO,SAAChD,GAAD,OAA2D,eAAC,GAAD,SAAaA,GAAb,aAAoB,eAACgD,EAAD,QAGnF,IAAMC,GAAWF,GAAYG,MACvBC,GAAgBJ,GAAYK,MAU5BC,IARSN,GAAYO,MACVP,GAAYQ,MACZR,GAAYS,MAMVT,GAAYU,OACzBC,GAAcX,GAAYY,MAC1BlB,GAAiBM,GAAYL,MAC7BG,GAAqBE,GAAYD,MAcjCc,IALIC,EAAQ,KAChBA,EAAQ,KACPA,EAAQ,KAGiE,CAC/E,UAAa,CACTC,OAAQD,EAAQ,KAChBE,SAAUF,EAAQ,MAEtB,KAAQ,CACJC,OAAQD,EAAQ,KAChBE,SAAUF,EAAQ,MAEtB,OAAU,CACNC,OAAQD,EAAQ,KAChBE,SAAUF,EAAQ,QAabG,GAAgB,CACzBF,OAAQD,EAAQ,KAChBE,SAAUF,EAAQ,MASTtE,IAHHsE,EAAQ,KAGI,CAClBI,iBACAC,kBACAC,iBACAC,kBACAC,mBAGkBR,EAAQ,KCvHvB,SAASS,KACZ,OAAOvI,QAAQwI,KAAK,mCAoGxB,IAAMC,GAAeC,KAAKC,aAAa,QAAS,CAC5CtE,MAAO,YAWWqE,KAAKC,aAAa,QAAS,CAC7CtE,MAAO,UACPuE,sBAAuB,IAGpB,SAASC,GAAUC,GACtB,YAAmBjK,IAAXiK,GAAmC,OAAXA,EAAmB,GAAKL,GAAaM,OAAOD,GAKhF,IAAME,GAAoBN,KAAKC,aAAa,QAAS,CACjDM,yBAA0B,IAEvB,SAASC,GAAYJ,GACxB,OAAOE,GAAkBD,OAAOD,GAEpC,IAAMK,GAAoBT,KAAKC,aAAa,QAAS,CACjDtE,MAAO,WACP+E,SAAU,QASP,SAASC,GAAkBP,GAC9B,OAAOK,GAAkBJ,OAAOD,GAAQQ,MAAM,KAAK,G,iCC3I1CC,GAAgB,SAACtF,GAC1B,IAAMuF,EAAMC,cAEZ,OAAO,eAACvF,EAAA,EAAD,CACHC,QAASF,EAAMyF,SAAW,oBAAAjK,EAAAC,OAAA,gDACtB8J,EAAIG,SAAS,eADS,6DAEtB,WACI1F,EAAM2F,QACNJ,EAAIG,SAAS,UAAW,CACpBC,OAAQ3F,EAAM2F,UAG1BvF,MAAO,CACHtB,gBAAiB,OACjBnB,MAAOqC,EAAM1B,KACbZ,OAAQsC,EAAM1B,KACdc,aAAcY,EAAM1B,KAAO,EAC3BsH,UAAW,SACXzG,YAAaa,EAAM1B,KAAO,GAC1BY,YAAa,OACb2G,SAAU,UAjBX,SAmBF7F,EAAM8F,WAAa,eAACC,GAAA,EAAD,CAAO3F,MAAO,CAAE1C,OAAQ,OAAQC,MAAO,QAAUqI,OAAQ,CAAEC,IAAKjG,EAAM8F,cAAmB,eAAC,OAAD,CAAMpI,OAAQ,OAAQC,MAAO,OAAQuI,KAAK,cCJzJC,GAAW,CAAE9G,aAAcV,EAAa,GAEvC,SAASyH,GAASpG,GAGrB,MAAuCnF,mBAAS,GAAhD,WAQkBwL,GARlB,UAQmChM,EAAQ,aAAnCM,UAEA2L,EAAYC,KAAZD,QAGFE,EAAcxG,EAAMyG,QAC1B,OAAO,gBAACC,GAAA,EAAD,CAAyBC,sBAAuB,CAAEC,SAAU,GAAKxG,MAAO,CAAEwG,SAAU,EAAG9H,gBAAiB,SAAxG,UACH,gBAAC0C,EAAA,EAAD,CAAMpB,MAAO,CAAEwF,UAAW,SAAUhE,WAAY,SAAU9C,gBAAiB,eAA3E,UACI,gBAACmB,EAAA,EAAD,CACIG,MAAO,CAAEwB,WAAY,UADzB,UAQI,eAACJ,EAAA,EAAD,CACIpB,MAAO,CAAC,CAAEyG,UAAWlI,GAAcwH,IADvC,SAGI,eAAC,GAAD,CAAe7H,KAAM,GAAIwH,WAAYU,EAAYM,aAAe,GAAInB,OAAQa,EAAYO,OAE5F,gBAAC,OAAD,CAAM3G,MAAO,CAAC/B,EAAK,SAAU,SAAS,GAAO8H,IAA7C,cAA2DK,EAAYQ,UACvE,eAAC,OAAD,CAAM5G,MAAO,CAAC/B,EAAK,SAAU,SAAS,GAAO8H,IAA7C,SAA0DK,EAAYS,kBAE1E,eAAC,OAAD,CAAM7G,MAAO,CAAC/B,EAAK,SAAU,YAAY,GAAO8H,IAAhD,8BACA,eAACpG,GAAD,CAAMK,MAAO,CAAE3B,SAAUV,EAAMC,OAAQU,WAAY,QAAnD,qCAQF,CAAC,CACCwI,MAAO,UACPhH,QAAS,kBAAMF,EAAMmH,WAAWzB,SAAS,UAAW,CAChDC,OAAQa,EAAYO,MAExBK,KAAMpF,GAASO,SAEnB,CACI2E,MAAO,UACPhH,QAAS,kBAAMF,EAAMmH,WAAWzB,SAAS,WACzC0B,KAAMpF,GAASC,SAEnB,CACIiF,MAAO,YACPhH,QAAS,kBAAMF,EAAMmH,WAAWzB,SAAS,OAAQ,CAC7C2B,eAAgB,UAEpBD,KAAMpF,GAASa,oBAEnB,CACIqE,MAAO,SACPhH,QAAS,WACLmG,GAAa,GACbC,KAEJc,KAAMpF,GAASM,SACwDgF,KAAI,SAACC,EAAMC,EAAOC,GACzF,OAAO,eAACC,GAAD,CAEHN,KAAMG,EAAKH,KACXlH,QAASqH,EAAKrH,SAAWoE,GACzB6C,WAAYnH,EAAMmH,WAClBQ,OAAQH,IAAUC,EAAMG,OAAS,EAL9B,SAMLL,EAAKL,OALE,MAAQM,SAkC7B,SAASE,GAAS1H,GACd,IAAc6H,EAAe7H,EAArBoH,KACR,OAAO,eAACU,GAAA,EAAD,CACH1H,MAAOJ,EAAM2H,OAAS,CAAEd,UAAW,aAAWjM,EAC9CsM,MAAOlH,EAAMK,SACb+G,KAAM,SAACpH,GAAD,OAAW,eAAC,GAAD,CAASI,MAAO,CAAE1C,OAAQsC,EAAM1B,KAAMX,MAAOqC,EAAM1B,MAAnD,SACb,eAACuJ,EAAD,OAEJ3H,QAAS,WAAO,IAAD,EACX,SAAAF,EAAME,UAAN,EAAe6H,UAAKnN,GACpBoF,EAAMmH,WAAWa,eAGrBC,WAAY,CAAEC,YAAa,M,koBC9HnC,IAOIC,IAAsB,EA6BbC,GAAoB,WAE7B,MAAsBvN,qBAAtB,WAAOwN,EAAP,KAAYC,EAAZ,OAC0BjO,EAAQ,cAA5BS,EADN,EACMA,MAAOH,EADb,EACaA,SAMb,OAJAK,qBAAU,YAhCU,SAAOuN,EAA+DC,GAAtE,YAAAhN,EAAAC,OAAA,mDACf0M,GADe,wBAEhBA,IAAsB,EAFN,oBAAA3M,EAAA,MAIOiN,OAAIC,SAASC,WAAWC,QAJ/B,OAINA,EAJM,OAKRC,EAA6C,GAC7CC,EAAqD,GACzDF,EAAK/M,SAAQ,SAACkN,GACVF,EAAKE,EAAEhC,IAAMgC,EACbD,EAASC,EAAEC,QAAUD,KAEzBR,EAAO,CACHK,OACAC,OACAC,aAdQ,kDAmBZN,EAAM,EAAD,IAnBO,yBAsBZL,IAAsB,EAtBV,oFAiChBc,CAAgBtO,EAAU2N,KAC3B,IAEI,CACHD,MACAlO,WAAYW,GAAS,CACjB+N,KAAK,GACLC,SAAS,GACTF,KAAK,MASJM,GAAiB,WAC1B,IAAMC,EAAczI,iBAAO,IAAI0I,KAASC,MAAM,IAAIxI,QAWlD,OAVA7F,qBAAU,WACNoO,KAASE,OACLH,EACA,CACII,MAAO,IACPC,QAAS,EACTpP,SAAU,IACVqP,iBAAiB,IAClBC,UACR,IACIC,mBAAQ,iBAAO,CAClBR,cACAS,WAAY,SAAC5J,GACT,OAAO,eAACoJ,GAAA,EAASjJ,KAAV,IACHC,MAAO,CAACZ,GAAY,CAAEqK,QAASV,KAC3BnJ,KAGZ8J,WAAY,SAAC9J,GACT,IAhFYlF,EAgFNiP,EAAY,CAAC,CAAEF,QAASV,IAQ9B,OAPInJ,EAAMI,QAjFEtF,EAkFWkF,EAAMI,MAjF9B4J,OAAOC,YAAYtO,OAAOb,GAkFjBiP,EAAUG,QAAV,MAAAH,EAAS,KAAY/J,EAAMI,QAE3B2J,EAAUG,QAAQlK,EAAMI,QAGzB,eAACgJ,GAAA,EAAS5H,KAAV,SAAmBxB,GAAnB,IAA0BI,MAAO,CAAC2J,UAE7C,CAACZ,KAGF,SAASgB,GAAqBC,GACjC,MAAwBvP,mBAAsBuP,GAA9C,WAAOhP,EAAP,KAAaiP,EAAb,KACA,EAAoCxP,oBAAS,GAA7C,WAAOyP,EAAP,KAAmBC,EAAnB,KACA,MAAO,CACHnP,OACAkP,aACAE,UAAWlP,uBAAY,SAAUmP,GAC7BF,GAAc,GACdF,EAAQI,KACT,IACHC,OAAQpP,uBAAY,SAACqP,GACjBJ,GAAc,GACdF,GAAQ,SAACO,GAAD,UAAC,MACFA,GACAD,QAER,KAcJ,SAASE,GAAoCC,EAAoBxQ,EAAQyQ,EAAsDC,GAClI,OAMG,SAAiDF,EAAoBxQ,EAAQyQ,EAAsDE,EAA0DD,GAChM,IAAME,EAAM,OACPD,EAASE,iBAAkB,SAAC5P,GAEzBuP,EAAOJ,OAAP,OACKpQ,EAAe,MAATyQ,KAAWK,SAAWL,EAAUK,SAAS7P,GAAKA,IAErDyP,GACAA,EAAazP,MAIrB0P,EAASI,WACTH,EAAOD,EAASI,UAAqB,MAATN,KAAWO,OAASP,EAAUO,OAAOR,EAAO1P,KAAKd,IAAgBwQ,EAAO1P,KAAKd,IAC7G,OAAO4Q,EApBAK,CAAkBT,EAAQxQ,EAAKyQ,EAAW,CAC7CM,SAAU,QACVF,gBAAiB,gBAClBH,GAoBA,SAASQ,GAAiCV,EAAoBxQ,EAAQyQ,EAAyDU,GAElI,MAAO,CAEHA,SAAU,SAAClE,GAGPuD,EAAOJ,OAAP,OACKpQ,EAAe,MAATyQ,KAAWK,SAAWL,EAAUK,SAAS7D,GAAQA,IAGxDkE,GACAA,EAASlE,KChLlB,SAASmE,GAAa1L,GAEzB,IAAM2L,EAAK3L,EAAM4L,QAAUjN,EAAaA,EACxC,OAAO,gBAAC6C,EAAA,EAAD,CAAMpB,MAAO,CAAC/C,EAAK,CAAEuE,WAAY,SAAUvC,aAAcsM,IAAzD,UACF3L,EAAM6L,aAAe7L,EAAM6L,YAAY,CAAEnO,OAAQiO,EAAIhO,MAAOgO,IAC7D,eAAC,OAAD,CAAMvL,MAAO,CAAChD,EAAM,CAAEqB,SAAUuB,EAAM4L,QAAU7N,EAAME,MAAQF,EAAMG,SAApE,SAAgF8B,EAAMkH,QACrFlH,EAAMK,Y,qkBCJR,SAASyL,GAAc9L,GAC1B,OAAO,eAAC,SAAD,MAECA,IAIL,SAAS+L,GAAiB/L,GAC7B,OAAO,eAAC,SAAD,MAICA,I,qkBCXL,SAASgM,GAAgBhM,GAC5B,OAAO,eAAC,SAAD,IACHiM,OAAQ,WAAejM,IAExB,SAASkM,GAAmBlM,GAC/B,OAAO,eAAC,SAAD,IAAQiM,OAAQ,WAAejM,I,qkBCLnC,SAASmM,GAAYnM,GAIxB,MAAiCnF,oBAAS,GAA1C,WAAOuR,EAAP,KAAkBC,EAAlB,KACMC,EACDtM,EAAMuM,UAAYvM,EAAMwM,aACrBxM,EAAMwM,aACLJ,EACIpM,EAAMyM,YAAc,SACpBzM,EAAM0M,cAAgB,WAEnCC,2BAAgB,WACZN,EAAYrM,EAAM4M,WAAY,KAC/B,CAAC5M,EAAM4M,WACV,IAAMC,EAAsB,CACxBzM,MACA,CACIzC,MAAOgB,GACPjB,OAAQiB,EACRE,QAAS,GAQbwB,SAAUiM,EACVpM,QAdwB,SAchB4M,GACJT,GAAY,SAAC7Q,GAAD,YAA0BZ,IAAnBoF,EAAM4M,UAA0BpR,EAAIwE,EAAM4M,YACzD5M,EAAME,SACNF,EAAME,QAAQ4M,KAI1B,OAAO,eAACpB,GAAD,CAAcE,QAAS5L,EAAM4L,QAAS1E,MAAOlH,EAAMkH,MAAO2E,YAAa7L,EAAM6L,YAA7E,SACFO,EACKpM,EAAM+M,UAA4C,eAACf,GAAD,MAAqBa,IAArD,eAACf,GAAD,MAAmBe,IACrC7M,EAAM+M,UAA+C,eAACb,GAAD,MAAwBW,IAA3D,eAACd,GAAD,MAAsBc,MChC/C,SAASG,GAAUhN,GActB,IAAMiN,EAASvM,iBAAc,MAC7B,EAA8B7F,qBAA9B,WAAOqS,EAAP,KAAgBC,EAAhB,KACA,EAAwCtS,qBAAxC,WAAOuS,EAAP,KAAqBC,EAArB,KAEArS,qBAAU,WACNmS,EAAWnN,EAAMkN,WAClB,CAAClN,EAAMkN,UACVlS,qBAAU,WACNqS,EAAgBrN,EAAMlF,SACvB,CAACkF,EAAMlF,QACV,IAAQwS,EAAatN,EAAbsN,SAWR,OAVItN,EAAMuN,eACNvN,EAAMuN,aAAa1M,QAAU,CACzB2M,aAAwFxN,EAAMwN,aAC9FF,SAAU,kBAAMA,GAAWA,EAASF,IACpCK,MAAOR,IAMR,eAAC,QAAD,CACHxL,IAAKwL,EACLS,cAAe1N,EAAM0N,cACrBC,WAAY3N,EAAM2N,aAAc,EAChCC,YAAa5N,EAAM4N,cAAe,EAClCnI,UAAWzF,EAAMuM,SAIjBW,QAASA,EACTW,cAAe7N,EAAM6N,cACrBC,eAAgB9N,EAAM8N,eAGtBhT,MAAOkF,EAAMlF,MAGbiT,gBAAiB/N,EAAM+N,gBACvB7G,MAAOlH,EAAMkH,MACb8D,aAAc,SAACgD,GAEX,GADAX,EAAgBW,GACZV,GAAYtN,EAAMiO,iBAAkB,CAAC,IAAD,EAChCT,OAAmC5S,EACnCsT,OAAoCtT,EACnC0S,EAASU,KACVR,EAAexN,EAAMwN,aACrBU,EAAa,kBAAM,eAAC,OAAD,CAAMC,SAAU,KAAM/N,MAAO,CAAE7B,MAAO,OAAtC,SAAgDiP,MAGvE,SAAIxN,EAAMuN,eAAN,EAAoB1M,UACpBb,EAAMuN,aAAa1M,QAAQ2M,aAAeA,GAG9CL,GAAW,kBAAMe,KAGjBlO,EAAMgL,cACNhL,EAAMgL,aAAagD,IAE3BI,gBAAiBpO,EAAMoO,gBACvBC,cAAerO,EAAMqO,cACrBC,YAAatO,EAAMsO,YAEnBlO,MAAOJ,EAAMI,QC7Fd,SAASmO,GAAaC,GACzB,MAAO,kIAAkIC,KAAKD,GAAS,IAGpJ,SAASE,GAAW5T,GACvB,OAAQA,GAAS,IAAI6T,QAAQ,MAAO,IAAI/G,OAAS,E,klBCI9C,SAASgH,GAAkB5O,GAC9B,IAAQ6O,EP0OL,WACH,MAAkDhU,oBAAS,GAA3D,WAAOgU,EAAP,KAA0BC,EAA1B,KAeA,OAbAnC,2BAAgB,WACZ,IAAMoC,EAAmBC,KAASC,YAAY,mBAAmB,WAC7DH,GAAqB,MAEnBI,EAAmBF,KAASC,YAAY,mBAAmB,WAC7DH,GAAqB,MAGzB,OAAO,WACHC,EAAiBI,SACjBD,EAAiBC,YAEtB,IACI,CACHN,qBO3P0BO,GAAtBP,kBACR,OAAO,gBAACrN,EAAA,EAAD,CAAMpB,MAAO,CAAChD,GAAd,UACH,eAACoE,EAAA,EAAD,CAAMpB,MAAO,CAAChD,EAAM,CAAE0B,gBAAiB3B,IAAvC,SACI,gBAACkS,GAAA,EAAD,CAAYC,qBAAmB,EAAC3I,sBAAuB,CAAC,CAAE4I,UAAW,OAAQ7R,OAAQsC,EAAMwP,WAAa,YAAS5U,IAAjH,WAEMiU,GAAqB,eAACrN,EAAA,EAAD,CAAMpB,MAAO,CAAE1C,OAAQ,KAC7CsC,EAAMK,cAGdL,EAAMyP,SAAW,eAACC,GAAD,MAAiB1P,EAAMyP,aAe1C,SAASC,GAAY1P,GACxB,OAAO,gBAACwB,EAAA,EAAD,CAAMpB,MAAO,CAAC,CAAEuP,eAAgB,OAAQC,eAAgB,EAAGtS,cAAe,MAAOuS,WAAY,EAAGC,cAAe,EAAGpO,eAAgB,eAAgBqO,OAAQ,MAA1J,UACF/P,EAAMgQ,MAAQ,eAAChE,GAAD,CAAiB5L,MAAO,CAAEzC,MAAO,OAASuC,QAASF,EAAMgQ,KAAK9P,QAASqM,SAAUvM,EAAMiQ,OAAvF,SAAiGjQ,EAAMgQ,KAAKnT,OAC3H,eAACiP,GAAD,CAAe1L,MAAO,CAAEzC,MAAOqC,EAAMgQ,KAAO,MAAQ,OAAS9P,QAASF,EAAMkQ,MAAMhQ,QAASqM,SAAUvM,EAAMiQ,OAA3G,SAAqHjQ,EAAMkQ,MAAMrT,U,6lBC8HzI,SAASsT,GAAiBnQ,GACtB,IAAQoQ,EAAmBpQ,EAAnBoQ,KAAMC,EAAarQ,EAAbqQ,SACVlH,EAAczI,iBAAO,IAAI0I,KAASC,MAAM,IAAIxI,QAahD,OAXA7F,qBAAU,WACNoO,KAASE,OACLH,EACA,CACII,MAAO,IACPC,QAAS,EACTpP,SAAU,IACVqP,iBAAiB,IAClBC,UACR,IAEI,eAAClI,EAAA,EAAD,UACH,gBAACA,EAAA,EAAD,CAAMpB,MAAO,CAAChD,EAAM,CAAEsC,OAAQ4Q,KAA9B,UACI,eAAClH,GAAA,EAASjJ,KAAV,CACIC,MAAO,CAACZ,GAAY,CAAEqK,QAASV,IADnC,qDAkBA,eAAC6D,GAAD,IAEI5M,MAAON,GACPyN,aAAc6C,EAAK5B,MACnBhB,aAAc,6BACdjB,SAAU8D,EACV/C,SAAUiB,GACVN,kBAAgB,EAACK,YAAY,gBAAgBD,cAAc,QAAWxD,GAAc7K,EAAMuQ,YAAa,QAAS,QAYhHF,EACI,eAAClE,GAAD,CACIP,SAAO,EACPgB,UAAQ,EACR1F,MAAM,WACNuF,WAAW,WAEb,uCACE,eAACO,GAAD,IAEI5M,MAAON,GACPyN,aAAc6C,EAAKI,KACnBlD,SAAUoB,GACVT,kBAAgB,EAChBT,aAAc,0BACdc,YAAY,mBAAmBD,cAAc,OAAOD,iBAAe,GAC/DvD,GAAc7K,EAAMuQ,YAAa,WAAY,QACrD,eAACvD,GAAD,CAEI5M,MAAON,GACPyN,aAAc6C,EAAKK,QACnBnC,YAAY,mBACZD,cAAc,OACdb,aAAc,4BACdS,kBAAgB,EAChBX,SAAU,SAACoD,GAAD,OAAOC,QAAQD,IAAMA,IAAM1Q,EAAMuQ,YAAYnV,KAAKwV,UAC5DxC,iBAAe,YC7OpC,SAASyC,GAAO7Q,GACnB,OAAO,eAAC,OAAD,CACHI,MAAO,CAAC,CAAE7B,MAAOpB,EAAmBsB,SAAUV,EAAMI,MAAOkB,aAAc,GAAKW,EAAMI,OADjF,SAELJ,EAAMnD,OAIL,SAASiU,GAAU9Q,GACtB,OAAO,eAAC,OAAD,CAEHI,MAAO,CAAC,CAAE7B,MAAMpB,EAAqBsB,SAAUV,EAAME,MAAOoB,aAAc,GAAKW,EAAMI,OAFlF,SAGLJ,EAAMnD,O,qkBCFL,SAASkU,GAAQ/Q,GACpB,IAAQgR,EAAmChR,EAAnCgR,MAAO3Q,EAA4BL,EAA5BK,SAAU4Q,EAAkBjR,EAAlBiR,cACzB,OACI,gBAACzP,EAAA,EAAD,CAAMpB,MAAO,CAAC,CAAEtB,gBAAiB,QAASO,aAAcV,GAAcqB,EAAMI,OAA5E,UACI,gBAACoB,EAAA,EAAD,CAAMpB,MAAO,CAAE9C,cAAe,MAAOoE,eAAgB,iBAArD,UACKiP,QAAQK,KAAWC,EAAgB,eAACH,GAAD,CAAWjU,KAAMmU,EAAO5Q,MAAO,CAAE7B,MAAOyB,EAAMkR,IAAM,eAAYtW,KAAkB,eAACiW,GAAD,CAAQhU,KAAMmU,KACnIhR,EAAMmR,QAAUnR,EAAMmR,OAAO,CAAEzT,OAAQiB,EAAchB,MAAOgB,OAEhE0B,KAKN,SAAS+Q,GAAWpR,GACvB,OAAO,eAAC+Q,GAAD,IAASE,eAAa,GAAKjR,IAG/B,IAAMqR,GAAkB,SAACrR,GAC5B,IAAMI,EAAQ,CAAC,CAACrB,GAAU,CAAEuS,kBAAmB3S,IAAeqB,EAAMI,OACpE,OAAO,eAAC2Q,GAAD,SAAa/Q,GAAb,IAAoBI,MAAOA,M,qkBCpB/B,SAASmR,GAAkCvR,GAAwB,IAAD,EAErE,EAA4BnF,mBAAkCmF,EAAMlF,OAApE,WAAO0W,EAAP,KAAeC,EAAf,KAMA,OAAO,eAAC,SAAD,SAOCzR,GAPD,IASHlF,MAAO0W,aAAkBE,MAAQ1R,EAAM2R,MAAMrK,KAAI,SAACC,GAAD,MAAU,UAAQqK,QAAO,SAAArW,GAAC,OAAIA,KAAGsW,KAAK,MAAO,SAAA7R,EAAM2R,MAAMG,MAAK,SAACvW,GAAD,OAAOA,EAAET,QAAU0W,WAApC,IAA6CtK,QAASlH,EAAMsO,YAE1J7C,SAAU,SAAClQ,GAEHkW,EADAlW,aAAamW,MACHnW,EAAE+L,KAAI,SAAC/L,GAAD,OAAOyE,EAAM2R,MAAMpW,EAAE8B,KAAKvC,SAIhCkF,EAAM2R,MAAMpW,EAAE8B,KAAKvC,OAG7BkF,EAAMyL,UACNzL,EAAMyL,SAASlQ,IAEvBwW,cACI/R,EAAMgS,YAAchS,EAAM2R,MAAMrK,KAAI,SAAC2K,EAAGC,GAAJ,OAChCvB,QAAQ3Q,EAAM2R,MAAMG,MAAK,SAAAK,GAAK,OAAIA,EAAMrX,QAAUmX,EAAEnX,UAChD,IAAIsX,YAAUF,GAAO,QAAMN,QAAO,SAAArW,GAAC,OAAIA,KAC3C,IAAI6W,YAAUpS,EAAM2R,MAAMU,WAAU,SAACJ,EAAGC,GAAJ,OAAYD,EAAEnX,QAAU0W,MA3BjE,SA6BFxR,EAAM2R,MAAMrK,KAAI,SAAA2K,GAAC,OAAI,eAAC,aAAD,CAAYpE,cAAe,SAAC7N,GAAD,OAAW,eAAC+F,GAAA,EAAD,SAAW/F,GAAX,IAAkBgG,OAAQ,CAAEC,IAAKgM,EAAEK,aAAetB,MAAOiB,EAAE/K,OAAY+K,EAAEnX,a,6OChDtI,SAASyX,GAAOvS,GACnB,OAAO,eAACwS,GAAA,E,mWAAD,IAKCxS,ICJL,IAAMyS,GAAY,SAACzS,GACtB,OAAO,eAACC,EAAA,EAAD,CAAWC,QAASF,EAAME,QAASE,MAAO,CAAEsB,eAAgB,UAA5D,SAAyE,eAAC,OAAD,CAE5EgR,KAAMvV,EACN+I,KAAK,cAAc9F,MAAO,CACtB1C,OAAQsC,EAAMtC,OACdC,MAAOqC,EAAMrC,YAIZgV,GAAa,SAAC3S,GACvB,OAAO,eAACC,EAAA,EAAD,CAAWC,QAASF,EAAME,QAASE,MAAO,CAAC,CAAEsB,eAAgB,UAAY1B,EAAMI,OAA/E,SAAuF,eAAC,OAAD,CAE1FsS,KAAM,UACNxM,KAAK,eAAe9F,MAAO,CACvB1C,OAAQsC,EAAMtC,OACdC,MAAOqC,EAAMrC,YAIZiV,GAAY,SAAC5S,GACtB,OAAO,eAACC,EAAA,EAAD,CAAWC,QAASF,EAAME,QAASE,MAAO,CAAEsB,eAAgB,UAA5D,SAAwE,eAAC,OAAD,CAE3EgR,KAAM1S,EAAM6S,WAAa,UAAY,UACrC3M,KAAMlG,EAAM6S,WAAa,OAAS,eAAgBzS,MAAO,CACrD1C,OAAQsC,EAAMtC,OACdC,MAAOqC,EAAMrC,Y,qkBCCzB,IAAMmV,GAAmB,CACrB,aACA,iBACA,gBACA,WACA,cACA,kBACA,gBACA,aACA,iBACA,cACA,eAEEC,GAAgB,CAAEtU,SAAU,GAAIY,aAAcV,EAAYkI,UAAWlI,GAErEqU,GAAS,CAAC,OACZ,UACA,SACA,OACA,UACA,oBACA,eACA,aACA,UACA,QACA,WACA,QACA,cACA,aACA,UACA,oBACA,mBACA,cACA,oBACA,iBACA,gBACA,YACA,SACA,iBACA,WACA,OACA,aACA,SACA,aACA,YACA,WACA,UACA,aACA,iBACA,YACA,aACA,qBACA,aACA,QACA,OACA,kBACA,mBACA,uBACA,cACA,kBACA,kBACA,aACA,qBACA,YAAYC,O,qmBCrET,SAASC,GAAYlT,GAAmB,IAAD,EAC1ChF,qBAAU,WACFgF,EAAMmT,OACNpX,QAAQC,IAAIG,KAAKC,UAAU4D,EAAMoH,SAEtC,CAACpH,EAAMoH,KAAMpH,EAAMmT,QAEtB,IAAMC,EAAG,sBAAwC,QAAhBC,KAASC,GAAe,kCAAoC,IAApF,YAAiGtT,EAAMoH,KAAKzJ,OAAS,GAArH,cAAmIqC,EAAMoH,KAAK1J,QAAU,GAAxJ,mBAA2KsC,EAAMoH,KAAKzJ,OAAS,GAA/L,KAAoMqC,EAAMoH,KAAK1J,QAAU,GAAzN,MAA+NsC,EAAMuT,aAAevT,EAAMoH,KAAKoM,KAAK7E,QAAQ,mBAAxB,IAAgD3O,EAAMuT,aAAtD,KAAyEvT,EAAMoH,KAAKoM,MAAxU,SACHC,EACc,QAAhBJ,KAASC,GAAe,eAAC9R,EAAA,EAAD,CAAMpB,MAAK,SAAEJ,EAAM0T,eAAR,EAAE,EAAgBtT,MAA7B,SAAoC,sBAAKA,MAAO,CAAE1C,OAAQ,OAAQC,MAAO,QAAUmE,wBAAyB,CAAEC,OAAQqR,OAC1I,eAAC,UAAD,IAAQ1V,OAAQ,OAAQC,MAAO,OAAQyV,IAAKA,GAAUpT,EAAM0T,WAEpE,OAAO1T,EAAM2T,eACT,eAAC1T,EAAA,EAAD,OAAWG,MAAOJ,EAAMI,OAAWJ,EAAM2T,gBAAzC,aAA0DF,KAC1D,eAACjS,EAAA,EAAD,CAAMpB,MAAOJ,EAAMI,MAAnB,SAA2BqT,I,mCC5BjB,IAAIG,IADH,uCCuKnB,IAAMC,GAAe,SAAC7T,GAClB,OAAO,gBAACC,EAAA,EAAD,CAAWC,QAASF,EAAME,QAASE,MAAO,CAAEhD,KAAM,EAAGM,OAAQiB,GAAYkL,QAAS7J,EAAMgR,MAAQ,EAAI,KAApG,UACH,eAACkC,GAAD,CAAa9L,KAAMpH,EAAMoH,KAAMhH,MAAO,CAAEzC,MAAO,OAAQP,KAAM,EAAGsE,eAAgB,gBAAkBgS,SAAU,CAAEtT,MAAO,CAAEnB,gBAAiBe,EAAM8T,SAAUpW,OAAQ,SAAY6V,aAAcvT,EAAMuT,eAChM,eAAC,OAAD,CAAM7F,cAAe,EAAGtN,MAAO,CAAE2T,UAAY/T,EAAMgR,WAAmBpW,EAAX,SAAsB2D,MAAO,QAASkB,UAAW,UAA5G,SAAyHO,EAAMgR,OAAS,kB,8kBC1KzI,I,0CCLMgD,GAAY,SAAChU,GACtB,IAAMiU,EAAQvT,iBAAmB,MAEjC,OAAO,eAACsM,GAAD,CACHO,aAAc0G,EACdC,SAAUlU,EAAMkU,SAGhBrG,cACI,WACI,OAAO,eAAC9H,GAAA,EAAD,CAAOC,OAAQpC,GAASuQ,OAAOpQ,SAAU3D,MAAO,CACnD1C,OAAQ,GACRC,MAAO,GACPkB,QAAS,EACTG,iBAAkB,GAClBoV,UAAW,CACP,CAAEC,QAAS,QAK3BvG,eACI,WACI,OAAO,eAAC7N,EAAA,EAAD,CAAWC,QAAS,WAAO,IAAD,IAC7B,SAAA+T,EAAMpT,UAAN,WAAe4M,MAAM5M,UAArB,EAA8ByT,QAC9BtU,EAAMuU,aAAa,KAFhB,SAGJ,eAAC,OAAD,CAAMrO,KAAK,gBAAgB9F,MAAO,CACjC1C,OAAQ,GACRC,MAAO,GACPkB,QAAS,EACTG,iBAAkB,GAClBoV,UAAW,CACP,CAAEC,QAAS,UAevB/F,YAAa,YACbkG,gBAAiB,gBACjBxJ,aAAc,SAACnO,GACXmD,EAAMuU,aAAa1X,O,UCnD5B,SAAS4X,GAAYzU,GACxB,OAAO,eAACwB,EAAA,EAAD,CAAMpB,MAAO,CAAChD,EAAM,CAAEsE,eAAgB,SAAUC,aAAc,WAA9D,SACH,eAAC,OAAD,CAAMvB,MAAO,CAAE3B,SAAUV,EAAMI,MAAOI,MAAO,YAAakB,UAAW,UAArE,SACKO,EAAM0U,SAAW,eCYvB,SAASC,GAAW3U,GAcvB,MAAwCnF,qBAAxC,WAAO+Z,EAAP,KAAqBC,EAArB,KACMzZ,EAAoC4E,EAApC5E,KAAM0Z,EAA8B9U,EAA9B8U,cAAeC,EAAe/U,EAAf+U,WAD3B,EAEoCla,mBAAS,GAF7C,WAEKma,EAFL,KAEkBC,EAFlB,OAGgCpa,oBAAS,GAHzC,WAGKqa,EAHL,KAGgBC,EAHhB,KAIIC,EAAe1U,kBAAO,GAJ1B,EAK4B7F,oBAAU,GALtC,WAKKwa,EALL,KAKcC,EALd,OAMqCza,oBAAS,GAN9C,WAMmB0a,GANnB,WAOIC,EAAY9U,iBAAoB,IAAIG,QAExC7F,qBAAU,WACNma,GAAa,GAEb,WAAC,QAAA3Z,EAAAC,OAAA,mDACsB,mBAARL,EADd,kCAAAI,EAAA,MAE4BJ,OAAKR,EAAW,EAAG4a,IAF/C,QAEahZ,EAFb,QAGmBoL,QAA4B,IAAlB5H,EAAMyV,SACxBN,GAAa,GAGjBC,EAAavU,SAAU,EACvBgU,EAAgBrY,GARvB,uBAYO4Y,EAAavU,SAAU,EACvBgU,EAAgBzZ,GAChB+Z,GAAa,GAdpB,6DAAD,KAkBD,CAACJ,EAAYpE,QAAQvV,GAAO4E,EAAMyV,UAErCza,qBAAU,WACN,IAAKka,GAA6B,oBAAT9Z,GAAuBwZ,KACvCQ,EAAavU,SACK+T,EAAahN,OAAS,EAAKyN,IAC5BP,GAAiB,IAAI,CACnCM,EAAavU,SAAU,EACvB0U,GAAe,SAACG,GAAD,OAAWA,KAC1B,IAAMC,EAAWX,EAAc,EACzBY,EAAiBhB,EAAahN,OACpCxM,EAAKwZ,EAAce,EAAUH,GAAWtU,MAAK,SAAC2U,GACtCA,EAAQjO,SAAWgO,GAAkB5V,EAAMyV,UAAYE,GACvDP,EAAavU,SAAU,EACvBsU,GAAa,KAGbN,EAAgBgB,GAChBZ,EAAeU,GACfP,EAAavU,SAAU,SAc5C,CAACwU,EAAST,EAAcE,EAAeE,EAAahV,EAAMyV,UAE7D,IAAMK,EAAKnM,mBAAQ,iBAAM,CACrB,CACIoM,kBAAmB,CACfC,4BAA6B,IAEjCC,uBAAwB,SAACnJ,GACrB,IAAIoJ,EAAM,EACVpJ,EAAGqJ,cAActa,SAAQ,SAACua,GACtBF,EAAMG,KAAKH,IAAIA,EAAKE,EAAG5O,OAAS,MAEpC8N,GAAW,SAACgB,GAAD,OACPD,KAAKH,IAAIA,EAAKI,WAG3B,IACGC,EAAc3B,GAAgB5U,EAAMwW,iBAAmB5B,EAAahN,OAAS5H,EAAMwW,gBAEzF,OAAO,MAAC5B,KAAchN,OAClB,eAAC6O,GAAA,EAAD,CACIrW,MAAO,CAAC,CAAE1C,OAAQ,SAClBiJ,sBAAuB,CAAC,CAAEjJ,OAAQ,SAClCgZ,cAAe1W,EAAM0W,cAAgB,SAAClb,EAAGmb,GAAJ,OAAW3W,EAAM0W,cAAsBlb,EAAGmb,EAAGnB,SAAa5a,EAC/Fgc,WAAY5W,EAAM4W,WAClBC,oBAAqB7W,EAAM6W,oBAC3BC,oBAAqBP,EAAc,WAC/B,OAAO,eAACxW,GAAD,CAAMG,QAASoE,GAAKlE,MAAO,CAAE8H,WAAY,QAAzC,SAAoDlI,EAAM+W,gBAAkB,mBACnFnc,EACJoc,oBAAqBhX,EAAM6W,oBAAsB,CAAC,QAAKjc,EACvDQ,KAAOga,EAAavU,QAAb,eAA2B+T,GAA3B,CAAyC5U,EAAMiX,cAAgBV,EAAc3B,EAAasC,MAAM,EAAGlX,EAAMwW,iBAAmB5B,EACnIuC,aAAcnX,EAAMmX,aACpBC,WAAYpX,EAAMoX,WAClB9H,oBAAqBtP,EAAMsP,oBAC3B+H,+BAAgCvB,IAfT,eAACrB,GAAD,CAAaC,QAASE,EAAe5U,EAAMsX,cAAiBtX,EAAMuX,gBAAkB,e,+NCzGvH,IAAMC,GAAY,CAAE5Q,SAAU,EAAG6Q,YAAa,EAAG/V,eAAgB,SAAU7B,eAAgB,EAAG+B,WAAY,SAAU8V,UAAW,IAGzHC,GAAQ,GAKDC,GAAqB,WAC9B,MAA0C/c,mBAA+B,IAAzE,WAAOgd,EAAP,KAAsBC,EAAtB,KACA,MAAO,CACHC,mBAAoBrX,iBAAiE,MACrFmX,gBACAG,uBAAwBF,EACxBG,gBAAiBvX,iBAAoD,QAGhEwX,GAAkB,SAAClY,GAE5B,MAAoCnF,mBAAS,IAA7C,WAAOsd,EAAP,KAAmBC,EAAnB,KACMP,EAAkB7X,EAAlB6X,cADN,EAEsBhd,mBAA2C,IAFjE,WAEKO,EAFL,KAEWiP,EAFX,OAGkCxP,mBAAS,IAH3C,WAGKka,EAHL,KAGiBsD,EAHjB,KAKcle,EACJiO,KAFJjO,WACEyO,KAOR5N,qBAAU,WACFb,EAAWyN,QAAU5H,EAAMsY,iBAC3BtY,EAAMsY,mBAGNvc,QAAQC,IAAI,cAAgB7B,EAAWyN,UAE5C,CAACzN,EAAWyN,OAAQ+I,QAAQ3Q,EAAMsY,oBACrCtY,EAAM+X,mBAAmBlX,QAAU1G,EAAWyN,OAAS,SAAC2Q,GAAD,OAAoBpe,EAAWyX,QAAO,SAAC4G,GAAD,OAAOD,EAAeC,EAAEzR,QAAO,KAC5H/G,EAAMiY,gBAAgBpX,QAAU1G,EAAWyN,OAAS,SAAC6Q,GACjD,IAAMvN,EAA+B,GAKrC,OAJA/Q,EAAW0B,SAAQ,SAAC2c,GACZC,EAAS3G,MAAK,SAAC4G,GAAD,OAAQA,IAAOF,EAAExP,YAC/BkC,EAAOsN,EAAEzR,KAAM,MAEhBmE,GACP,KAGJ,IAAMyN,EAAWjY,iBAAO,GACxB3E,QAAQC,IAAI,4BAA8B7B,EAAWyN,QAC3BjM,OAAOC,KAAKic,GAAejQ,OA2DrD,OA1DA5M,qBAAU,WACF2d,EAAS9X,SACT+X,aAAaD,EAAS9X,SAE1B8X,EAAS9X,QAAUQ,YAAW,WAE1B,IAAMsQ,EAAgCxX,EAAWyX,QAAO,SAAC4G,EAAGvG,GAAJ,OAClDkG,IAAelG,EAAI,IAAM4F,EAAcW,EAAEzR,MACzCoR,EAAWvQ,QAAU,GAAK,IAAIiR,OAAOV,EAAY,MAAM1J,KAAK+J,EAAEM,gBAC/DX,EAAWvQ,QAAW,IAAIiR,OAAOV,EAAY,MAAO1J,KAAK+J,EAAExP,WAC9DiK,MAAK,SAACzX,EAAGmb,GACP,OAAIkB,EAAcrc,EAAEuL,MAAQ8Q,EAAclB,EAAE5P,KAChC,EACH8Q,EAAclB,EAAE5P,MAAQ8Q,EAAcrc,EAAEuL,IACtC,EAEC,WAEJ,GAAIoR,EAAY,CACZ,GAAIA,EAAWvQ,QAAU,EAAG,CACxB,IAAMmR,EAAc,IAAIF,OAAO,IAAMV,EAAY,MAAM1J,KAAKjT,EAAEwN,QACxDgQ,EAAc,IAAIH,OAAO,IAAMV,EAAY,MAAM1J,KAAKkI,EAAE3N,QAE9D,OAAI+P,IAAgBC,GACR,GACFD,GAAeC,EACd,EAEAxd,EAAEwN,OAAOiQ,cAActC,EAAE3N,QAIpC,OAAOxN,EAAEwN,OAAOiQ,cAActC,EAAE3N,QAGpC,OAAO,EAnBP,MA+BVkQ,EAAMxH,MAAMyH,KAAK,CAAEvR,OAnGd,EAmGwC+J,EAAM/J,OAnG9C,IAmG0E,kBAAM+P,MACxE,IAAfuB,EAAItR,QACJ+J,EAAMyH,KAAN,MAAAzH,EAAK,KAASuH,IAElB7O,EAAQsH,GACR0G,EAAcF,KACf,OACJ,CAACA,EAAYhe,EAAY0d,IAIrB,gBAACrW,EAAA,EAAD,CACHpB,MAAOhD,EADJ,UAGH,eAACoE,EAAA,EAAD,CAAMpB,MAAO,CAAEvB,QAAS,GAAxB,SACI,eAAC,GAAD,CACI0V,aAAc,SAAC1X,GAAD,OAAUub,EAAcvb,IACtCqX,cAAUtZ,MAGlB,eAAC4G,EAAA,EAAD,CAAMpB,MAAOhD,EAAb,SACI,eAACuX,GAAD,CACIiC,WAzHO,EA0HPxb,KAAMA,EACN2Z,WAAYA,GAA0B3Z,EAAKwW,QAAO,SAAAnH,GAAC,OAAIA,IAAMkN,MAAO/P,OACpEwP,WAAY,SAACnF,GACT,OAAO,eAAC,GAAD,CACH1K,KAAM0K,EAAE1K,KACRsL,WAAYwG,GAAMpH,EAAE1K,OAASsQ,EAAc5F,EAAE1K,KAAKR,MAAgB,EAClEuS,UAAW,SAACzG,GACR,GAAIwG,GAAMpH,EAAE1K,MAAO,CACf,IAAMgS,E,mWAAa,IAAQ1B,GAS3B,OARIhF,EACA0G,EAActH,EAAE1K,KAAKR,KAAM,SAEpBwS,EAActH,EAAE1K,KAAKR,IAGhC/G,EAAMgY,uBAAuBuB,IAEtB,EAEX,OAAO,MAInBtC,iBAAarc,UAMvBye,GAAQ,SAAC9R,GACX,OAAOA,IAASoQ,IAGd6B,GAAe,SAACxZ,GAClB,IAAQuH,EAAgCvH,EAAhCuH,KAAM+R,EAA0BtZ,EAA1BsZ,UAAWzG,EAAe7S,EAAf6S,WACzB,EAA0ChY,mBAASgY,GAAnD,WAAO4G,EAAP,KAAsBC,EAAtB,KAEA,OAAO,eAACzZ,EAAA,EAAD,CACHC,QAAS,WACDoZ,GAAWG,IACXC,GAAkBD,IAG1BrZ,MAAOoX,GANJ,SAOF6B,GAAM9R,GAAQ,uCAAE,gBAAC/F,EAAA,EAAD,WACb,eAAC,SAAD,CAAQmY,MAAM,SAAS3T,OAAQ,CAAEC,IAAKsB,EAAKqS,UAAYtb,KAAK,UAC3Dmb,GAAiB,gBAACjY,EAAA,EAAD,CAAMpB,MAAO,CAAEyZ,SAAU,WAAYlc,MAAO,MAAO8Z,YAAa,EAAG1H,OAAQ,IAAOG,MAAO,OAAQ4J,OAAQ,QAAzG,UACd,eAACtY,EAAA,EAAD,CAAMpB,MAAO,CAAEtB,gBAAiB,QAAS+a,SAAU,WAAY7J,KAAM,MAAO+J,IAAK,MAAOrc,OAAQ,MAAOC,MAAO,SAC9G,eAAC,OAAD,CAAMuI,KAAK,qBAAqBwM,KAAK,QAAQtS,MAAO,CAAE1C,OAAQ,OAAQC,MAAO,gBAGjF,eAACwC,GAAA,EAAD,UAAOoH,EAAKyB,YACV,Q,8rBChLP,SAASgR,GACdha,EACAia,GAEA,IAAMC,EAAQxd,IACRyd,EAAiBna,EAAMka,GAE7B,OAAIC,GAGKC,EAAOF,GAAOD,GAYlB,SAAS9Z,GAAKH,GACnB,IAAQI,EAAgDJ,EAAhDI,MAAOia,EAAyCra,EAAzCqa,WAAYC,EAA6Bta,EAA7Bsa,UAAcC,EAAzC,KAAwDva,EAAxD,IACMzB,EAAQyb,GAAc,CAAEpd,MAAOyd,EAAYnd,KAAMod,GAAa,QAEpE,OAAO,eAAC,KAAD,IAAala,MAAO,CAAC,CAAE7B,SAAS6B,IAAYma,IAG9C,SAAS/Y,GAAKxB,GACnB,IAAQI,EAAgDJ,EAAhDI,MAAOia,EAAyCra,EAAzCqa,WAAYC,EAA6Bta,EAA7Bsa,UAAcC,EAAzC,KAAwDva,EAAxD,IACMlB,EAAkBkb,GAAc,CAAEpd,MAAOyd,EAAYnd,KAAMod,GAAa,cAE9E,OAAO,eAAC,IAAD,IAAala,MAAO,CAAC,CAAEtB,mBAAmBsB,IAAYma,IC7BxD,I,+BC6DA,SAASC,GACZxa,GAUA,IACM5E,EAA6D4E,EAA7D5E,KAAMqf,EAAuDza,EAAvDya,QAASnL,EAA8CtP,EAA9CsP,oBAA+BoL,GAAe1a,EAAzBjB,SAAyBiB,EAAf0a,YAChDC,EAAkE,GAClEC,EAAkE,GAClEC,EAA+C,GAC/CC,EAAyE,GACzEC,EAAmE,GAiCvE,OA/BAN,EAAQ5e,SAAQ,SAAC6U,EAAGuB,GAChB0I,EAAY1I,GAAK,CAAC,CACdxT,SAAUV,EAAMC,OAChB2B,WAAY5B,EAAMG,OAClBP,MAAO+S,EAAE/S,MACTP,UAAkBxC,IAAZ8V,EAAE/S,MAAsB,OAAI/C,EAClC6E,UAAWiR,EAAEsK,OAAS,SACtB9S,WAAwB,SAAZwI,EAAEsK,MAAmB,OAAIpgB,GAEtC8V,EAAEtQ,OAELwa,EAAY3I,GAAK,CAAC,CACdxT,SAAUV,EAAME,MAChBN,MAAO+S,EAAE/S,MACTP,UAAkBxC,IAAZ8V,EAAE/S,MAAsB,OAAI/C,EAClC6E,UAAWiR,EAAEsK,OAAS,SACtBzc,MAAO0c,GAAM,mBAEdvK,EAAEkK,aAEDlK,EAAEwK,QACFL,EAAY5I,GAAKvB,EAAEwK,OAEnBxK,EAAEyK,eACFL,EAAmB7I,GAAKvB,EAAEyK,cAE1BzK,EAAEtU,YACF2e,EAAgB9I,GAAKvB,EAAEtU,cAIxB,eAACuY,GAAD,CACHc,QAASzV,EAAMyV,QACfe,gBAAiBxW,EAAMwW,gBACvBO,eAAgB/W,EAAM+W,eACtBI,aAAcnX,EAAMmX,aACpBN,oBAAqB7W,EAAMob,gBAAaxgB,EAAY,WAChD,OAAO,gBAAC4G,EAAA,EAAD,CAA2BpB,MAAO,CAAEwB,WAAY,WAAhD,UACH,eAACJ,EAAA,EAAD,CAAMpB,MAAO,CAAC/C,EAAK,CAAEyB,gBAAiB,UAAtC,SACK2b,EAAQnT,KAAI,SAACoJ,EAAGuB,GAAO,IAAD,EACnB,OAAO,eAAC9R,GAAA,EAAD,CAA0BuN,cAAe,EAAGtN,MAAOwa,EAAY3I,GAA/D,SAAqE4I,EAAY5I,KAAZ,SAAkBvB,EAAEjD,YAApB,EAAkB,EAAS4N,aAAhG,UAAqBpJ,QAIpC,eAACzQ,EAAA,EAAD,CAAMpB,MAAO,CAAE1C,OAAQ,QAPT,iBAYtB4R,oBAAqBA,EACrBlU,KAAMA,EACN2Z,WAAY/U,EAAM+U,WAClBuC,cAAetX,EAAMsX,cACrBL,YAAa,KACbG,WAAY,SAACkE,GAET,OAAOA,EAAK/T,KACR,gBAACtH,EAAA,EAAD,CACIC,QAASwa,EAAa,WAClBA,EAAWY,EAAK/T,KAAM+T,EAAK9T,aAC3B5M,EAEJwF,MAAO,CAACJ,EAAMjB,SAAWwc,GAAe,CAAEtc,gBAAiB,EAAGD,iBAAkB,IALpF,UAMI,eAACwC,EAAA,EAAD,CAAMpB,MAAO/C,EAAb,SAEQ2C,EAAMya,QAAQnT,KAAI,SAACoJ,EAAGuB,GAClB,IAAM3X,EAAG,UAAa2X,EAClBuJ,EAAWb,EAAY1I,GAE3B,GA7HL,kBADF1K,EA8HwBmJ,EAAEjD,QA7HXlG,EAoIH,CACD,IAAMkU,EAAY/K,EAAEjD,MACpB,OAAO,eAACgO,EAAD,CAAqBlU,KAAM+T,EAAK/T,KAAMC,MAAO8T,EAAK9T,MAAO7J,MAAO+S,EAAE/S,MAAOud,MAAOxK,EAAEwK,MAAO9a,MAAOob,GAAhFlhB,GATC,IAAD,IA9HlCiN,EA+HiB8T,EAAWN,EAAgB9I,GAC7BkJ,EAAeL,EAAmB7I,GAClCyJ,EAAiBP,EAAmB,CAACK,GAAY,IAApB,QAAyBL,EAAazK,EAAEjD,MAAQ6N,EAAK/T,KAAKmJ,EAAEjD,YAAS7S,EAAW8V,EAAEjD,MAAO6N,EAAK/T,KAAM+T,EAAK9T,SAAUgU,EAChJG,EAAiBN,EAAWA,EAAS3K,EAAEjD,MAAF,SAAU6N,EAAK/T,WAAf,EAAU,EAAYmJ,EAAEjD,YAAS7S,EAAW8V,EAAEjD,MAAO6N,EAAK/T,KAAM+T,EAAK9T,OAAUkJ,EAAEjD,MAAF,SAAU6N,EAAK/T,WAAf,EAAU,EAAYmJ,EAAEjD,YAAS7S,EACzJ,OAAO,eAACuF,GAAA,EAAD,CAAgBuN,cAAe,EAAGtN,MAAOsb,EAAzC,SAA2DC,GAAhDrhB,QASjC0F,EAAM4b,eAAiB5b,EAAM4b,cAAcN,KA1BhD,OAIgBA,EAAK9T,OAwBrB,eAACrH,GAAA,EAAD,4B,qkBCvJhB,IAAM0b,GAAU,CACZ,alBOG,SAA4B7b,GAC/B,MACoC8b,GAAc9b,GADlD,WACK+b,EADL,KACkBC,EADlB,SAGgBrS,mBAAQ,kBAAMgH,QAAQ3Q,EAAMic,KAAK7gB,KAAK8gB,cAAa,KAAQvS,mBAAQ,kBAAMgH,QAAQ3Q,EAAMic,KAAK7gB,KAAK+gB,aAAY,IACtE9hB,EAAQ,gBAA3B+hB,GAJpC,EAIMthB,MAJN,EAI0BH,UAGtB4V,GAFchK,KAAZE,QAEY0D,GAA6B,KAC3CkS,EAASC,cACTlM,EAAkB,CACdmM,MAAO7b,iBAAmB,MAC1B8b,KAAM9b,iBAAmB,MACzB8N,MAAO9N,iBAAmB,MAC1B+b,SAAU/b,iBAAmB,MAC7B8P,KAAM9P,iBAAmB,MACzB+P,QAAS/P,iBAAmB,OAEhCgc,EAAe,CACXzM,OAAQ8L,EAUR/L,KAAOhQ,EAAM2c,cAAW/hB,EAAY,CAChCiC,KAAM,SACNqD,QAAS,WACDF,EAAMmH,WAAWyV,YACjB5c,EAAMmH,WAAW0V,SAGjBR,EAAO,YAInBnM,MAkBA,CACIrT,KAAMmD,EAAM2c,SAAW,QAAU,SACjCzc,QAAS,gCAAA1E,EAAAC,OAAA,gDAID,IAAWK,KAHfkgB,GAAe,GACTc,EAAmB,GAFpB,SAIe1M,GACN2M,EAAM3M,EAAKtU,IACT+E,UAAYkc,EAAIlc,QAAQyM,YAC5BwP,EAAO1D,KAAK2D,EAAIlc,QAAQ2M,cAAgB,IAP/C,IAUGsP,EAAOlV,OAVV,iBAWGkV,EAAO5S,QAAQ,oCACflK,EAAMgd,aAAaF,EAAOjL,KAAK,SAC/BmK,GAAe,GAblB,4BAmBOzL,EAAYnV,KAAKoT,QAAS+B,EAAYnV,KAAKwV,SAnBlD,oCAAApV,EAAA,MAoB2ByhB,KAAKC,YAAY3M,EAAYnV,KAAKoT,MAAO+B,EAAYnV,KAAKwV,WApBrF,QAoBauM,EApBb,OAqBOf,EAAee,GArBtB,8BAwBa,IAAIC,MAAM,2BAA6BjhB,KAAKC,UAAUmU,EAAYnV,OAxB/E,QA0BG4gB,GAAe,GA1BlB,wBA+BG1X,KACAtE,EAAMic,KAAKzR,UAAUxK,EAAMic,KAAK7gB,MAE3B4E,EAAM2c,UACP3c,EAAMqd,OAnCb,0DAuCG,KAAGC,KACHtd,EAAMgd,aAAgB,KAAGM,KAAKpX,KAA9B,SAA0C,KAAGoX,KAAKC,QAAU,KAAGD,KAAKE,cAEzC,kBAAf,KAAG9I,QACf1U,EAAMgd,aAAa,KAAGtI,SAErB1U,EAAMgd,aAAa7gB,KAAKC,UAAU,KAAGsY,UAC1CsH,GAAe,GA9Cd,oEA2DrB,OANAhhB,qBAAU,WACFgF,EAAM2c,UACNX,GAAgBhc,EAAMic,KAAK3R,cAChC,CAACtK,EAAM2c,SAAU3c,EAAMic,KAAK3R,aAGxB,eAACsE,GAAD,CACHa,QAASiN,EADN,SAGC,eAACvM,GAAD,IAAkBC,KAAMA,EAAMC,UAAU,EAAOE,YAAaA,GAAiBvQ,OkB/HrF,aCCG,SAA0BA,GAC7B,MACoC8b,GAAc9b,GADlD,WACK+b,EADL,KACkBC,EADlB,KAEI7S,EAAczI,iBAAO,IAAI0I,KAASC,MAAM,IAAIxI,QAFhD,EAG0B0F,KAApBkX,EAHN,EAGMA,OACFrN,GAJJ,EAGc3J,QACQ,CACd8V,MAAO7b,iBAAmB,MAC1B8b,KAAM9b,iBAAmB,MACzB+b,SAAU/b,iBAAmB,QAEjCgc,EAAe,CACXzM,OAAQ8L,EACR/L,KAAM,CACFnT,KAAM,WACNqD,QAAS,oBAAA1E,EAAAC,OAAA,gDACLwhB,KAAK3W,UACLtG,EAAMmH,WAAW0V,SAFZ,8DAUb3M,MAAO,CACHrT,KAAMmD,EAAM2c,SAAW,QAAU,OACjCzc,QAAS,kCAAA1E,EAAAC,OAAA,gDAID,IAAWK,KAHfkgB,GAAe,GACTc,EAAmB,GAFpB,SAIe1M,GACN2M,EAAM3M,EAAKtU,IACT+E,UAAYkc,EAAIlc,QAAQyM,YAC5BwP,EAAO1D,KAAK2D,EAAIlc,QAAQ2M,cAAgB,IAP/C,IAUGsP,EAAOlV,OAVV,iBAYGkV,EAAO5S,QAAQ,oCACflK,EAAMgd,aAAaF,EAAOjL,KAAK,SAE/BmK,GAAe,GAflB,2CAAAxgB,EAAA,MAkB2ByhB,KAAKS,WAAW1d,EAAMic,KAAK7gB,KAAK8gB,WAAYlc,EAAMic,KAAK7gB,KAAK+gB,UAAWnc,EAAMic,KAAK7gB,KAAK4L,SAlBlH,wBAkBW2W,EAlBX,EAkBWA,MAlBX,YAAAniB,EAAA,MAmBSiiB,EAAO,GAAIE,IAnBpB,0DA0BG,KAAGL,KACHtd,EAAMgd,aAAgB,KAAGM,KAAKpX,KAA9B,SAA0C,KAAGoX,KAAKC,QAAU,KAAGD,KAAKE,cAEzC,kBAAf,KAAG9I,QACf1U,EAAMgd,aAAa,KAAGtI,SAErB1U,EAAMgd,aAAa7gB,KAAKC,UAAU,KAAGsY,UAC1CsH,GAAe,GAjCd,oEA2DrB,OApBqBhc,EAAfmH,WAENnM,qBAAU,WACNoO,KAASE,OACLH,EACA,CACII,MAAO,IACPC,QAAS,EACTpP,SAAU,IACVqP,iBAAiB,IAClBC,UACR,IACH1O,qBAAU,WACFgF,EAAM2c,UACNX,GAAgBhc,EAAMic,KAAK3R,cAChC,CAACtK,EAAM2c,SAAU3c,EAAMic,KAAK3R,aAKxB,eAACsE,GAAD,CACHa,QAASiN,EADN,SAEH,eAAClb,EAAA,EAAD,UACI,gBAACA,EAAA,EAAD,CAAMpB,MAAO,CAAChD,EAAM,CAAEsC,OAAQ4Q,KAA9B,UACI,eAAClH,GAAA,EAASjJ,KAAV,CACIC,MAAO,CAACZ,GAAY,CAAEqK,QAASV,IADnC,gDAIA,eAAC6D,GAAD,IACI5M,MAAON,GACPyN,aAAc6C,EAAKmM,MACnB/O,aAAc,2BACdF,SAAUoB,GACVT,kBAAgB,EAACK,YAAY,aAAaD,cAAc,QAAWxD,GAAc7K,EAAMic,KAAM,aAAc,QAE/G,eAACjP,GAAD,IACI5M,MAAON,GACPyN,aAAc6C,EAAKoM,KACnBhP,aAAc,0BACdF,SAAUoB,GACVT,kBAAgB,EAACK,YAAY,YAAYD,cAAc,QAAWxD,GAAc7K,EAAMic,KAAM,YAAa,QAE7G,eAACjP,GAAD,IACI5M,MAAON,GACPyN,aAAc6C,EAAKqM,SACnBjP,aAAc,yBACdF,SAAUoB,GACVT,kBAAgB,EAACK,YAAY,WAAWD,cAAc,QAAWxD,GAAc7K,EAAMic,KAAM,SAAU,gBDhHrH,UECG,SAA8Bjc,GACjC,MACoC8b,GAAc9b,GADlD,WACK+b,EADL,KACkBC,EADlB,KAEI7S,EAAczI,iBAAO,IAAI0I,KAASC,MAAM,IAAIxI,QAFhD,EAGqH+W,KAA3FgG,EAH1B,EAGM7F,mBAAkCF,EAHxC,EAGwCA,cAAuCC,EAH/E,EAGuDE,uBAA0CC,EAHjG,EAGiGA,gBAC7FyE,EAAe,CACXzM,OAAQ8L,EACR/L,KAAM,CACFnT,KAAM,UACNqD,QAAS,WACLF,EAAMqd,SAGdnN,MAAO,CACHrT,KAAM,QACNqD,QAAS,oBAAA1E,EAAAC,OAAA,mDACAE,OAAOC,KAAKic,GAAejQ,OAD3B,gBAED5H,EAAMgd,aAAa,mDAFlB,8BAKDhB,GAAe,GALd,oBAAAxgB,EAAA,MAOSqiB,KAAaC,OAAO,CACtBnM,OAAQiM,EAAa/c,QAAU+c,EAAa/c,QAAQgX,GAAiB,IAAIvQ,KAAI,SAACkR,GAAD,MAAQ,CACjFxP,OAAQwP,EAAExP,WAEd9C,KAAM,oBACN1F,KAAM,aAZb,OAcGR,EAAMqd,OAdT,kDAiBGrd,EAAMgd,aAAa,KAAGtI,SACtBsH,GAAe,GAlBlB,oEA6CrB,OAlBAhhB,qBAAU,WACNoO,KAASE,OACLH,EACA,CACII,MAAO,IACPC,QAAS,EACTpP,SAAU,KACVqP,iBAAiB,IAClBC,UACR,IAGH1O,qBAAU,WACFgF,EAAM2c,UACNX,GAAgBhc,EAAMic,KAAK3R,cAChC,CAACtK,EAAM2c,SAAU3c,EAAMic,KAAK3R,aAGxB,eAACsE,GAAD,CACHY,YAAU,EACVC,QAASiN,EAFN,SAKH,eAAClb,EAAA,EAAD,CAAMpB,MAAOxB,GAAb,SACI,gBAAC,GAAD,CAAiBoS,MAAM,GAAG5Q,MAAOhD,EAAjC,UACI,gBAACgM,GAAA,EAAS5H,KAAV,CAAepB,MAAO,CAAEyJ,QAASV,GAAjC,UACI,eAAClJ,EAAA,EAAD,CAAWC,QAAS,WAChBF,EAAMmH,WAAWzB,SAAS,iBAD9B,SAEG,eAAC,OAAD,CACCtF,MAAO,CAACZ,GAAY,CAAEK,eAAgBlB,IADvC,wCAKH,eAAC,GAAD,UACI,eAAC,KAAD,MAEJ,eAAC,OAAD,CACIyB,MAAO,CAACZ,GAAY,CAAER,iBAAkB,EAAGa,eAAgBlB,IAD/D,yEAMJ,eAAC,GAAD,CACIoZ,mBAAoB6F,EACpB/F,cAAeA,EACfI,gBAAiBA,EACjBD,uBAAwB,SAACO,GACrBT,EAAiBS,cFzFrC,gBFnB+B,SAACvY,GAEhC,IAAMmJ,EAAczI,iBAAO,IAAI0I,KAASC,MAAM,IAAIxI,QAalD,OAXA7F,qBAAU,WACNoO,KAASE,OACLH,EACA,CACII,MAAO,IACPC,QAAS,EACTpP,SAAU,IACVqP,iBAAiB,IAClBC,UACR,IAEI,eAACkF,GAAD,CACHY,YAAU,EACVC,QAAS,CACLS,MAAO,CACHrT,KAAM,iBACNqD,QAAS,WACLF,EAAM+d,eAAe,sBAG7B/N,KAAM,CACFnT,KAAM,UACNqD,QAAS,WAELF,EAAM+d,eAAe,sBAb9B,SAkBH,eAAC,GAAD,CAAM3d,MAAO,CAACxB,GAAU,CAAE8C,eAAgB,WAA1C,SACI,eAAC,GAAD,CAAiBsP,MAAM,GAAvB,SACI,gBAAC5H,GAAA,EAAS5H,KAAV,CAAepB,MAAO,CAAC,CAAEyJ,QAASV,IAAlC,UACI,eAAC,OAAD,CAAM/I,MAAO,CAACZ,IAAd,uCACA,eAAC,GAAD,CAAMY,MAAO,CAAEvB,QAASF,GAAxB,SACI,eAAC,GAAD,UACI,eAAC,KAAD,QAGR,eAAC,OAAD,CAAMyB,MAAO,CAACR,GAAgB,CAAEnB,SAAUV,EAAMG,SAAhD,kLEtBhB,mBZgEG,SAAmC8B,GACtC,IAAQ8J,EAAeZ,KAAfY,WACFkU,EAAkB7T,GAAkBnK,EAAMic,KAAK7gB,KAAK6iB,iBAAmB,CACzEC,oBAAqB,GACrBC,wBAAyB,GACzBC,UAAW,GACXC,UAAW,KAGalkB,EAAiBiO,KAArCjO,WAAcyO,KACtB,EAAsCkT,GAAc9b,EAAO,CAACge,IAA5D,WAAOjC,EAAP,KAAoBC,EAApB,KACA,EAAsCnhB,mBAAS,KAA/C,WAAOyjB,EAAP,KAAoBC,EAApB,KAEA,EAA4B1jB,mBAAS,IAArC,WAAO2jB,EAAP,KAAeC,EAAf,KACMC,EAAW/U,mBAAQ,WACrB,IAAMZ,EAAI,IAAI8P,OAAO2F,EAAQ,KAC7B,OAAOA,EAASxL,GAAOpB,QAAO,SAAC+M,EAAG1M,GAAJ,OAAUlJ,EAAE0F,KAAKkQ,MAAM,KACtD,CAACH,IACEI,EAAe,SAAC9jB,GACdA,IAAUkjB,EAAgB5iB,KAAKijB,UAAUvM,MAAK,SAAC+M,GAAD,OAASA,EAAIC,gBAAkBhkB,EAAMgkB,kBACnFd,EAAgBtT,OAAO,CACnB,UAAY,GAAZ,YAAiBsT,EAAgB5iB,KAAKijB,WAAtC,CAAiDvjB,MAGzD2jB,EAAU,KAERM,EAAU5kB,EAAWyX,QAAO,SAAA4G,GAAC,OAAIA,EAAEwG,gBAAc/L,MAAK,SAACzX,EAAGmb,GAAJ,OAAUnb,EAAEwN,OAAOiQ,cAActC,EAAE3N,WAAS1B,KAAI,SAACxM,GAAD,MAAY,CACpHoM,MAAM,IAAKpM,EAAMkO,OAAZ,KAAuBlO,EAAMge,cAClChe,MAAOA,EAAMkO,OACbsJ,QAASxX,EAAM8e,aAEnB,OAAO,eAAChL,GAAD,CACHY,YAAU,EACVC,QACI,CACIQ,OAAQ8L,EACR/L,KAAMhQ,EAAM2c,cAAW/hB,EAAY,CAC/BiC,KAAM,YACNqD,QAAS,kBAAMF,EAAM+d,eAAe,qBAExC7N,MAAO,CACHrT,KAAMmD,EAAM2c,SAAW,QAAU,WACjCzc,QAAS,oBAAA1E,EAAAC,OAAA,uDACLugB,GAAe,GADV,oBAAAxgB,EAAA,MAOKiN,OAAIwW,KAAKvU,OAAO1K,EAAMic,KAAK7gB,KAAK2L,GAAI,CACtCkX,gBAAiBD,EAAgB5iB,QARpC,OAWD4iB,EAAgBxT,UAAUwT,EAAgB5iB,MAC1C4E,EAAMic,KAAKzR,UAAUxK,EAAMic,KAAK7gB,MAE3B4E,EAAM2c,UACP3c,EAAMqd,OAfT,gDAkBDthB,QAAQmjB,MAAR,MACAlf,EAAMgd,aAAa,4BACnBhB,GAAe,GApBd,mEAXlB,SAsCH,eAACxa,EAAA,EAAD,CAAMpB,MAAOxB,GAAb,SACI,eAAC,GAAD,CAAiBoS,MAAM,GAAG5Q,MAAOhD,EAAjC,SACI,gBAAC0M,EAAD,CAAYoK,SAAU,SAACpH,GACnByR,EAAezR,EAAGqS,YAAYC,OAAOzhB,QACtCyC,MAAO,CAAChD,GAFX,UAGI,eAAC,OAAD,CAAMgD,MAAO,CAACR,GAAgB,CAAEZ,iBAAkB,EAAGa,eAAgBlB,IAArE,2DACA,eAAC,OAAD,CAAMyB,MAAO2S,GAAb,+CACA,eAACxB,GAAD,IACIjD,YAAY,kBAKZxT,MAAOkjB,EAAgB5iB,KAAK8iB,oBAC5BvM,MAAOmB,GAAiBxL,KAAI,SAACxM,GAAD,MAAY,CACpCoM,MAAOpM,EACPA,aAEA0Q,GAAWwS,EAAiB,sBAAuB,CACnD5S,SAAU,SAAC7P,GACP,OAAIA,EACOuX,GAAiBvX,EAAE8B,KAEvB,IAEXiO,OAAQ,SAAC/P,GACL,OAAO,IAAI6W,YAAUU,GAAiBT,WAAU,SAAA9W,GAAC,OAAIA,IAAMA,WAIvE,eAAC,OAAD,CAAM6E,MAAO2S,GAAb,iDACA,eAACR,GAAD,CACI8M,eAAgB,CACZnX,WAA0B,IAAdoW,GAEhBgB,IAAK,EACLpJ,IAAK,IACLqJ,KAAM,GACNC,aAA4B,GAAdlB,EACdmB,OAAQ,CAACzB,EAAgB5iB,KAAK+iB,yBAA2B,IACzDuB,eAAgB,SAACnkB,GACbyiB,EAAgBtT,OAAO,CACnByT,wBAAyB5iB,EAAE,QAKvC,gBAACiG,EAAA,EAAD,CAAMpB,MAAO,CAAE9C,cAAe,MAAOoE,eAAgB,gBAAiBrC,aAAc,IAApF,UACI,eAAC,OAAD,iCACA,eAAC,OAAD,mCAEJ,eAAC,OAAD,CAAMe,MAAO2S,GAAb,2CACA,eAACxB,GAAD,IACIzW,MAAOkjB,EAAgB5iB,KAAKgjB,UAC5B9P,YAAY,mBACZqD,MAAOoN,GACHvT,GAAWwS,EAAiB,YAAa,CACzC5S,SAAU,SAAC7P,GACP,OAAIA,EACOwjB,EAAQxjB,EAAE8B,KAAKvC,MAEnB,IAEXwQ,OAAQ,SAAC/P,GACL,OAAO,IAAI6W,YAAU2M,EAAQ1M,WAAU,SAAA9W,GAAC,OAAIA,IAAMA,WAI9D,eAAC,OAAD,CAAM6E,MAAO2S,GAAb,iDACA,eAACvR,EAAA,EAAD,UACI,eAAC,eAAD,CACI1G,MAAO0jB,GAAU,GACjBxT,aAAcyT,EACdnQ,YAAY,yBACZqR,UAAU,SACV7R,eACI,SAAC9N,GAAD,eAAW,eAAC,GAAD,CACPE,QAAS,kBAAM0e,EAAaJ,IAC5B9gB,OAAM,MAAGsC,GAAH,SAAGA,EAAOI,YAAV,EAAE,EAAuB1C,OAC/BC,MAAK,MAAGqC,GAAH,SAAGA,EAAOI,YAAV,EAAE,EAAuBzC,SAItC8N,SAAU,SAACyG,GAAD,OAAS0M,EAAaF,EAASxM,KAb7C,SAcQwM,EAASpX,KAAI,SAAC/L,EAAG0W,GAAJ,OAAU,eAAC,mBAAD,CAA0BjB,MAAOzV,GAAV0W,UAKtD+L,EAAgB5iB,KAAKijB,UAAU/W,KAAI,SAAC/L,EAAG0W,GAAJ,OAAU,gBAACzQ,EAAA,EAAD,CAAMpB,MAAO,CAAEvB,QAASF,EAAcrB,cAAe,OAArD,UACzC,eAAC,OAAD,CAAM8C,MAAO,CAAEX,UAAW,OAAQrC,KAAM,GAAxC,SAA8C7B,IAAS,eAAC0E,EAAA,EAAD,CAAWC,QAAS,WACvE,IAAM0f,EAAW,KAAO5B,EAAgB5iB,KAAKijB,WAC7CuB,EAAYC,OAAO5N,EAAG,GACtB+L,EAAgBtT,OAAO,CACnB2T,UAAWuB,KAJoC,SAMpD,eAAC,OAAD,CAAM1Z,KAAK,gBAAgB9F,MAAO,CAAE1C,OAAQ,GAAI+Z,YAAa,uBYpOxF,iBGlBgC,SAACzX,GAEjC,IAAMmJ,EAAczI,iBAAO,IAAI0I,KAASC,MAAM,IAAIxI,QAClD,EAAgChG,qBAAhC,WAAOilB,EAAP,KAAiBC,EAAjB,KACMC,EAActf,mBACpB,EAAwC7F,qBAAxC,WAAOolB,EAAP,KACMC,GADN,KACiB,oBAAA1kB,EAAAC,OAAA,sDACO,gBADP,WAAAD,EAAA,MAEP2kB,aAAiBC,EAAY,CAAE,WADjB,mBADP,OAGbC,cAAcL,EAAYnf,SAE1Bmf,EAAYnf,QAAUyf,aAAY,oBAAA9kB,EAAAC,OAAA,uDAC9BM,QAAQC,IAAI,OADkB,WAAAR,EAAA,MAEpBS,IAAaM,QAAQ,uBAFD,0CAG1BR,QAAQC,IAAI,uBAHc,KAI1B+jB,EAJ0B,WAAAvkB,EAAA,MAIRiN,OAAIwW,KAAKtW,WAAW4X,wBAJZ,iGAM/B,KAXU,8DAcjBvlB,qBAAU,WAEN,OADAiB,IAAaukB,WAAW,sBACjB,WACHH,cAAcL,EAAYnf,SAC1B5E,IAAaukB,WAAW,yBAE7B,IAGHxlB,qBAAU,WACNoO,KAASE,OACLH,EACA,CACII,MAAO,IACPC,QAAS,EACTpP,SAAU,IACVqP,iBAAiB,IAClBC,UACR,IACH,MAA8B7O,mBAAS,IAAvC,WAAOulB,EAAP,KAAmBK,EAAnB,KAcA,OAbAzlB,qBAAU,WACNyN,OAAIwW,KAAKtW,WAAW+X,2BAAsB9lB,GAAWsG,MAAK,YAAe,IAAZyf,EAAW,EAAXA,KACzDF,EAAQE,QAEb,CAACV,IAEJjlB,qBAAU,WACNyN,OAAIwW,KAAKtW,WAAW4X,uBAAuBrf,MAAK,SAAC6H,GAC7CgX,EAAYhX,QAEjB,IAGI,eAAC6F,GAAD,CACHY,YAAU,EACVC,QAAS,CACLS,MAAO,CACHrT,KAAM,4BACNqD,QAAS,WACLF,EAAMqd,UANf,SAWH,eAACjU,GAAA,EAAS5H,KAAV,CAAepB,MAAO,CAACxB,GAAU,CAAEiL,QAASV,IAA5C,SACI,gBAAC,GAAD,CAAiB6H,MAAO,GAAI5Q,MAAOhD,EAAnC,UACI,eAAC,OAAD,CAAMgD,MAAO,CAACR,IAAd,2CACA,eAAC,GAAD,CAAMQ,MAAO,CAAEvB,QAASF,GAAxB,SACI,eAAC,GAAD,UACI,eAAC,KAAD,QAGR,eAAC,OAAD,CAAMyB,MAAO,CAAEP,eAAgBlB,GAA/B,wEACA,eAACoS,GAAD,CAAS3Q,MAAOhD,EAAM4T,MAAM,gBAAgBG,OAAQ,SAACnR,GAAD,OAAmB,MAAR8f,KAAUlY,OAAS,eAAC,GAAD,CAC9E1H,QAAS,WACLggB,KAEJxiB,OAAQsC,EAAMtC,OACdC,MAAOqC,EAAMrC,QACZ,eAAC,GAAD,CACDuC,QAAS,kBAAMggB,KACfxiB,OAAQsC,EAAMtC,OACdC,MAAOqC,EAAMrC,SATjB,SAWI,eAAC6c,GAAD,CAAOzF,YAAoB,MAAR+K,OAAA,EAAAA,EAAUxY,KAAI,SAAA9L,GAAC,OAAIA,EAAEuL,MAAI8K,KAAK,OAAQ,OAAQ4I,QAAS,CAAC,CAAEhN,MAAO,cAAeuN,MAAO,QAAU,CAAEvN,MAAO,iBAAkBuN,MAAO,SAAW5f,KAAM0kB,EAAUxI,cAAc,0CHjE/M,aTbG,SAAqBtX,GAA4B,IAAD,EAE3C8J,EAAeZ,KAAfY,WAAR,EACwCjP,mBAAQ,SAACmF,EAAMic,KAAK7gB,KAAKwlB,OAAO9O,MAAK,SAAApB,GAAC,MAAmB,YAAfA,EAAEmQ,kBAApC,EAAC,EAA4DC,kBAD7G,WACKC,EADL,KACoBC,EADpB,KAQMC,EDJH,WACH,IAAMC,EAAQxgB,iBAAeygB,KAAKC,MAC9BC,EAAkB3gB,mBAEhB4gB,EAAWhmB,uBAAY,8BAAAE,EAAAC,OAAA,kEAAAD,EAAA,MACnBS,IAAaukB,WAAW,sBADL,cAEnBe,EAAalL,KAAKmL,SAASnG,WAAWoG,UAAU,EAAG,KACnDC,EAAU,IAAI9N,IAvBV,2CAwBF+N,aAAaC,OAAO,gBAAiB,QAC7CF,EAAQC,aAAaC,OAAO,YA7BnB,sCA8BTF,EAAQC,aAAaC,OAAO,eA5BjB,uCA6BXF,EAAQC,aAAaC,OAAO,QAASV,EAAMrgB,SAC3C6gB,EAAQC,aAAaC,OAAO,QAAS,yBACrCF,EAAQC,aAAaC,OAAO,iBAAkBL,GAC9CG,EAAQC,aAAaC,OAAO,wBAAyB,SAV5B,YAAApmB,EAAA,MAYA2kB,aAAiBuB,EAAQrG,aAZzB,kCAAA7f,EAAA,MAcN,IAAIqmB,SAAgB,SAACC,EAAIC,GAGxC1B,cAAcgB,EAAgBxgB,SAC9BwgB,EAAgBxgB,QAASyf,aAAY,0BAAA9kB,EAAAC,OAAA,kEAAAD,EAAA,MACdS,IAAaM,QAAQ,sBADP,QAC3BylB,EAD2B,UAG7BF,EAAIE,GACR3B,cAAcgB,EAAgBxgB,UAJG,8DAMnC,SAxBmB,eAcnBmhB,EAdmB,mBAAAxmB,EAAA,MAmCXiN,OAAIwW,KAAKtW,WAAWsZ,kBAAkB,CAACpB,SA1D5C,UA0DqDmB,OAAME,UAAUX,KAnCrD,wGAoC1B,IAOH,OAJAvmB,qBAAU,WACN,OAAO,kBAAKqlB,cAAcgB,EAAgBxgB,YAC5C,IAEKygB,EC3CUa,GACjB,OAAO,eAACvT,GAAD,CACHY,YAAU,EACVC,QAASzP,EAAM2c,cAAW/hB,EAAY,CAKlCsV,MAAO,CACHrT,KAAM,qBACNqD,QAAS,kBAAMF,EAAMqd,UAT1B,SAaH,eAACvT,EAAD,CAAY1J,MAAO,CAACxB,GAAU,CAAC+C,aAAa,WAA5C,SACI,gBAAC,GAAD,CAAiBqP,MAAM,eAAvB,UACI,eAAC,OAAD,CAAM5Q,MAAOR,GAAb,6EACA,gBAAC4B,EAAA,EAAD,CAAMpB,MAAO,CAAE9C,cAAe,MAAO0B,iBAAkBL,EAAYU,aAAcV,GAAjF,UACI,eAAC,GAAD,CACIqS,MAAO+P,EACP3Z,KAAM7H,GAAO0E,YACb/D,QAAS,WACL+gB,IAAW/f,MAAK,SAAC8F,GACbga,EAAiBha,OAGzB8M,SAAUnV,IAEd,eAAC,GAAD,CAAcqS,MAAM,GAAG5J,KAAM7H,GAAO4E,YAAa2P,SAAUnV,OAE/D,gBAAC6C,EAAA,EAAD,CAAMpB,MAAO,CAAE9C,cAAe,MAAO0B,iBAAkBL,EAAYU,aAAcV,GAAjF,UACI,eAAC,GAAD,CAAcqS,MAAM,GAAG5J,KAAM7H,GAAO6E,aAChC0P,SAAUnV,EACV4U,aAAc6O,KAElB,eAAC,GAAD,CAAcpR,MAAM,GAAG5J,KAAM7H,GAAO8E,YAChCyP,SAAUnV,OAIlB,eAAC,OAAD,CAAMyB,MAAOR,GAAb,oFSpCZ,kBR1B8B,SAACI,GAC/B,IAAMmJ,EAAczI,iBAAO,IAAI0I,KAASC,MAAM,IAAIxI,QAClD,EAAuCxG,EAAQ,aAArBM,GAA1B,EAAQG,MAAR,EAA0BH,UAY1B,OAXAK,qBAAU,WACNoO,KAASE,OACLH,EACA,CACII,MAAO,IACPC,QAAS,EACTpP,SAAU,IACVqP,iBAAiB,IAClBC,UACR,IAEI,eAACkF,GAAD,CACHa,QAAS,CACLS,MAAO,CACHrT,KAAM,sBACNqD,QAAS,WACLvF,GAAS,GACTqF,EAAMmH,WAAWzB,SAAS,WANnC,SAYH,eAAC0D,GAAA,EAAS5H,KAAV,CAAepB,MAAO,CAAEyJ,QAASV,EAAatK,QAASyR,IAAvD,SACI,gBAAC,GAAD,CAAiBU,MAAM,GAAvB,UACI,eAAC,OAAD,CAAM5Q,MAAO,CAACR,IAAd,2CACA,eAAC,GAAD,CAAe+F,OAAQ3F,EAAMic,KAAK7gB,KAAK2L,GAAIjB,WAAW,GAAGxH,KAAMK,GAAa8G,UAAQ,IACpF,eAAC,OAAD,CAAMrF,MAAO,CAACR,IAAd,wGQgBH0Q,GAAa3R,EAQpB0jB,GAAa1mB,OAAOC,KAAKigB,IAkBhB,gBAAC7b,GAEZ,IAEMyG,EAAYF,KAAZE,QACO6b,EAAgBjoB,EAAQ,eAA/BS,MAHN,EASoCD,mBAAS,GAT7C,WASK0nB,EATL,KASkBC,EATlB,KAUIvG,EAAO9R,GAA4B1D,GAAW,CAC1CK,YAAa,GACboV,WAAY,GACZC,UAAW,GACXnV,OAAQ,GACRwH,MAAO,GACPiU,IAAK,GACL7B,OAAQ,GACR3Z,aAAc,GACdF,GAAI,GACJ2b,KAAM,KAEVC,EAAQC,eAERC,EAAgB,EAChBN,EAAc,GAAKD,IACnBO,EAAgB,EACZpc,IACAoc,EAAgB,IAGxBA,EAAgBxM,KAAKH,IAAIqM,EAAaM,GAEtClW,2BAAgB,WACTlG,GACCwV,EAAKzR,UAAU/D,KACpB,CAACA,IACJ,IAAMqc,EAAU,CACZ7G,OACA9U,WAAYnH,EAAMmH,WAClB6V,aAAe,SAAC+F,EAAaxZ,GACzBoZ,EAAMK,KAAKD,EAAK,CACZ3oB,SAAUmP,EACVoW,UAAW,SAGnB6C,iBACA7F,UAAU,EACVU,KAAM,WAAyB,IAAxBzV,EAAuB,uDAAN,EACpB4a,EAAeK,EAAgBjb,IAEnCmW,eAAgB,SAAC7X,GACb,IAAMsB,EAAQ6a,GAAWhQ,WAAU,SAACvW,GAAD,OAAOA,IAAMoK,KAChDnK,QAAQC,IAAI,sBAAwBwL,GACpCgb,EAAehb,IAEnByb,KAAM,WACFT,EAAenM,KAAKH,IAAI2M,EAAgB,EAAG,MAInD,OADA9mB,QAAQC,IAAI,iCAAmC6mB,GACxC,eAAC,UAAD,CACHziB,MAAO,CACHtB,gBAAiB,QACjB8H,SAAU,EACV2I,UAAW,QAEf2T,cAAc,EACdnR,cAAe8Q,EACfM,eAAgB,CACZzlB,OAAQ,GAEZ0lB,YAAa,CACT1lB,OAAQ,EACRmB,QAAS,GAEbwkB,oBAAqB,SAAC7b,GAAD,OAAWA,IAAUqb,GAfvC,SAoBFR,GAAW/a,KAAI,SAAC/L,EAAG0W,GAChB,IAAMqR,EAASzH,GAAQwG,GAAWpQ,IAClC,OAAO,eAAC,MAAD,UACH,eAACqR,EAAD,MAAYR,YA+DrB,SAAShH,GAAcgH,EAA6BS,GACvD,IAAMrY,EAASrQ,mBAASioB,EAAQnG,WAAY,GACtCX,EAAiB9Q,EAAO,GAQ9B,OAPAlQ,qBAAU,WACN,GAAI8nB,EAAQnG,SAAU,CAClB,IAAM6G,EAAkB7S,QAAO,MAAC4S,OAAD,EAACA,EAAezR,MAAK,SAAC2R,GAAD,OAAOA,EAAEnZ,eAC7D0R,IAAiBwH,GAAmBV,EAAQ7G,KAAK3R,gBAEtD,CAACwY,EAAQnG,SAAUmG,EAAQ7G,KAAK3R,WAAYiZ,IAExCrY,E,4lBIhPJ,SAASwY,GAAS1jB,GACvB,OAAO,eAAC,GAAD,SAAUA,GAAV,IAAiBI,MAAO,CAACJ,EAAMI,MAAO,CAAEujB,WAAY,kBCI9C,SAASC,GAAT,GAAqD,IAA3BC,EAA0B,EAA1BA,KACvC,OACE,gBAAC,GAAD,WACE,gBAAC,GAAD,CAAMzjB,MAAO0jB,GAAOC,oBAApB,UACE,eAAC,GAAD,CACE3jB,MAAO0jB,GAAOE,eACd3J,WAAW,kBACXC,UAAU,wBAHZ,+CAOA,eAAC,GAAD,CACEla,MAAO,CAAC0jB,GAAOG,uBAAwBH,GAAOI,oBAC9C5J,UAAU,yBACVD,WAAW,mBAHb,SAIE,eAACqJ,GAAD,UAAWG,MAGb,eAAC,GAAD,CACEzjB,MAAO0jB,GAAOE,eACd3J,WAAW,kBACXC,UAAU,wBAHZ,+FAQF,eAAC,GAAD,CAAMla,MAAO0jB,GAAOK,cAApB,SACE,eAACC,GAAA,EAAD,CAAkBlkB,QAASmkB,GAAiBjkB,MAAO0jB,GAAOQ,SAA1D,SACE,eAAC,GAAD,CAAMlkB,MAAO0jB,GAAOS,aAAclK,WAAYD,EAAOxd,MAAMG,KAA3D,2FASV,SAASsnB,KACPG,KACE,0FAIJ,IAAMV,GAASW,KAAWC,OAAO,CAC/BX,oBAAqB,CACnBniB,WAAY,SACZ5C,iBAAkB,IAEpBklB,mBAAoB,CAClBrkB,eAAgB,GAElBokB,uBAAwB,CACtB7kB,aAAc,EACdkS,kBAAmB,GAErB0S,eAAgB,CACdvlB,SAAU,GACVkB,WAAY,GACZF,UAAW,UAEb0kB,cAAe,CACbtd,UAAW,GACX7H,iBAAkB,GAClB4C,WAAY,UAEd0iB,SAAU,CACRrlB,gBAAiB,IAEnBslB,aAAc,CACZ9kB,UAAW,YCtEA,SAASklB,KACtB,OACE,gBAAC,GAAD,CAAMvkB,MAAO0jB,GAAOc,UAApB,UACE,eAAC,GAAD,CAAMxkB,MAAO0jB,GAAO9S,MAApB,mBACA,eAAC,GAAD,CAAM5Q,MAAO0jB,GAAOe,UAAWxK,WAAW,OAAOC,UAAU,0BAC3D,eAACsJ,GAAD,CAAgBC,KAAK,6BAGrB,eAACiB,EAAA,EAAD,CAAW1kB,MAAuB,QAAhBiT,KAASC,GAAe,QAAU,YAK1D,IAAMwQ,GAASW,KAAWC,OAAO,CAC/BE,UAAW,CACTxnB,KAAM,EACNwE,WAAY,SACZF,eAAgB,UAElBsP,MAAO,CACLvS,SAAU,GACVC,WAAY,QAEdmmB,UAAW,CACThlB,eAAgB,GAChBnC,OAAQ,EACRC,MAAO,SC3BI,SAASonB,GAAT,GAA2E,IAAjD5d,EAAgD,EAAhDA,WACvC,OACE,gBAAC,GAAD,CAAM/G,MAAO0jB,GAAOc,UAApB,UACE,eAAC,GAAD,CAAMxkB,MAAO0jB,GAAO9S,MAApB,wCACA,eAACoT,GAAA,EAAD,CAAkBlkB,QAAS,kBAAMiH,EAAWwH,QAAQ,SAASvO,MAAO0jB,GAAOnD,KAA3E,SACE,eAAC,GAAD,CAAMvgB,MAAO0jB,GAAOkB,SAApB,qCAMR,IAAMlB,GAASW,KAAWC,OAAO,CAC/BE,UAAW,CACTxnB,KAAM,EACNwE,WAAY,SACZF,eAAgB,SAChB7C,QAAS,IAEXmS,MAAO,CACLvS,SAAU,GACVC,WAAY,QAEdiiB,KAAM,CACJ9Z,UAAW,GACX5H,gBAAiB,IAEnB+lB,SAAU,CACRvmB,SAAU,GACVF,MAAO,aC3BI,SAAS0mB,GAAT,GAAoE,EAA5C9d,WACrC,OACE,eAAC,GAAD,CAAM/G,MAAO0jB,GAAOc,UAApB,SACE,eAAC,GAAD,CAAMxkB,MAAO0jB,GAAO9S,MAApB,iCAON,IAAM8S,GAASW,KAAWC,OAAO,CAC/BE,UAAW,CACTxnB,KAAM,EACNwE,WAAY,SACZF,eAAgB,UAElBsP,MAAO,CACLvS,SAAU,GACVC,WAAY,QAEdmmB,UAAW,CACThlB,eAAgB,GAChBnC,OAAQ,EACRC,MAAO,S,qkBCjBJ,IAAMunB,GAAe,SAACllB,GACzB,OAAO,gBAACwB,EAAA,EAAD,CAAMpB,MAAO,CAAE9C,cAAe,MAAOoE,eAAgB,iBAArD,UACH,eAACsK,GAAD,OAAiB5L,MAAO,CAAEwF,UAAW,SAAUjI,MAAO,QAC9CqC,EAAMmlB,oBADd,iCAQA,eAACrZ,GAAD,OAqCI1L,MAAO,CAAEwF,UAAW,SAAUjI,MAAO,QACjCqC,EAAMolB,YAtCd,8BCyEO,IA5DAX,KAAWC,OAAO,CAC7BW,IAAK,CACD3nB,OAAQ,IACRkE,WAAY,SACZF,eAAgB,YAwDT,YAA0D,IAAvDyF,EAAsD,EAAtDA,WACRme,EAAU5kB,mBAAV,EACkC7F,mBAAS,GAD3C,WACDkX,EADC,KACcwT,EADd,KAGNvqB,qBAAU,WAEN,OAAO,kBAAMqlB,cAAciF,EAAQzkB,YACpC,IAMC,IAAA2kB,EAAU9kB,iBAAmB,MAC7B+kB,EAAU/kB,iBAAmB,MAD7B,EAE0B7F,mBAAiB,IAF3C,WAEC4hB,EAFD,KAEWiJ,EAFX,OAG0B7qB,mBAAiB,IAH3C,WAGC+V,EAHD,KAGW+U,EAHX,OAI4B9qB,oBAAS,GAJrC,wBAO4BA,oBAAS,IAPrC,WAOY+qB,GAPZ,WAQA5F,EAActf,mBACdyI,EAAczI,iBAAO,IAAI0I,KAASC,MAAM,IAAIxI,QAC5C8hB,EAAQC,eAVR,EAW8Crc,KAA5CE,EAXF,EAWEA,QAASgX,EAXX,EAWWA,OAAmB6E,GAX9B,EAWmBtoB,UAXnB,EAW8BsoB,aACrBroB,EAAcI,EAAQ,aAA7BS,MAGN6R,2BAAgB,YAERlG,GAAW6b,KACN7b,GAAYxM,EAIbkN,EAAWzB,SAAS,QAHpByB,EAAWzB,SAAS,aAQ7B,CAACe,EAAS6b,IACb,IAAMjG,EAASC,cAEf,OAAO,2CAAG,gBAAC9a,EAAA,EAAD,CAAMpB,MAAK,eAAMxB,IAAN,CAAgB,CAAE8C,eAAgB,SAAU5C,gBAAiB,WAAxE,UACN,eAACmE,GAAD,CAAU7C,MAAO,CAAEP,eAAgBlB,EAAYiH,UAAW,SAAUjI,MAAO,OAAQ8Z,YAAa,KAChG,gBAAC,UAAD,CACI1F,cAAeA,EACftG,SAAU,SAAAjE,GAGN+d,EAAiBM,MAAMre,GAAS,EAAIA,IAExCpH,MAAO,CAAEzC,MAAO,QAChBwlB,eAAgB,CACZzlB,OAAQ,GAEZ0lB,YAAa,CACT1lB,OAAQ,GAZhB,UAeI,eAAC,MAAD,UACI,eAACyF,GAAD,CACIvC,QAAS,SAAC2G,GACN,GAAoB,QAAhB8L,KAASC,IAAgB/L,aAAgBue,eAAgB,CACzD,IAAMC,EAAS,CAAC,KAAM,OAAQ,OAAQ,MAAO,QAAS,QAAQze,KAAI,SAAC0e,GAAD,OAAOze,EAAK0e,cAAL,OAAuCD,EAAvC,QACzED,EAAOlqB,SAAQ,SAAC2c,GACRA,IACAA,EAAEpY,MAAMyJ,QAAU,QAG1B,IAAIqc,EAA+B,KAC/BC,EAAgC,KACpCpqB,QAAQC,IAAI,wBACRgkB,EAAYnf,SACZwf,cAAcL,EAAYnf,SAE9Bmf,EAAYnf,QAAUyf,aAAY,WAC9B,IAAM9Y,EAAQ6O,KAAK+P,MAAuB,EAAjB/P,KAAKmL,UACxB6E,EAAShQ,KAAK+P,MAAuB,EAAjB/P,KAAKmL,UAE3B0E,IACAA,EAAS9lB,MAAMyJ,QAAU,KAEzBsc,IACAA,EAAU/lB,MAAMyJ,QAAU,KAG9Bqc,EAAWH,EAAOve,GAClB2e,EAAYJ,EAAOM,GACfH,IACAA,EAAS9lB,MAAMyJ,QAAU,KACzBsc,IACAA,EAAU/lB,MAAMyJ,QAAU,OAC/B,WAKnB,eAAC,MAAD,UACI,gBAACkH,GAAD,CAASC,MAAM,QAAf,UACI,eAAChE,GAAD,CAAWsB,YAAY,WAAWD,cAAc,OAC5CrD,aAAc,SAAC9E,GAAD,OAAUwf,EAAYxf,IAEpCqH,aAAciY,EACdplB,MAAO,CAAEP,eAAgBlB,KAQ7B,eAACqO,GAAD,CAIIhC,aAAc,SAACwF,GAAD,OAAUmV,EAAYnV,IACpClC,YAAY,WACZlO,MAAO,CAAEP,eAAgBlB,GAGzByP,iBAAe,EAACb,aAAckY,IAClC,eAAC1lB,GAAD,CAAMK,MAAO,CAAEyP,WAAY,EAAGC,cAAe,GAAIlK,UAAW,YAAc1F,QAAS,kBAAM0lB,GAAa,IAAtG,sCAIZ,gBAACxc,GAAA,EAASjJ,KAAV,CAAeC,MAAO,CAACZ,GAAY,CAC/BqK,QAAUkI,EAAoB5I,EAAJ,IAD9B,cAEO4I,EAAyC,uBAAzB,0BACvB,eAAC,GAAD,CACIoT,mBAAoB,CAChBjlB,QAAS,WACLmc,EAAO,aAKf+I,WAAY,CACRllB,QAAS,oBAAA1E,EAAAC,OAAA,mDACAsW,EADA,gBAEDwT,EAAiB,GACjBnc,KAASE,OACLH,EACA,CACII,MAAO,IACPC,QAAS,EACTpP,SAAU,IACVqP,iBAAiB,IAClBC,QAVN,kDAAAlO,EAAA,MAcSiiB,EAAOhB,EAAU7L,IAd1B,yDAiBG+R,EAAMK,KAAK,KAAGtO,SAjBjB,yEAyBf3C,GAAiB,gBAAChS,GAAD,CAAMK,MAAO,CAAEX,UAAW,QAASoa,SAAU,WAAYC,OAAQnb,EAAYuR,MAAOvR,EAAYF,SAAUV,EAAMI,MAAOwB,WAA0B,IAAd5B,EAAMI,OAAzI,gCAA4K,aCnMxLmoB,GA1BsB,CACnCC,SAAU,C,OAACC,EAAkB,MAC7BC,OAAQ,CACN5K,QAAS,CACP6K,KAAM,QACNC,OAAQ,SACRC,KAAM,CACJ/K,QAAS,CACP6K,KAAM,CACJ7K,QAAU,WACR,IAAM3Q,EAAiC,GAIvC,OAHAvP,OAAOC,KAAKgI,IAAU0D,KAAI,SAACxL,GACzBoP,EAAOpP,GAAK,QAAUA,EAAEgjB,iBAEnB5T,EALC,MAUhB+R,KAAK,iBACL4J,MAAO,QACPC,SAAU,O,UCrDT,SAASC,GAAY/mB,GACxB,IAAMzB,EAAQyB,EAAMgnB,MAAQ7pB,EAAsBA,EAClD,OAAO,eAAC,SAAD,CAEHiD,MAAO,CAAC,CAAEhB,aAAc,GAAIN,gBAAiBP,EAAOW,YAAaX,EAAO0oB,YAAatoB,EAAa,EAAGjB,OAAQiB,EAAYuoB,UAAWvoB,GAAcqB,EAAMI,OAFrJ,SAIN,eAACD,GAAA,EAAD,CAAMuN,cAAe,EAAGtN,MAAO,CAAE7B,MAAO,SAAxC,SAAoDyB,EAAMkH,SAHlDlH,EAAMkH,OCJZ,SAASigB,GAAWnnB,GACvB,OAAO,eAAC+F,GAAA,EAAD,CAAOC,OAAQhG,EAAMonB,WAAYC,WAAW,UAAUjnB,MAAO,CAAE,CAAC1C,OAAO,IAAKsC,EAAMI,SCFtF,IAAMknB,GAAiB,SAACtnB,GAC3B,MAAoCnF,oBAAS,GAA7C,WAAO0sB,EAAP,KAAmBC,EAAnB,KACQtnB,EAAsBF,EAAtBE,QAASG,EAAaL,EAAbK,SACjB,OAAO,eAACJ,EAAA,EAAD,CAAWsM,SAAUgb,EAAYrnB,QAAS,oBAAA1E,EAAAC,OAAA,mDAC7C+rB,GAAc,IAEVtnB,EAHyC,kCAAA1E,EAAA,MAInC0E,KAJmC,OAM7CsnB,GAAc,GAN+B,6DAA1C,SAQHnnB,KCVKonB,GAAW,SAACznB,GACrB,OAAO,eAACwB,EAAA,EAAD,CAAMpB,MAAOJ,EAAMI,MAAnB,SAA0B,yBAM7B8F,KAAK,YAAYwhB,UAAU,KAC3BC,IAAK3nB,EAAM4nB,MAAQ5nB,EAAMK,cAAWzF,EACpCitB,OAAS7nB,EAAM4nB,WAAyBhtB,EAAjBoF,EAAMK,SAC7BD,MAAO,CAAEyZ,SAAU,WAAYE,IAAK,EAAGD,OAAQ,EAAGpc,OAAQ,OAAQC,MAAO,OAAQwB,YAAa,QCgBhG2oB,GAA0BnpB,EAC1BopB,GAA4BppB,EAC5BqpB,GAAcrpB,EAEPspB,GAAcF,GADH,EACiDC,GAuD5DE,GAAkB,SAACC,EAAyCC,GACrE,IAAM9pB,EAAI,MAAI6pB,OAAJ,EAAIA,EAA4CE,QAAQ/pB,KAClE,MAA8B,cAAvB,MAAH6pB,OAAA,EAAAA,EAAKE,QAAQC,UACN,IAEFhqB,EACE8pB,EAAc9pB,EAAKmZ,aAAyC,WAAvB,MAAH0Q,OAAA,EAAAA,EAAKE,QAAQC,UAAuB,GAAKF,EAAcD,EAAIE,QAAQ/pB,KAAKiqB,SAAW,GAE7F,aAAvB,MAAHJ,OAAA,EAAAA,EAAKE,QAAQC,UACXF,GAAe,IAAM,KAEG,aAAvB,MAAHD,OAAA,EAAAA,EAAKE,QAAQC,UACXF,GAAe,IAAM,KAGrB,KAGFI,GAAqB,SAACL,EAAyCC,GACxE,aAAQD,OAAR,EAAQA,EAAKE,QAAQC,UACjB,IAAK,UACD,OAAOH,EAAIE,QAAQI,QAAQ9Z,QAAQ,mCAAoC,4BAC3E,IAAK,QACD,MAAM,0KAA2KwZ,EAAIE,QAAQ/pB,KAAKiqB,SAAlM,uBAAiOH,EAAcD,EAAIE,QAAQ/pB,KAAKiqB,SAAhQ,gDACEJ,EAAIE,QAAQK,QAAQC,SADtB,+BAGJ,IAAK,UACD,IAAMC,EAAU,aAAaC,KAAKV,EAAIE,QAAQK,QAAQlV,MACtD,OAAc,MAAPoV,OAAA,EAAAA,EAAU,KAAM,GAC3B,QACI,OAAU,MAAHT,OAAA,EAAAA,EAAKE,QAAQK,QAAQC,WAAY,KAG7C,SAASG,GAAS9oB,GAA6C,IAAD,MACzD+oB,EAAS/oB,EAAT+oB,KAKR,EAAwCluB,mBAAS8V,QAAQoY,EAAKC,IAAIC,gBAAlE,WAAOC,EAAP,KAAqBC,EAArB,KACA,EAAkCtuB,mBAAS8V,QAAQoY,EAAKC,IAAII,aAA5D,WAAOC,EAAP,KAAkBC,EAAlB,KAgBA,EAAoCzuB,oBAAS,GAA7C,WAAO0uB,EAAP,KAAmBC,EAAnB,KACA,OAAO,eAAChoB,EAAA,EAAD,CAAMpB,MAAO,CAAEpB,iBAAkB+oB,GAA4B,EAAGloB,eAAgBioB,GAA0B,GAA1G,SACH,gBAACtmB,EAAA,EAAD,CACIpB,MAAO,CAAC7C,EAAQ,CAAEuB,gBAAiB,QAASM,aAAmC,EAArBT,GAAwBO,YAAa,OAAQC,YAAasqB,IADxH,UAEI,gBAACxpB,EAAA,EAAD,CACIC,QAAS,aAENE,MAAO,CAAC/C,EAAK,CAAEuE,WAAY,SAAUiE,SAAU,SAAU6jB,kBAAmB,OAAQC,kBAAmB,EAAG9qB,QAASF,EAAa,IAHvI,UAKQ,eAAC,GAAD,CAAegH,OAAQ3F,EAAM+oB,KAAKV,QAAQpM,KAAKlV,GAAIjB,YAAY,SAAA9F,EAAM+oB,KAAKC,IAAI/M,WAAf,IAAqBnV,cAAe,GAAIxI,KAAM,KAEjH,gBAACkD,EAAA,EAAD,CAAMpB,MAAO,CAAChD,EAAM,CAAE8K,WAAYvJ,IAAlC,UACI,eAACmS,GAAD,CAAWjU,KAAM,MAAO,SAAAmD,EAAM+oB,KAAKC,IAAI/M,WAAf,IAAqBjV,SAAU,kBAAmB5G,MAAO,CAAE7B,MAAO,QAASG,WAAY,UAC/G,eAAC8C,EAAA,EAAD,UACI,eAAC6N,GAAA,EAAD,CAAYC,qBAAmB,EAACsa,YAAU,EAA1C,SACI,eAACpoB,EAAA,EAAD,CAAMpB,MAAO/C,EAAb,WACM,SAAA2C,EAAM+oB,KAAKC,IAAI/M,WAAf,IAAqByG,OAAQ,CAAC,KAAM,OAAQ,SAASpb,KAAI,SAACuiB,EAAM5X,GAAP,OACvD,eAAC8U,GAAD,CAAaC,OAAK,EAAS9f,MAAO2iB,GAAV5X,eAK5C,gBAAC,GAAD,CACI/R,QAAS,0BAAA1E,EAAAC,OAAA,2EAAAD,EAAA,MAEkBiN,OAAIqhB,KAAKnhB,WAAWohB,cAAc,CACjDhjB,GAAI/G,EAAM+oB,KAAKiB,IACff,eAAgBC,KAJnB,OAEKe,EAFL,OAMDd,EAAgBxY,QAAQsZ,EAAKhB,gBAN5B,gDASDltB,QAAQmjB,MAAR,MATC,iEADb,WAaMgK,GAAgB,eAAC/B,GAAD,CAAYC,WAAYpjB,GAAcD,SAAU3D,MAAO,CAAE1C,OAAQ,GAAIC,MAAO,GAAIuK,WAAY,UAC7GghB,GAAgB,eAACzmB,GAAD,CAAgBrC,MAAO,CAAE1C,OAAQ,GAAIC,MAAO,GAAIuK,WAAY,OAAQ+e,YAAatoB,EAAe,WAGzH,eAAC6C,EAAA,EAAD,CAAMpB,MAAO,CAAEkR,kBAAmB0W,GAAc,GAAhD,SACI,eAAC,GAAD,CAAiBe,KAAMA,MAwCO,UAAhC/oB,EAAM+oB,KAAKV,QAAQC,UACjB,gBAAC9mB,EAAA,EAAD,CAAMpB,MAAO,CAAC/C,EAAK,CAAEuE,WAAY,SAAUiF,UAAW,OAAQ8I,eAAgB,OAAQC,eAAgB,IAAtG,UACK2Z,GAAc,eAAC/nB,EAAA,EAAD,CAAMpB,MAAO,CAAEyZ,SAAU,WAAY/a,gBAAiB,QAAS+K,QAAS,GAAKlM,MAAO,IAAK+B,OAAQ,OAAQqa,IAAK,GAAI/J,KAAM,EAAG5Q,aAAc,EAAG8Q,MAAO,EAAGrR,QAAS,GAA/J,SAAoK,eAACsB,GAAA,EAAD,CAAMC,MAAO,CAAEzC,MAAO,OAAQ8B,UAAW,SAAUlB,MAAO,SAA1D,wBACnL,eAAC,SAAD,CAAQ6B,MAAO,CAAE8H,WAAY,OAAQoJ,kBAAmB,GAAK4Y,WAAY,QAASrc,cAAe,SAAC7N,GAAD,OAAgB,eAAC0D,GAAD,CAAahG,OAAQ,GAAIC,MAAO,GAAIyC,MAAO,CAAE1C,OAAQ,GAAIC,MAAO,OAAjL,eACC,eAAC,SAAD,CACGyC,MAAO,CAAEkR,kBAAmB,GAC5BpR,QAAS,WACAmpB,GACDG,GAAc,GAClB/gB,OAAIqhB,KAAKnhB,WAAWwhB,WAAW,CAC3BpjB,GAAIgiB,EAAKiB,IACTZ,YAAaC,IACdnoB,MAAK,SAAC6H,GACDA,EAAEqgB,YACF/nB,YAAW,WACPmoB,GAAc,KACf,MACPF,EAAavgB,EAAEqgB,gBAGvBvb,cAAe,SAAC7N,GAAD,OAAgB,eAACqD,GAAD,CAAY3F,OAAQ,GAAIC,MAAO,GAAIyC,MAAO,CAAE1C,OAAQ,GAAIC,MAAO,GAAIkM,QAASwf,EAAY,EAAI,QAAYa,WAAY,QAhBtJ,SAiBOb,EAAY,IAAM,cAa9C,IAkBMe,GAAkB,SAACpqB,GACrB,MAAsCqqB,eAAvBjC,EAAf,EAAQzqB,MACJ2sB,GADJ,EAA4BC,MACXnC,EAAcH,IAE/B,OAAO,eAAC,GAAD,CAAU7nB,MAAO,CAAE1C,OAAQwqB,GAAgBloB,EAAM+oB,KAAMuB,IAC1D1C,MAAuC,YAAhC5nB,EAAM+oB,KAAKV,QAAQC,UAA0D,YAAhCtoB,EAAM+oB,KAAKV,QAAQC,SADpE,SAELE,GAAmBxoB,EAAM+oB,KAAMuB,MC7Q9B,SAASE,GAASxqB,GAErB,OAAO,eAAC2U,GAAD,CAEH+B,cAAe,SAAC/E,EAAOnK,EAAOgO,GAoB1B,MAlBkC,kBADrB,MAAG7D,OAAH,EAAGA,EAAQnK,IACqBgO,EAAUhO,GAgBnD,CAAEA,QAAOijB,OAAQjV,EAAUhO,EAAQ,GAAGijB,OAASjV,EAAUhO,EAAQ,GAAGI,OAAQA,OAAQ,KAK5FxM,KAAM4E,EAAM0qB,MACZvT,aAAc,SAAC5P,EAAMC,GAAP,MAAiC,kBAATD,EAAoB,cAAiBC,EAAQ,IAAMD,EAAKyiB,KAC9FlV,cAAe,EACfC,WAAY/U,EAAM+U,WAClBqC,WAAY,SAAC7P,GACT,MAAyB,kBAAdA,EAAKA,KACL,eAACpH,GAAA,EAAD,CAAMC,MAAO,CAAEX,UAAW,SAAUhB,SAAUV,EAAMI,OAApD,6BAGA,eAAC2qB,GAAD,CAAiDC,KAAMxhB,EAAKA,MAA7CA,EAAKC,MAAQ,IAAMD,EAAKA,KAAKyiB,MAG3D1S,cAAe,qBACfL,YAAa,SC7Cd,IA0BM0T,GAAW,SAAC3qB,GAMrB,IAAeooB,EAAgBiC,eAAvB1sB,MACAwa,EAAuCnY,EAAvCmY,WAAY9Q,EAA2BrH,EAA3BqH,eAAgB1B,EAAW3F,EAAX2F,OACpC,OAAO,eAAC6kB,GAAD,CAEHzV,WAAYoD,GAA0B,eACtCuS,MAAO,SAAOE,EAAUC,EAAMrV,GAAvB,iBAAAha,EAAAC,OAAA,kEAAAD,EAAA,MACkBiN,OAAIqhB,KAAKnhB,WAAWmiB,KAAK,CAC1CD,OACAxjB,eAAgBA,EAChB1B,SACAvK,KAAM+c,EAAa,CACf4S,MAAO5S,EAAW9S,MAAM,WACxBzK,KAPL,cACG8vB,EADH,QASGM,EATH,eASmBJ,GAAY,IAT/B,KASuCF,KACjC7uB,SAAQ,SAACssB,EAAK3gB,GACdgO,EAAUhO,KACXgO,EAAUhO,GAAS,CACfA,QACAijB,OAAQjjB,EAAQgO,EAAUhO,EAAQ,GAAGijB,OAASjV,EAAUhO,EAAQ,GAAGI,OAAS,EAC5EA,OAAQsgB,GAAgBC,EAAKC,EAAcH,SAfpD,kBAmBI+C,GAnBJ,8DAFF3jB,EAAiB4jB,OAAOxwB,KAAKC,OAAS,WCpCtCwwB,GAAa,SAAClrB,GAGpB,IAAD,QACIuF,EAAMC,cACN2lB,EAAc,WAAO,IAAD,EACtB,SAAInrB,EAAMic,OAAN,EAAYlV,IACZxB,EAAIG,SAAS,UAAW,CACpBC,OAAQ3F,EAAMic,KAAKlV,MAK/B,OAAO,eAACvF,EAAA,EAAD,CAAMpB,MAAOJ,EAAMI,MAAnB,SAA0B,gBAACoB,EAAA,EAAD,CAAMpB,MAAO,CAAE9C,cAAe,MAAOK,MAAO,OAAQ0B,aAAcV,GAAlE,UAC7B,eAAC,GAAD,CAAegH,QAAQ,SAAA3F,EAAMic,WAAN,IAAYlV,KAAM,GAAIjB,YAAY,SAAA9F,EAAMic,WAAN,IAAYnV,cAAe,GAAIxI,KAAMK,IAC9F,gBAAC6C,EAAA,EAAD,CAAMpB,MAAO,CAAChD,EAAM,CAAE8K,WAAYvJ,IAAlC,UACI,eAACsB,EAAA,EAAD,CAAWC,QAASirB,EAApB,SAAiC,eAAC,OAAD,CAAMhd,SAAU,KAAhB,kBAAuBnO,EAAMic,WAA7B,EAAuB,EAAYhV,iBACpE,eAAChH,EAAA,EAAD,CAAWC,QAASirB,EAApB,SAAiC,eAAC,OAAD,CAAMhd,SAAU,KAAhB,SAAuB,cAAMnO,EAAMic,WAAZ,EAAM,EAAYjV,qB,qkBCH/E,IAAMokB,GAAe,SAACC,GACzB,MAAgCxwB,mBAAkC,IAAlE,WAAOywB,EAAP,KAAiBC,EAAjB,KACA,MAAO,CACHD,WACAE,OAAQ,CACJ/d,MAAO,SAAC6N,GACJ,OAAO,eAACrb,EAAA,EAAD,CAAWC,QAAS,YACnBob,EAAK/T,KAAKkkB,MAASJ,GACnBE,EAAY,SACLD,GADI,UAENhQ,EAAK9T,OAAS8jB,EAAShQ,EAAK9T,WAJlC,SAQH,eAAC,OAAD,CAAMpH,MAAO,CAAEyJ,QAAUyR,EAAK/T,KAAKkkB,OAASJ,EAAkB/P,EAAK/T,KAAKkkB,KAAO,EAAI,IAAQ,EAAG/tB,OAAQ,GAAIC,MAAO,IAAMuI,KAAOolB,EAAShQ,EAAK9T,OAA+B,gBAAtB,oBACjJkL,KAAMvV,OAEf+d,MAAO,IAAKvd,MAAO,MAM5B+tB,GAAe,SAAC1rB,GAClB,IAAMuF,EAAMC,cACZ,OAAO,eAACvF,EAAA,EAAD,CAAWC,QAAS,WACvBqF,EAAIG,SAAS,UAAW,CACpBimB,WAAY3rB,EAAM2rB,cAFnB,SAIH3rB,EAAMK,YAGDurB,GAAwB,SAACC,GAClC,MAA2CzjB,KAAnCjO,WAAc2O,EAAtB,EAAsBA,SAAUD,EAAhC,EAAgCA,KAChC,MAAO,CAAC,CACJ4E,MAAO,SAACjS,GAAD,OAAY,eAAC,GAAD,CAAcmwB,WAC5B,WAAO,IAAD,IACG7wB,EAAQ+wB,EAAWrwB,EAAE+L,MAC3B,MAAqB,kBAAVzM,GACA,SAAAgO,EAAShO,SAAT,IAAiBiM,MAAO,GAExB,SAAA8B,EAAK/N,SAAL,IAAaiM,MAAO,EALlC,GADc,SAQhB,eAAC,SAAD,CAAQ3G,MAAO,CAAE6mB,YAAatoB,GAC7BqH,OACK,WACG,IAAMlL,EAAQ+wB,EAAWrwB,EAAE+L,MAC3B,MAAqB,kBAAVzM,EACAgO,EAAShO,GAAS,CAAEmL,IAAK6C,EAAShO,GAAO8e,eAAahf,EAEtDiO,EAAK/N,GAAS,CAAEmL,IAAK4C,EAAK/N,GAAO8e,eAAahf,EAL5D,GAOL0D,KAAK,YACTsc,YAAa,CACTjd,MAAOgB,EACPsoB,YAAatoB,GAEjBuc,MAAO,IACPvd,MAAOgB,GAEX,CACIuc,MAAO,WACPF,MAAO,OACP5a,MAAO,CAAET,WAAYhB,GACrBvC,UAAW,SAACtB,EAAYR,EAAUiN,GAAe,IAAD,IACtChM,EAAIswB,EAAWtkB,GACrB,MAAiB,kBAANhM,GACA,SAAAuN,EAASvN,SAAT,IAAayN,SAAU,IAEvB,SAAAH,EAAKtN,SAAL,IAASyN,SAAU,OAM7B8iB,GAA0B,SAACT,GAEpC,MAA8BO,IAAsB,SAACrkB,GAAD,OAAUA,EAAKyB,UAAnE,WAAO+iB,EAAP,KAAkBC,EAAlB,KACA,EAA6BZ,GAAaC,GAAlCG,EAAR,EAAQA,OACR,MAAO,CACHF,SAFJ,EAAgBA,SAGZ7Q,QAAS,CACLsR,EACAC,EACA,CACI9Q,MAAO,QACP9e,UAAW,SAACZ,EAAGmb,EAAGjG,GAAO,IAAD,EACpB,gBAAIA,EAAEub,QAAF,EAASA,MACF7mB,GAAkBsL,EAAEub,MAAMA,OAG1B,MAGnB,CACI/Q,MAAO,OACP9e,UAAW,SAACZ,EAAGmb,EAAGjG,GAAO,IAAD,EACpB,OAAO,SAAAA,EAAEub,YAAF,IAASC,OAAQ,MAGhCV,KAQCW,GAAkB,SAACnsB,GAAoD,IAAD,IAC/E,EAAkCnF,qBAAlC,WAAOuxB,EAAP,KAAkBC,EAAlB,KACMC,EAAW,SAAGtsB,EAAMusB,QAAT,SAAG,EAAaC,aAAhB,EAAG,EAAqBF,YACzC,EAA4BzxB,oBAAS,GAArC,WAAO4xB,EAAP,KAAgBC,EAAhB,KACQjmB,EAAYF,KAAZE,QACR,EAA8BqlB,IAAiC,MAATM,OAAA,EAAAA,EAAWnQ,KAAK,GAAGlV,OAAnB,MAA0BN,OAA1B,EAA0BA,EAASM,KAAjFukB,EAAR,EAAQA,SAAU7Q,EAAlB,EAAkBA,QAEZkI,EAAQC,eAQd,OAPA5nB,qBAAU,WACFsxB,GACAzO,KAAa8O,IAAIL,GAAaprB,MAAK,SAAC0rB,GAChCF,EAASE,EAAEC,UACXR,EAAaO,QAEtB,CAACN,IACG,gBAAC9qB,EAAA,EAAD,CAAMpB,MAAOxB,GAAb,UACH,gBAAC,GAAD,CAAiBoS,OAAgB,MAATob,OAAA,EAAAA,EAAWlmB,OAAQ,GAAIiL,OAAQ,SAAC2b,GACpD,OAAgB,MAATV,OAAA,EAAAA,EAAWnQ,KAAK,GAAGlV,OAAnB,MAA0BN,OAA1B,EAA0BA,EAASM,IAAK,eAAC,GAAD,SAAgB+lB,GAAhB,IAAoB5sB,QAAS,WACxEF,EAAMmH,WAAWzB,SAAS,kBAAmB,CACzC4mB,YAAaA,QAEb,eAAC,GAAD,OACJzZ,WAAY4Z,GACRK,GAFA,IAGJ5sB,QAAS,WACDosB,IACA7jB,OAAIjG,UAAUmG,WAAWokB,cAAc,CACnChmB,GAAIulB,EACJO,UAAWJ,IAEfC,GAAS,SAAAM,GAAC,OAAKA,KACfrK,EAAMK,KAAK,yBAf3B,UAqBI,eAAC,GAAD,CAAY/G,KAAI,MAAEmQ,OAAF,EAAEA,EAAWnQ,KAAK,KAClC,eAAC9b,GAAA,EAAD,CAAMC,MAAO,CAAC,CAAEP,eAAgBlB,GAAgB,MAACytB,KAAWX,UAAgD7wB,EAAzC,CAAE2D,MAAO,OAAQwV,UAAW,WAA/F,UAAkI,MAATqY,OAAA,EAAAA,EAAWX,OAAQ,gBAEhJ,eAAC,GAAD,CAAiBza,MAAM,QAAvB,SACI,eAACwJ,GAAD,CACIpf,KAAI,MAAEgxB,OAAF,EAAEA,EAAWza,MACjB8I,QAASA,EACTmB,cAAe,SAACN,GACZ,OAAOgQ,EAAShQ,EAAK9T,QAAU4kB,EAC3B,eAAC,GAAD,CAAYX,KAAMnQ,EAAK/T,KAAKkkB,KAAMwB,aAAc,SAACxB,GAC7CnQ,EAAK/T,KAAKkkB,KAAOA,GAClByB,SAAkB,MAATd,OAAA,EAAAA,EAAWnQ,KAAK,GAAGlV,OAAnB,MAA0BN,OAA1B,EAA0BA,EAASM,IAAIomB,OAAQ7R,EAAK/T,KAAKyB,OAAQsjB,YAAaF,EAAUrlB,KAClG,UAMlB,eAAC,GAAD,CAAiBiK,MAAM,iBAIzBoc,GAAa,SAACptB,GAChB,MAA4BnF,oBAAUmF,EAAMyrB,MAAQzrB,EAAMktB,SAA1D,WAAOG,EAAP,KAAeC,EAAf,KACA,EAAwBzyB,mBAASmF,EAAMyrB,MAAvC,WAAOA,EAAP,KAAa8B,EAAb,KAEA,OAASvtB,EAAMktB,UAAaG,GAAU5B,EAClC,gBAACjqB,EAAA,EAAD,CAAMpB,MAAO,CAAE9C,cAAe,MAAOsE,WAAY,UAAjD,UAA6D,gBAACzB,GAAA,EAAD,WAAM,eAACA,GAAA,EAAD,CAAMC,MAAO,CAAE1B,WAAY,QAA3B,mBAAkD+sB,KAChHzrB,EAAMktB,SAAW,eAAC,GAAD,CACd9sB,MAAO,CAAE8H,WAAY,QACrBxK,OAAQ,GAAIC,MAAO,GAAIuC,QAAS,WAC5BotB,GAAU,SAKtB,gBAAC9rB,EAAA,EAAD,CAAMpB,MAAO,CAAC/C,EAAK,CAAEuE,WAAY,WAAjC,UAA8C,eAACoL,GAAD,CAAWsB,YAAY,aAAalO,MAAOhD,EAAMtC,MAAO2wB,EAAMzgB,aAAc,SAACgD,GACvHuf,EAAQvf,MACP,eAAC/N,EAAA,EAAD,CAAWC,QAAS,WACrBF,EAAMitB,aAAaxB,GAAQ,IAC3B6B,GAAU,IAFT,SAIH,eAAC,OAAD,CAAMpnB,KAAK,oBAAoBwM,KAAMvV,EAAmBiD,MAAO,CAC7D1C,OAAQ,GACRC,MAAO,YCtMZ,SAAS6vB,GAAiBxtB,GAC7B,IAAMuF,EAAMC,cAGNioB,EAA0CztB,EAAM0tB,OAGjC,CAAC,CAAEjgB,MAAO,OAAQyN,MAAO,OAAQF,MAAO,QAC7D,CACIvN,MAAO,OACPuN,MAAO,OACPE,MAAO,UACP9e,UAAW,SAAC6f,EAA8B3hB,EAAKiN,GAC3C,OAAO0U,EAAK,GAAGjV,UATwC,CAAC,CAAEyG,MAAO,OAAQyN,MAAO,OAAQF,MAAO,QACvG,CAAEvN,MAAO,aAAcyN,MAAO,SAC9B,CAAEzN,MAAO,iBAAkByN,MAAO,SAClC,CAAEzN,MAAO,SAST,EAA6B2d,GAAaprB,EAAM2tB,iBAAxCnC,EAAR,EAAQA,OAAQF,EAAhB,EAAgBA,SAChB,OAAO,eAAC,GAAD,CAAiBta,MAAOhR,EAAMgR,MAAOG,OAAQnR,EAAM4tB,cAAgB,SAACC,GAAD,OAAO,eAAC,GAAD,CAAWnwB,OAAQmwB,EAAEnwB,OAAQC,MAAOkwB,EAAElwB,MAAOuC,QAAS,WACnIqF,EAAIG,SAAS,4BACT9K,EAFD,SAGH,eAAC4f,GAAD,CACIlD,cAAetX,EAAM0tB,OAAS,uBAAyB,gBACvDjT,QAAO,UACAgT,EADA,CAEHjC,IAEJ9Q,WAAY,SAACnT,EAAM2K,GACf3M,EAAIG,SAAS,YAAa,CACtB4mB,YAAa/kB,EAAKR,MAG1B6U,cAAe,SAACN,GAAD,OAAUgQ,EAAShQ,EAAK9T,OAAS,gBAACrH,GAAA,EAAD,WAAM,eAACA,GAAA,EAAD,CAAMC,MAAO,CAAE1B,WAAY,QAA3B,uBAAsD4c,EAAK/T,KAAKkkB,QAAe,MACrIrwB,KAAM4E,EAAM8tB,e,qkBClCjB,SAASC,GAAgB/tB,GAK5B,IAAMuF,EAAMC,cACZ,OAAO,gBAAChE,EAAA,EAAD,CAAMpB,MAAO,CAAC,CAAE1C,OAAQ,SAAxB,UACH,eAAC8D,EAAA,EAAD,UACI,eAACgZ,GAAD,SAAWxa,EAAMguB,YAAjB,IAA6BvY,QAASzV,EAAMyV,aAEhD,eAAC1V,GAAD,CACIK,MAAO,CACH8H,WAAY,QAEhBhI,QAAS,WACLqF,EAAIG,SAAS,aAAc,CACvBsoB,WAAYhuB,EAAMguB,WAClBhd,MAAOhR,EAAMgR,SAPzB,yBAaD,SAASid,GAAoBjuB,GAAuF,IAAD,QACtH,OAAO,SAAAA,EAAMusB,QAAN,WAAaC,SAAb,EAAqBwB,WAAa,eAACxsB,EAAA,EAAD,CAAMpB,MAAOxB,GAAb,SAAuB,eAAC,GAAD,CAAiBoS,MAAOhR,EAAMusB,MAAMC,OAAOxb,MAA3C,SAAmD,eAACwJ,GAAD,eAAWxa,EAAMusB,QAAjB,SAAW,EAAaC,aAAxB,EAAW,EAAqBwB,iBAA0C,eAAC,OAAD,oBC/B1L,IAAME,GAAc,SAAmBluB,GAO1C,OAAO,eAAC,cAAD,CAAgBI,MAAO,CAAC,CAAEzC,MAAO,OAAQ0B,aAAcV,GAAcqB,EAAMI,OAA3E,SAECJ,EAAM2R,MAAMrK,KAAI,SAAC/L,EAAG2W,EAAKic,GACrB,OAAO,eAAC,SAAD,CAA8B/tB,MAAOJ,EAAMlF,QAAUS,EAAET,MAAQ,CAAEgE,gBAAiB,QAASnB,MAAO,IAAMwwB,EAAIvmB,OAAS,KAAQ,CAAC,CACjI9I,gBAAiB,OACf+K,QAAS,IAAMlM,MAAO,IAAMwwB,EAAIvmB,OAAS,KAC5C5H,EAAMouB,iBAAkBluB,QAAS,kBAAMF,EAAMquB,cAAc9yB,EAAET,QAHzD,SAGkES,EAAE2L,OAHvD,UAAYgL,S,qmBCiMhD,SAASoc,GAAiBC,EAAyBrY,EAAasY,GAC5D,MAAmB,kBAARD,EACCE,OAAOF,EAAIlpB,MAAM,KAAK,IAAM,IAAO6Q,EACpCqY,GAGAC,EAuCA,SAASE,GAAS1uB,GAiB7B,IAAM2uB,EAAW3uB,EAAM2uB,UAAY,IAC7BC,EAAa5uB,EAAM4uB,YAAc,EACjCC,EAAW7uB,EAAM6uB,UAAsB,EAAVxY,KAAKyY,GAClCC,EAAgB/uB,EAAM+uB,eAAkB,SAACxnB,GAAD,OAAUA,EAAKzM,OACvDk0B,EAAchvB,EAAMgvB,aAAe,MACnC/b,EAAOjT,EAAMiT,MAAS,SAACzX,EAAUmb,GAAX,OAAwBA,EAAE7b,MAAQU,EAAEV,OACxDM,EAAmF4E,EAAnF5E,KAAMgF,EAA6EJ,EAA7EI,MAAO6uB,EAAsEjvB,EAAtEivB,YAAaC,EAAyDlvB,EAAzDkvB,YAAa7uB,EAA4CL,EAA5CK,SAE/C,EAA4BxF,mBAAS,KAArC,WAAO6C,EAAP,KAAeyxB,EAAf,KACA,EAA0Bt0B,mBAAS,KAAnC,WAAO8C,EAAP,KAAcyxB,EAAd,KAiBA,GAAoB,IAAhBh0B,EAAKwM,OACL,OAAO,eAACpG,EAAA,EAAD,CAAMpB,MAAOA,IAGxB,IAAMivB,EAAYhZ,KAAKiJ,IAAI3hB,EAAOD,GAAU,EAExC2Y,KAAKiJ,IAAL,MAAAjJ,KAAI,KAAQjb,EAAKkM,KAAI,SAACgoB,EAAKrd,EAAGxH,GAAT,OAAeskB,EAAcO,EAAKrd,EAAGxH,QAAO,GACjE1O,QAAQmjB,MAAM,gEAGlB,IAAMqQ,EAAejB,GAAiBW,EAAaI,EAAWA,GACxDG,EAAelB,GAAiBU,EAAaK,EAAW,GACxDI,EAAenB,GAAiBY,EAAaG,EAAWE,IAEzDN,GAAe,GAAK,GAAKO,IAAiBP,GAAe,IAC1DlzB,QAAQwI,KAAK,uDAGjB,IAAMmrB,EAAOt0B,EAAKkM,KAAI,SAACC,GACnB,IAAMooB,EAAMhW,OAEPsV,YAAYM,GACZP,YAAYQ,GACZb,SAASA,GAgBd,OAZApnB,EAAKooB,KACDh0B,OAAOi0B,QAAQroB,EAAKooB,KAAK9zB,SAAQ,YAAmB,IAAD,WAAhBvB,EAAgB,KAAXQ,EAAW,KACH,oBAAjC60B,EAAIr1B,KACU,kBAAVQ,EACN60B,EAAIr1B,GAAkCm0B,OAAO3zB,EAAMuK,MAAM,KAAK,IAAM,IAAOkqB,GAE3EI,EAAIr1B,GAAiCQ,OAM/C60B,KAGLE,EAAYz0B,EAAKkM,KAAI,SAACC,EAAMC,GAC9B,OAAI0nB,EACOvV,OAEFsV,YAAYQ,GACZT,YAAYS,GACZd,SAASA,GAEXe,EAAKloB,MAGVsoB,EAAYnW,OAEb7e,OAAM,SAAC2P,EAAGwH,EAAG8d,GAAP,OAAchB,EAActkB,EAAGwH,EAAG8d,MACxC9c,KAAKA,GACL2b,WAAWA,GACXC,SAASA,EALIlV,CAKMve,GAElB40B,EAASF,EAAUxoB,KAAI,SAAC4P,EAAO1P,GAAR,UAAC,MACvB0P,GADsB,IAEzB+Y,YAAaP,EAAKloB,GAAO0oB,SAAShZ,GAClCiZ,cAAeN,EAAUroB,GAAO0oB,SAAShZ,QAGvCkZ,EAAa,CACfzyB,QACAD,SACAtC,OACA40B,UAGJ,OACI,eAACxuB,EAAA,EAAD,CAAM6uB,cAAe,WAAYjwB,MAAOA,EAAxC,SACI,eAACoB,EAAA,EAAD,CAAM6uB,cAAe,WAAYjwB,MAAO,CAAEhD,KAAM,GAAK8W,SA1F7D,SAAmBoc,GACf,MAIIA,EAHAnR,YACIC,OAAU1hB,EAFlB,EAEkBA,OAAQC,EAF1B,EAE0BA,MAI1BwxB,EAAUzxB,GACV0xB,EAASzxB,IAkFL,SACKD,EAAS,GAAKC,EAAQ,GACnB,eAAC,KAAD,CAAK0yB,cAA+B,YAAhBhd,KAASC,GAAmB,gBAAa1Y,EAAWwF,MAAO,CAAE1C,SAAQC,SAAzF,SAEI,gBAAE,KAAF,CAAI4yB,EAAG5yB,EAAQ,EAAG6yB,EAAG9yB,EAAS,EAA9B,UAEQ+yB,IAAMC,SAASppB,IAAIjH,GAAU,SAACswB,GAC1B,OAAIA,GAASA,EAAM3wB,MAAM4wB,WACdH,IAAMI,aAAaF,EAAOP,GAE9B,QAIXN,EAAUxoB,KAAI,SAAC4P,EAAO1P,GAClB,MAAgCpM,EAAKoM,GAA7BlN,EAAR,EAAQA,IAAK4F,EAAb,EAAaA,QAASF,EAAtB,EAAsBA,MACtB,OACI,eAAC,QAAD,OAEIE,QAASA,GACLF,GAHR,IAIIyK,EAAGilB,EAAKloB,GAAO0P,SAAUtc,IAHpBN,MAUjBm2B,IAAMC,SAASppB,IAAIjH,GAAU,SAACswB,GAC1B,OAAIA,IAAUA,EAAM3wB,MAAM4wB,WACfH,IAAMI,aAAaF,EAAOP,GAE9B,iBC1Y3C,IAAMh1B,GAAO,CAAC,EAAG,GAAI,EAAG,EAAG,GACpB,SAAS01B,GAAU9wB,GAA8B,IAAD,EACnD,OAAO,8CACFA,EAAMgwB,aADJ,EACF,EAAc1oB,KAAI,SAACmD,GAChB,OAAO,eAAC,QAAD,CAEH8lB,EAAG9lB,EAAE0lB,cAAc,GACnBK,EAAG/lB,EAAE0lB,cAAc,GACnBY,WAAY,SACZC,kBAAmB,SACnBvyB,SAAU,GACVwyB,OAAQ,QACRC,YAAa,GARV,SASFzmB,EAAErP,KAAKd,KARHmQ,EAAEjD,YAchB,SAAS2pB,KACZ,OAAO,eAACzC,GAAD,CAAUM,YAAa,EAAG5uB,MAAO,CAAEqX,YAAa,GAAK,GAAKrc,KAAMA,GAAKkM,KAAI,SAACxM,EAAOmX,GAAR,MAAe,CAAEnX,QAAOoF,QAAS,kBAAMkxB,KAAMC,MAAM,YAAcv2B,IAAQR,IAAI,OAAQ2X,EAAKjS,MAAO,CAAE0S,KAAMpT,GAAY2S,QAA9L,SACH,eAAC6e,GAAD,GAAe,Y,qkBCRvB,IAAMhN,GAAS,CACXwN,WAAY,CACR/yB,MAAO0c,GAAM,kBACbxb,UAAW,UAEf8xB,WAAY,CAER9xB,UAAW,SACXJ,aAAcV,I,qkBCdf,IAAM6yB,GAAwB,SAACxxB,GAAqD,IAAD,YAChFyxB,EAAc7Z,KACpB,EAAwB/c,mBAAS,IAAjC,WAAOqL,EAAP,KAAawrB,EAAb,KACA,EAAwB72B,qBAAxB,WAAO4wB,EAAP,KAAa8B,EAAb,KACA,EAAiC1yB,mBAAkB,UAAnD,WAAO2F,EAAP,KAAamxB,EAAb,KAEMrF,EAAW,SAAGtsB,EAAMusB,QAAT,SAAG,EAAaC,aAAhB,EAAG,EAAqBF,YAEzC,EAA0BzxB,oBAAS,GAAnC,WAAc+2B,GAAd,WACMjP,EAAQC,eA0Bd,OAzBA5nB,qBAAU,WACN,IAAM+P,EAAY0mB,EAAYxZ,gBAAgBpX,QAC1CyrB,GAAevhB,IACXuhB,EAAc,EACd7jB,OAAIjG,UAAUmqB,IAAIL,GAAaprB,MAAK,SAACkrB,GAEjCsF,EAAQtF,EAAUlmB,MAClByrB,EAAiBvF,EAAU5rB,MAC3B+sB,EAAQnB,EAAUX,MAClB,IAAM5T,EAAgB9M,EAAUqhB,EAAUza,MAAMrK,KAAI,SAACkR,GAAD,OAAOA,EAAExP,WAC7DyoB,EAAYzZ,uBAAuBH,MAIpCvW,OAAM,SAACC,GACNohB,EAAMK,KAAKzhB,EAAGmT,aAIlBgd,EAAQ,sBACRC,EAAiB,eAE1B,CAACrF,EAAa3b,QAAQ8gB,EAAYxZ,gBAAgBpX,WAG9C,gBAACW,EAAA,EAAD,CAAMpB,MAAOxB,GAAb,UACO,YAAT4B,GAEG,eAAC,GAAD,CAAiBwQ,OAAQ,SAAAhR,EAAMusB,QAAN,WAAaC,SAAb,EAAqBF,YAAc,OAAS,UAAY,aAAjF,SACI,gBAAC9qB,EAAA,EAAD,CAAMpB,MAAO,CAAE9C,cAAe,SAAUoC,OAAQf,GAAhD,UACI,eAAC,GAAD,CAAa7D,MAAO0F,EAAM6tB,cAAe,SAACvzB,GACtC62B,EAAiB72B,IAEjB6W,MAAO,CAAC,CAAEzK,MAAO,SAAUpM,MAAO,UAAY,CAAEoM,MAAO,UAAWpM,MAAO,cAE7E,eAACkS,GAAD,CAAWlS,MAAOoL,EAAM8E,aAAc,SAACzP,GAAD,OAAOm2B,EAAQn2B,GAAK,KAAK+S,YAAY,iBAAiBlO,MAAO,CAAEhD,KAAM,EAAGiC,aAAcV,KAC5H,eAACqO,GAAD,CAAWlS,MAAO2wB,EAAMzgB,aAAc,SAACzP,GAAD,OAAOgyB,EAAQhyB,GAAK,KAAK+S,YAAY,gBAAgBlO,MAAO,CAAEhD,KAAM,UAMtH,eAACwR,GAAD,CACIY,YAAU,EACVC,QAAS,CACLS,MAAO,CACHrT,KAAM,SAAAmD,EAAMusB,QAAN,WAAaC,SAAb,EAAqBF,YAAc,mBAAqB,mBAC9DpsB,QAAS,gCAAA1E,EAAAC,OAAA,oDACDyK,IAAQurB,EAAY1Z,mBAAmBlX,QADtC,uBAEK8Q,EAAQ8f,EAAY1Z,mBAAmBlX,QAAQ4wB,EAAY5Z,gBACvDjQ,OAAS,GAHlB,gBAIG+a,EAAMK,KAAK,uCAJd,0BAMS6O,EAAgB,CAClBlgB,MAAOA,EAAMrK,KAAI,SAAA2K,GAAC,MAAK,CACnBjJ,OAAQiJ,EAAEjJ,WAEd9C,KAAMA,EACNulB,OACAjrB,KAAMA,KAGN,SAAAR,EAAMusB,QAAN,WAAaC,SAAb,EAAqBF,aAAetsB,EAAMusB,MAAMC,OAAOF,YAAc,GAf5E,oCAAA9wB,EAAA,MAgBaiN,OAAIjG,UAAUkI,OAAO1K,EAAMusB,MAAMC,OAAOF,YAAauF,IAhBlE,mDAAAr2B,EAAA,MAkBaiN,OAAIjG,UAAUsb,OAAO+T,IAlBlC,QAoBG7xB,EAAMmH,WAAW0V,SApBpB,gCAwBD8F,EAAMK,KAAK,8BAxBV,gEALrB,SAkCI,eAAC,GAAD,CAAiB5iB,MAAO,CAAE1C,OAAQ,QAAUsT,MAAgB,YAATxQ,EAAqB,kBAAoB,uBAA5F,SACI,eAAC,GAAD,SAAqBixB,GAArB,IAAkCnZ,iBAAkB,WAChDvc,QAAQC,IAAI,+BACZ41B,GAAS,SAAAE,GAAC,OAAKA,iBCnGtBC,GAAa,SAAC/xB,GAAuG,IAAD,QACvH6gB,EAAQ,SAAG7gB,EAAMusB,QAAT,SAAG,EAAaC,aAAhB,EAAG,EAAqB3L,SAChCmB,EAAI,SAAGhiB,EAAMusB,QAAT,SAAG,EAAaC,aAAhB,EAAG,EAAqBxK,KAYlC,OAXAhnB,qBAAU,WAEW,YAAb6lB,GAA0BmB,EAC1B/lB,IAAaC,QAAb,QAA6B2kB,EAA7B,QAA8CmB,GAG5B,aAAbnB,GACL5kB,IAAaC,QAAb,QAA6B2kB,EAA7B,QAA8C,WAGnD,CAACA,EAAUmB,IACP,gBAAC,OAAD,yCAAkCnB,GAAY,uBCP5CmR,GAAoB,SAAChyB,GAC9B,MAAgCnF,mBAAS,IAAzC,qBAYA,OAAO,eAAC2G,EAAA,EAAD,CAAMpB,MAAO,CAAChD,EAAM,CAAE0B,gBAAiB,WAAvC,SACH,eAACsK,GAAA,EAAS5H,KAAV,CACIywB,yBAA0B,kBAAM,GAChCC,0BAA2B,kBAAM,GACjCC,iBAAkB,WACdp2B,QAAQC,IAAI,sBAEhBo2B,gBAAiB,SAACtlB,GACd/Q,QAAQC,IAAR,YAAwB8Q,EAAGqS,YAAYkT,MAAvC,IAAgDvlB,EAAGqS,YAAYmT,MAA/D,MAGJlyB,MAAO,CAAE1C,OAAQ,IAAKC,MAAO,IAAKmB,gBAAiB,a,qBCtBlDyzB,GAAmB5zB,GACnB6zB,GAAoB7zB,GACpB8zB,GAAkB9zB,EACzB+zB,GAAoB,CACtBh1B,OAAQ60B,GACR50B,MAAO40B,GACP1Y,SAAU,WACVza,aAAcmzB,GAAmB,EACjCzzB,gBAAiB,WACjBgb,OAAQ,GAGN6Y,GAAyB,CAC3Bj1B,OAAQ80B,GACR70B,MAAO60B,GACPpzB,aAAcozB,GAAoB,EAClC1zB,gBAAiB,WACjB+a,SAAU,WACV7J,KAAMrR,EACNmb,OAAQ,GASZ,IAAM8Y,GAAoB,GAAK,EACzBC,GAAuB,CACzB/zB,gBAAiB,YAAa2Y,YAAamb,GAAmBj1B,MAAO,OAAQiE,WAAY,SAAUF,eAAgB,YAKhH,SAASoxB,GAAiC9yB,GAO7C,IAAQ+yB,EAAyB/yB,EAAzB+yB,WAAYC,EAAahzB,EAAbgzB,SAEpB,OAAO,gBAACxxB,EAAA,EAAD,CAAMpB,MAAO,CAAEwB,WAAY,SAAUjE,MAAO,QAA5C,UACH,eAACsC,EAAA,EAAD,CAGIG,MAAO,CAACyyB,GAAW,CAAE/zB,gBAAiB3B,GAAqB61B,EAAW,CAAEnsB,UAAW4rB,GAAkB,GAAKzyB,EAAMizB,gBAAkB,SAAOr4B,IAFrI,cAaNo4B,GAAY,gBAACxxB,EAAA,EAAD,CAA2BpB,MAAO,CAAC/C,EAAK,CAAEM,MAAO,OAAQiI,UAAW,UAAWlI,OAAQ+0B,GAAiB3zB,gBAAiB,QAAS6C,aAAc,SAAUC,WAAY,WAAtK,UACV,gBAACzB,GAAA,EAAD,CAAMC,MAAO,CAAChD,EAAM,CAChBqC,UAAW,SAAU2U,UAAW,CAAC,CAC7B8e,YAAcX,GAAmB,MAFzC,yBAIkB,KAClB,eAAC/wB,EAAA,EAAD,CAAMpB,MAAO,CAAC/C,EAAKD,EAAM,CACrBsE,eAAgB,SAChBhE,OAAQiB,EACRyV,UAAW,CAAC,CACR8e,WAAYX,GAAmB,MAJvC,SAOI,eAAC,GAAD,CAAW3R,OAAQ5gB,EAAMmzB,gBAbT,kBAgBvBH,GAAY,eAACxxB,EAAA,EAAD,CAAyBpB,MAAO,CAAC,CAAEzC,MAAO,OAAQiI,UAAW,UAAWlI,OAAQ+0B,GAAiB3zB,gBAAiB,QAAS6C,aAAc,SAAUC,WAAY,WAA/J,SACT,eAACJ,EAAA,EAAD,CAAMpB,MAAO,CAAC/C,EAAK,CAAEK,OAAQ,OAAQkI,UAAW,WAAYqhB,YAAatoB,IAAzE,SACI,eAAC,GAAD,CAAWiiB,OAAQ5gB,EAAMmzB,eAFV,gBAKvB,eAACC,GAAD,CAAYL,WAAYA,EAAYC,SAAUA,EAAUK,SAAUrzB,EAAMqzB,SAAUC,UAAWtzB,EAAMszB,UAAWC,gBAAiBvzB,EAAMuzB,qBAI7I,IAAMC,GAAY,SAACxzB,GAEf,OAAO,qCACF,CAAC,UAAW,UAAW,WAAWsH,KAAI,SAACmsB,EAAUxhB,GAG9C,IAAMyhB,EAAOn0B,GAAOk0B,EAAW,QAC/B,OAAOzzB,EAAM4gB,OAAO9O,MAAK,SAACpB,GAAD,OAAOA,EAAEoO,gBAAkB2U,EAAS3U,iBAAiB,eAACtd,EAAA,EAAD,CAAMpB,MAAO,CAAE1C,OAAQ,OAAQ+Z,YAAa,GAA5C,SAC1E,eAACvE,GAAD,CAAiC9L,KAAMssB,EAAMhgB,SAAU,CAAEhW,OAAQ,OAAS0C,MAAO,CAAE1C,OAAQ,MAAOgC,OAAQ,QAAS+X,YAAa,IAAhI,UAA4BxF,UACtBrX,QAKtB,SAASw4B,GAAWpzB,GAChB,IAAQ+yB,EAAmC/yB,EAAnC+yB,WAAYC,EAAuBhzB,EAAvBgzB,SAAUK,EAAarzB,EAAbqzB,SACxBjzB,EAAQ4yB,EAAWL,GAAyBD,GAClD,OAAO,eAACzyB,EAAA,EAAD,CAAWsM,UAAW8mB,EAAUjzB,MAAOA,EAAvC,SAWF2yB,EAAa,eAAChtB,GAAA,EAAD,CAAOC,OAAQ,CAAEC,IAAK8sB,GAAc3yB,MAAO,CAACA,EAAqB,CAAE4P,KAAM,MACnF,eAACkD,GAAD,CACI9S,MAAO,CAAE1C,OAAQ,OAAQC,MAAO,OAAQqS,KAAM,QAC9C5I,KAAMusB,KACNpgB,aAAa,YCpG7B,IAKMqgB,GAAej1B,EAKd,SAASk1B,GAAc7zB,GAA4C,IAAD,UAC/D2F,EAAM,SAAG3F,EAAMusB,QAAT,SAAG,EAAaC,aAAhB,EAAG,EAAqB7mB,OAGpC,EAAwB9K,qBAAxB,WAAOohB,EAAP,KAAa6X,EAAb,OACkCj5B,qBADlC,WACKizB,EADL,KACiBiG,EADjB,KAGIC,EAAmBtzB,iBAAO,IAAI0I,KAASC,MAAM,IAAIxI,QAE/CozB,EAAM5J,eACN6J,EAAYxzB,iBAAiB,MAE/ByzB,EDdQ9J,eACD1sB,MAAQi1B,GAAoBH,GCcnC2B,EAAeD,EAvBF,GAGC,GAoB+CE,GAnBtD,GAmBkFT,GAEvFU,EAAWH,EAAe3B,GAE1B+B,EAAgBN,EAAIv2B,OAAS42B,EA1BjB,GA0B4CF,EAAeD,EAAe,GAC5F,EAAkCt5B,oBAAS,GAA3C,WAAO25B,EAAP,KAAkBC,EAAlB,KACA,EAA8B55B,oBAAS,GAAvC,WAAO65B,EAAP,KAAgBC,EAAhB,KACMC,EAAcZ,EAAiBa,YAAY,CAC7CC,WAAY,CAAC,EAAGR,GAChBS,YAAa,CAAC,GAAIT,GAClBU,YAAa,UAEXC,EAAUv0B,iBAAkB,IAAIG,QAEtC7F,qBAAU,WAON,OANA45B,EAAY3lB,aAAY,SAAC1T,GACrB,IAAMmV,EAAI2F,KAAK6e,IAAI35B,EAAET,MAAQw5B,GAAY/B,GAAmBC,GAAoB,EAC1EkC,GAAWn5B,EAAET,QAAUw5B,EAC7BG,EAAa/jB,GACbikB,EAAWD,MAER,kBAAME,EAAYO,wBAC1B,CAACP,EAAaN,IAEjB,MAAsBz5B,mBAAS,GAA/B,WAAOwqB,EAAP,KAAY+P,EAAZ,KAEMzS,EAAQC,eAuBd,OArBA5nB,qBAAU,WAEF2K,GACA,WAAC,cAAAnK,EAAAC,OAAA,2EAAAD,EAAA,MAEwCqmB,QAAQwT,IAAI,CACzC5sB,OAAIwW,KAAK0N,IAAIhnB,GACb8C,OAAIwW,KAAKtW,WAAW2sB,cAAc,CAAE3vB,OAAQA,OAJvD,2BAEcsW,EAFd,KAEoB6R,EAFpB,KAOOiG,EAAcjG,GACdgG,EAAQ7X,GARf,kDAWO0G,EAAMK,KAAK,KAAGtO,SAXrB,iEAAD,KAgBL,CAAC/O,IAEG,gBAACnE,EAAA,EAAD,CAAMpB,MAAO,CAAChD,GAAd,UACH,eAACgM,GAAA,EAASqN,SAAV,CACIrb,KAAM,CACF,eAACm6B,GAAD,CACIn1B,MAAO,CAAEkR,kBAAmB,GAAK9J,MAAO,EAAG+sB,cAAeA,EAAeU,QAASA,EAASO,aAAcnQ,EAD7G,SAEI,eAAC,GAAD,CACI1f,OAAQA,MAGhB,gBAAC4vB,GAAD,CAAa/tB,MAAO,EAAG+sB,cAAeA,EAAeU,QAASA,EAASO,aAAcnQ,EAArF,UACI,eAAC8L,GAAD,IACA,eAAC,GAAD,CAAiBngB,MAAM,aAEvB,eAACwc,GAAD,CAAkBxc,MAAM,aAAa8c,WAAYA,OAGrD,eAACyH,GAAD,CAAa/tB,MAAO,EAAG+sB,cAAeA,EAAeU,QAASA,EAASO,aAAcnQ,EAArF,SACI,eAAC,GAAD,CAAiBrU,MAAM,GAAvB,SACI,eAACwJ,GAAD,CAGIrD,aAAc,SAAC5P,EAAM2K,GACjB,OAAO3K,EAAO,SAAW2K,EAAM,SAEnC9W,KAAO,SAAOI,EAAGi6B,GAAV,eAAAj6B,EAAAC,OAAA,uDACGi6B,EAASl6B,GAAK,GADjB,KAEHk6B,EAAOtc,KAFJ,KAEHsc,EAFG,QAAAl6B,EAAA,WAAAA,EAAA,MAEoBiN,OAAIwW,KAAKtW,WAAWgtB,UAAU,CAAEF,QAAOG,OAAQ,GAAIC,SAAU,CAAEC,QAASnwB,MAF5F,8EAGH5J,QAAQC,IAAIG,KAAKC,UAAUs5B,IAHxB,kBAIIA,GAJJ,8DAMPjb,QAAO,eACAmR,IAAsB,SAACrkB,GACtB,OAAOknB,OAAOlnB,EAAKwuB,iBAFpB,CAIH,CAAEtoB,MAAO,OAAQrR,UAAW,SAACZ,EAAGmb,EAAGjG,GAAP,OAAaua,OAAOzvB,KAChD,CAAEiS,MAAO,WAAYrR,UAAW6I,IAChC,CAAEwI,MAAO,QAASrR,UAAW6I,YAM7C,gBAACswB,GAAD,CAAa/tB,MAAO,EAAG+sB,cAAeA,EAAeU,QAASA,EAASO,aAAcnQ,EAArF,UACI,gBAAC,GAAD,CAAiBrU,MAAM,UAAvB,UACI,eAACI,GAAD,CAAYJ,MAAM,YAAlB,SACI,eAAC,OAAD,gBAAOiL,OAAP,EAAOA,EAAMwG,QAEjB,gBAACjhB,EAAA,EAAD,CAAMpB,MAAO/C,EAAb,UACI,eAAC+T,GAAD,CAAYJ,MAAM,WAAW5Q,MAAOhD,EAApC,SACI,eAAC,OAAD,gBAAO6e,GAAP,SAAOA,EAAMgC,sBAAb,EAAO,EAAuBC,wBAElC,eAAC9M,GAAD,CAAYJ,MAAM,YAAY5Q,MAAOhD,EAArC,SACI,eAAC,OAAD,gBAAO6e,GAAP,SAAOA,EAAMgC,sBAAb,EAAO,EAAuBG,iBAGtC,eAAChN,GAAD,CAAYJ,MAAM,0BAA8B5Q,MAAOhD,EAAvD,SACI,eAACoE,EAAA,EAAD,CAAMpB,MAAO,CAAE9C,cAAe,OAA9B,WACU,MAAJ2e,GAAA,SAAAA,EAAMgC,sBAAN,IAAuBI,YAAa,CAAC,KAAM,OAAQ,SAAS/W,KAAI,SAACuiB,EAAM5X,GAAP,OAC9D,eAAC8U,GAAD,CAAaC,OAAK,EAAS9f,MAAO2iB,EAAMzpB,MAAO,CAAEhD,KAAM,IAA/B6U,aAuBxC,eAAC,GAAD,CAAiBjB,MAAM,yBAG/BoG,WAAY,SAACkE,GACT,OAAOA,EAAK/T,MAEhB9F,IAAKyyB,EAAWvtB,sBAAuB,CAAC,CAAEkJ,WAAYukB,IAAiB9kB,qBAAmB,EAC1F0mB,oBAAqB,SAAClpB,GACU,IAAD,EAAvB0nB,IAAcE,IAEd,SAAAR,EAAUrzB,UAAV,EAAmBo1B,eAAe,CAAExL,OAAQ6J,EAAU4B,UAAU,IAChEvB,GAAW,KAGnBwB,SAAU/sB,KAASknB,MAA+C,CAC9D,CAAEnR,YAAa,CAAEiX,cAAe,CAAE5F,EAAGwD,MACtC,CAAEvqB,iBAAiB,MAE1B,gBAACL,GAAA,EAAS5H,KAAV,CAAepB,MAAO,CAAEyZ,SAAU,WAAYE,IAAK,EAAGjb,gBAAiB3B,EAAsBiX,UAAW,CAAC,CAAEiiB,WAAYzB,IAAgBhzB,WAAY,UAAWjE,MAAO,QAArK,UAEI,eAACm1B,GAAD,CAAeQ,UAAWtzB,EAAMmH,WAAY4rB,WAAU,MAAE9W,OAAF,EAAEA,EAAMnV,YAAaksB,SAAUwB,EACjF8B,UAAW,GACXrD,eAvKM,GAwKNE,WAAe,MAAJlX,OAAA,EAAAA,EAAM2E,OAAOtZ,KAAI,SAAAoJ,GAAC,OAAIA,EAAEmQ,cAAa,KAGpD,gBAACrf,EAAA,EAAD,CAAMpB,MAAO,CAACo0B,EAAYn3B,OAAMzC,EAAW,CAAE+C,MAAO,OAAQiE,WAAY,WAAxE,UACI,gBAACJ,EAAA,EAAD,CAAMpB,MAAO,CAAE8H,WAAYssB,EAAY71B,EAAa,GAApD,UACI,gBAAC,OAAD,CAAMyB,MAAO,CAAE7B,MAAO,QAASkB,UAAY+0B,EAAuB,OAAX,SAAmB/1B,SAAUV,EAAMC,QAA1F,eAA0G,MAAJie,OAAA,EAAAA,EAAMjV,SAAU,MACtH,eAAC,OAAD,CAAM5G,MAAO,CAAE7B,MAAO,QAASkB,UAAY+0B,EAAuB,OAAX,SAAmB/1B,SAAUV,EAAMG,QAA1F,eAAqG+d,OAArG,EAAqGA,EAAMhV,kBAE/G,eAAC+E,GAAD,CAAiB5L,MAAO,CACpBzC,MAAO,MAAOkC,eAvLb,EAwLDqI,WAAY,OAAQ+e,YAAauN,EAAY71B,EAAa,QAF9D,0BAMJ,eAAC,GAAD,CAAiBqS,MAAM,GAAG5Q,MAAO,CAAEpB,iBAAkBL,EAAYkI,UAAW+sB,IAA5E,SACI,eAAC,SAAD,CACIzQ,eAAgB,CACZtc,UAAW,IAEfzG,MAAO,CAAEzC,MAAO,QAChBoU,cAAesT,EACf5Z,SAAU,SAAAuC,GAAM,IAAD,EACPwmB,IACA,SAAAN,EAAUrzB,UAAV,EAAmBo1B,eAAe,CAAExL,OAAQ6J,EAAU4B,UAAU,KAEpEd,EAAOpnB,IAVf,SAYK,CAAC,QAAS,YAAa,SAAU,SAAS1G,KAAI,SAAA0G,GAAC,OAAI,eAAC,MAAD,CAAK5N,MAAO,CAAEyG,WAAY,GAAKmK,MAAOhD,iBAU9G,SAASunB,GAAYv1B,GAEjB,OADAA,EAAMi1B,QAAQj1B,EAAMw1B,eAAgB,EAC5Bx1B,EAAMwH,QAAUxH,EAAMw1B,cAAgBx1B,EAAMi1B,QAAQj1B,EAAMwH,OAC9D,eAAChG,EAAA,EAAD,CAAMpB,MAAO,CAACxB,GAAU,CACpBsoB,UAAWlnB,EAAMu0B,cACjB1yB,QAAS7B,EAAMw1B,eAAiBx1B,EAAMwH,MAAQ,OAAS,QAExDxH,EAAMI,OAJT,SAKKJ,EAAMK,WACD,KC9OX,ICVMk2B,GAAgB,WACzB,IAAMhxB,EAAMC,cACZ,OAAO,gBAAChE,EAAA,EAAD,CAAMpB,MAAO,CAAChD,EAAM,CAAEsE,eAAgB,WAAtC,UACH,eAACzB,EAAA,EAAD,CAAWC,QAAS,WAChBqF,EAAIsX,UAELzc,MAAO,CAAEtB,gBAAiB,QAAS+K,QAAS,IAAMgQ,SAAU,WAAYnc,OAAQ,OAAQC,MAAO,UAClG,eAAC6D,EAAA,EAAD,CAAMpB,MAAO,CAAEV,OAAQf,EAAYE,QAASF,EAAYG,gBAAiB,UAAzE,SACI,eAACqB,GAAA,EAAD,6B,qkBCAL,IAAMq2B,GAAgB,SAACx2B,GAAmD,IAAD,QAC5E,EAAgCnF,qBAAhC,WAAO47B,EAAP,KAAiBC,EAAjB,KACQ/K,EAAe3rB,EAAMusB,MAAMC,OAA3Bb,WACFhJ,EAAQC,eACd,EAA0B/nB,oBAAS,GAAnC,WAAO87B,EAAP,KAAcjK,EAAd,KAWA,OAVA1xB,qBAAU,WAENyN,OAAIC,SAASikB,IAAIhB,GACZzqB,MAAK,SAACsX,GACHke,EAAYle,GACZkU,EAASlU,EAAEoe,iBAAkB,MAEhCt1B,OAAM,SAACC,GAAD,OAAQohB,EAAMK,KAAKzhB,EAAGmT,cAElC,CAACiX,IACG,gBAACnqB,EAAA,EAAD,CAAMpB,MAAOxB,GAAb,UACH,gBAAC,GAAD,CAAiBoS,MAAM,UACnBG,OAAQ,SAAC0c,GACL,OAAO,eAAC,GAAD,SAAeA,GAAf,IAAkBhb,WAAY8jB,EAAOz2B,QAAS,WAC7Cu2B,IACAhuB,OAAIC,SAASC,WAAWkuB,SAAS,CAC7BC,KAAMH,EACNxJ,OAAM,MAAEsJ,OAAF,EAAEA,EAAUztB,SAEtB0jB,GAAUiK,SAR1B,UAaI,gBAACn1B,EAAA,EAAD,CAAMpB,MAAO,CAAC/C,EAAK,CAAEgC,aAAcV,IAAnC,UACI,eAAC,SAAD,CAAQqH,OAAQ,CAAEC,IAAG,MAAEwwB,OAAF,EAAEA,EAAU7c,UAAYxZ,MAAO,CAAE6mB,YAAatoB,KACnE,gBAAC6C,EAAA,EAAD,CAAMpB,MAAOhD,EAAb,UACI,eAAC,OAAD,gBAAOq5B,OAAP,EAAOA,EAAUztB,SACjB,eAAC,OAAD,gBAAOytB,OAAP,EAAOA,EAAUM,kBAErB,gBAACv1B,EAAA,EAAD,WACI,eAAC,OAAD,gBAAOi1B,GAAP,SAAOA,EAAUxK,YAAjB,EAAO,EAAiBA,QACxB,eAAC,OAAD,UAGR,gBAACzqB,EAAA,EAAD,CAAMpB,MAAO,CAAC/C,EAAK,CAAEwC,eAAgBlB,IAArC,UACI,eAAC,OAAD,CAAMyB,MAAOhD,EAAM+Q,SAAU,QAA7B,kBACA,eAAC,OAAD,CAAM/N,MAAOhD,EAAM+Q,SAAU,KAA7B,eAAoCsoB,GAApC,SAAoCA,EAAUxK,YAA9C,EAAoC,EAAiB+K,OACrD,eAAC,OAAD,CAAM52B,MAAOhD,EAAM+Q,SAAU,QAA7B,wBACA,eAAC,OAAD,CAAM/N,MAAOhD,EAAM+Q,SAAU,KAA7B,eAAoCsoB,GAApC,SAAoCA,EAAUxK,YAA9C,EAAoC,EAAiBgL,UAEzD,gBAACz1B,EAAA,EAAD,CAAMpB,MAAO,CAAC/C,EAAK,CAAEgC,aAAcV,IAAnC,UACI,eAAC,OAAD,CAAMyB,MAAOhD,EAAM+Q,SAAU,QAA7B,mBACA,eAAC,OAAD,CAAM/N,MAAOhD,EAAM+Q,SAAU,KAA7B,SAAoC,SACpC,eAAC,OAAD,CAAM/N,MAAOhD,EAAM+Q,SAAU,QAA7B,uBACA,eAAC,OAAD,CAAM/N,MAAOhD,EAAM+Q,SAAU,KAA7B,eAAoCsoB,GAApC,SAAoCA,EAAUxK,YAA9C,EAAoC,EAAiBiL,SAEzD,eAAC/F,GAAD,IACA,eAAC,OAAD,CAAM/wB,MAAO,CAAEyG,UAAWlI,GAA1B,eAAyC83B,OAAzC,EAAyCA,EAAUjZ,iBAEvD,eAAC,GAAD,CAAiBxM,MAAM,c,qkBCjBhB,SAASmmB,GAAT,GAAwE,IAAlDC,EAAiD,EAAjDA,YACnC,OACE,eAACC,EAAA,EAAD,CACE/Q,QAASgR,GACTpd,MAAuB,SAAhBkd,EAAyBG,IAAYC,IAF9C,SAGE,eAACC,GAAD,MAiBN,IAAMC,GAASC,cAMTC,GAAQC,cAERC,GAAW,WACf,OAAO,eAAC,GAAD,CAAS13B,MAAO,CAAE1C,OAAQ,OAAQ+Z,YAAa,GAA/C,SACL,eAAC,KAAD,OAaJ,SAASsgB,KACP,IAAQtxB,EAAYF,KAAZE,QAEF4V,EAASC,cASf,OAPAthB,qBAAU,WACHyL,IACHwW,KAAK3W,UACL+V,EAAO,aAER,CAAC5V,EAAS4V,IAEN5V,EAAU,eAACixB,GAAOM,UAAR,CAAkBC,cAAe,SAACj4B,GAAD,OAAW,eAACoG,GAAD,IAAUK,QAASA,GAAazG,KAC3Fk4B,cAAe,gBAAG3L,EAAH,EAAGA,MAAOplB,EAAV,EAAUA,WAAV,MAA4B,CACzCgxB,iBAAkB,SAClBC,YAAaN,GACbO,YAAc,WACZ,IAAMC,EAAYC,YAA6BhM,GAC/C,OAAQ+L,GACN,IAAK,OACH,OAAO,WAEL,IAGME,EAAqB,SAHbC,aAAmB,SAACvX,GAAW,IAAD,QAC1C,OAAQ,OAAE,EAAAA,EAAMwX,OAAO,KAAf,SAAE,EAAiBxX,QAAnB,SAAE,EAAwBwX,SAA1B,SAAC,EAA2C5mB,MAAK,SAAA/I,GAAC,MAAe,SAAXA,EAAE7C,QAAiBsmB,aAAzE,IAAyFnlB,iBAAkB,WAGrH,OAAO,eAACpH,EAAA,EAAD,CAAWC,QAAS,WACzBiH,EAAWzB,SAAS,OAAQ,CAC1B2B,eAAgBmxB,EAAW,QAAU,UAFlC,SAKHA,EACE,eAAC31B,GAAD,CAAoBzC,MAAO,CAAE1C,OAAQ,GAAIC,MAAO,GAAIuK,WAAY,OAAQ+e,aAActoB,EAAeA,GAAc,KAD1G,eAACwoB,GAAD,CAAYC,WAAYoR,EAAWx0B,GAAcF,OAASE,GAAcD,SAAU3D,MAAO,CAAE1C,OAAQ,GAAIC,MAAO,GAAIspB,YAAatoB,QAKlJ,QAEE,YADA5C,QAAQC,IAAIs8B,IArBJ,KAJD,SA8Bf,eAACZ,GAAOpU,OAAR,CAAepd,KAAK,OAAOyyB,UAAWC,GAAoBC,cAAe,CAAEpyB,eACtD,KAGzB,SAASgxB,KACP,OAAO,gBAACG,GAAMI,UAAP,CAAiBE,cAAe,CAAEE,YAAa,kBAAM,eAACn1B,GAAD,CAAU7C,MAAO,CAAEyG,UAAWlI,EAAcjB,OAAQ,OAAQ+Z,YAAa,MAAS0gB,iBAAkB,SAAUW,mBAAmB,GAAtL,UACL,eAAClB,GAAMtU,OAAP,CAAcpd,KAAK,OAAOyyB,UAAWI,GAAeC,QAAS,CAAEC,aAAa,KAC5E,eAACrB,GAAMtU,OAAP,CAAcpd,KAAK,SAASyyB,UAAWO,GAAqBF,QAAS,CAAEC,aAAa,EAAMH,mBAAmB,KAC7G,eAAClB,GAAMtU,OAAP,CAAcpd,KAAK,OAAOyyB,UAAWZ,GAAYiB,QAAS,CAAEC,aAAa,KACzE,eAACrB,GAAMtU,OAAP,CAAcpd,KAAK,WAAWyyB,UAAW5T,GAAgBiU,QAAS,CAAEhoB,MAAO,WAC3E,gBAAC4mB,GAAMuB,MAAP,CAAajB,cAAe,CAAEkB,aAAc,SAA5C,UACE,eAACxB,GAAMtU,OAAP,CAAcpd,KAAK,QAAQyyB,UAAWhU,KACtC,eAACiT,GAAMtU,OAAP,CAAcpd,KAAK,kBAAkByyB,UAAWnH,KAChD,eAACoG,GAAMtU,OAAP,CAAcpd,KAAK,YAAYyyB,UAAWxM,KAC1C,eAACyL,GAAMtU,OAAP,CAAcpd,KAAK,OAAOyyB,UAAW5G,KACrC,eAAC6F,GAAMtU,OAAP,CAAcpd,KAAK,cAAcyyB,UAAW3G,KAC5C,eAAC4F,GAAMtU,OAAP,CAAcpd,KAAK,UAAUyyB,UAAWnC,KAMxC,eAACoB,GAAMtU,OAAP,CAAcpd,KAAK,aAAayyB,UAAW1K,KAC3C,eAAC2J,GAAMtU,OAAP,CAAcpd,KAAK,eAAe8yB,QAAS,CACzCI,aAAc,mBACdxe,YAAa,CACX9b,gBAAiB,eAEnBu6B,gBAAiB,QACjBJ,aAAa,EAEbb,YAAa,GACbkB,aAAc,IAGbX,UAAWpC,QAEhB,eAACqB,GAAMuB,MAAP,CAAajB,cAAe,CAC1BkB,aAAc,QACdxe,YAAa,CACX9b,gBAAiB,eAEnBu6B,gBAAiB,QACjBE,iBAAkB,kBAAM,eAAC/3B,EAAA,EAAD,KACxB42B,YAAa,GACbkB,aAAc,CACZzyB,WAAY,KAThB,SAYE,eAAC+wB,GAAMtU,OAAP,CAAcpd,KAAK,UAAUyyB,UAAW9E,UAS9C,IAAM2F,GAAYC,cAGZC,GAA8L,CAClMC,UAAW,CACTjpB,ETtK2B,SAAC1Q,GAE5B,MAAoCnF,qBAApC,WAAOizB,EAAP,KAAmBiG,EAAnB,KACA,EAA4Cl5B,qBAA5C,WAAO++B,EAAP,KAAuBC,EAAvB,KACMlX,EAAQC,eAEd,EAAgC/nB,qBAAhC,WAAOi/B,EAAP,KAAiBC,EAAjB,KACA,EAAkCl/B,qBAAlC,WAAOm/B,EAAP,KAAkBC,EAAlB,KAEAj/B,qBAAU,YACN,WAAC,gBAAAQ,EAAAC,OAAA,2EAAAD,EAAA,MAEuCqmB,QAAQwT,IAAI,CACxC5sB,OAAIjG,UAAUmG,WAAWuxB,mBACzBzxB,OAAIwW,KAAKtW,WAAWwxB,iBAJ/B,kCAEcC,EAFd,KAEqBN,EAFrB,0BAAAt+B,EAAA,MASmCiN,OAAIwW,KAAKtW,WAAW0xB,aAAa,KATpE,QASiBL,EATjB,OAUWC,EAAaD,GAVxB,kDAYWj+B,QAAQmjB,MAAR,MAZX,YAeWkb,EAAME,MAAMvzB,GAfvB,6BAgBW8yB,EAhBX,YAAAr+B,EAAA,MAgBmCiN,OAAIjG,UAAUmqB,IAAIyN,EAAME,MAAMvzB,KAhBjE,2DAmBW8yB,EAAkB,CACd9yB,GAAI,EACJ4K,MAAO,GACPzL,KAAM,GACNq0B,eAAgB,EAChB/5B,KAAM,UACNyb,KAAM,GACN4Q,UAAU,IA1BzB,QA4BOkH,EAAcqG,GAEdL,EAAYD,GA9BnB,kDAkCOnX,EAAMK,KAAK,KAAGtO,SAlCrB,wEAAD,KAqCD,IACH,MAAoC7Z,mBAAS,MAA7C,WAAO2/B,EAAP,KAAmBC,EAAnB,KACiBC,EAAwB5O,IAAwB,GAAzDrR,QACR,OAAO,eAACjZ,EAAA,EAAD,CAAMpB,MAAO,CAACxB,IAAd,SACH,gBAACyQ,GAAA,EAAD,WACI,gBAAC,GAAD,CAAmC2B,MAAM,YAAzC,UACI,gBAACI,GAAD,CAAYJ,MAAM,cAAlB,UACI,eAACxP,EAAA,EAAD,CAAMpB,MAAO,CAAEf,aAAcV,GAA7B,SACI,eAACwyB,GAAD,MAEJ,eAAC,GAAD,CAA4Bxf,MAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAAOrK,KAAI,SAAA/L,GAAC,MAAK,CAAE2L,MAAO3L,EAAGT,MAAOS,MAAO8yB,cAAe,SAAC9yB,GAAD,OAAOk/B,EAAcl/B,IAAIT,MAAO0/B,GAAhJ,UAClB,gBAACh5B,EAAA,EAAD,CAAMpB,MAAO,CAAElB,YAAa,OAAQC,YAAa,EAAGL,gBAAiB,UAAWD,QAASF,EAAe,GAAxG,UACI,eAAC6C,EAAA,EAAD,CAAsBpB,MAAO,CAAE9C,cAAe,OAA9C,SACK,CACG,CAAE0T,MAAO,eAAgBlW,MAAO,IAChC,CAAEkW,MAAO,OAAQlW,OAAgB,MAATk/B,OAAA,EAAAA,EAAWW,OAAQ,GAC3C,CAAE3pB,MAAO,eAAgBlW,OAAgB,MAATk/B,OAAA,EAAAA,EAAWY,SAAU,IACpDtzB,KAAI,SAACC,EAAM2K,GACR,OAAO,gBAAC1Q,EAAA,EAAD,CAAyBpB,MAAOhD,EAAhC,UACH,eAAC,OAAD,CAAMgD,MAAO0jB,GAAOwN,WAApB,SAAkC/pB,EAAKyJ,QACvC,eAAC,OAAD,CAAM5Q,MAAO0jB,GAAOyN,WAApB,SAAiC3sB,GAAU2C,EAAKzM,WAFlC,OAASoX,OAN5B,WAYX,eAAC1Q,EAAA,EAAD,CAAsBpB,MAAO,CAAE9C,cAAe,OAA9C,SACK,CACG,CAAE0T,MAAO,OAAQlW,OAAgB,MAATk/B,OAAA,EAAAA,EAAWa,SAASC,OAAQ,GACpD,CAAE9pB,MAAO,QAASlW,OAAgB,MAATk/B,OAAA,EAAAA,EAAWa,SAASE,QAAS,GACtD,CAAE/pB,MAAO,QAASlW,OAAgB,MAATk/B,OAAA,EAAAA,EAAWa,SAASG,QAAS,GACtD,CAAEhqB,MAAO,MAAOlW,OAAgB,MAATk/B,OAAA,EAAAA,EAAWa,SAASI,MAAO,IACjD3zB,KAAI,SAACC,EAAM2K,GACR,OAAO,gBAAC1Q,EAAA,EAAD,CAAyBpB,MAAOhD,EAAhC,UACH,eAAC,OAAD,CAAMgD,MAAO0jB,GAAOwN,WAApB,SAAkC/pB,EAAKyJ,QACvC,eAAC,OAAD,CAAM5Q,MAAO0jB,GAAOyN,WAApB,SAAiC3sB,GAAU2C,EAAKzM,WAFlC,OAASoX,OAP7B,mBAelB,eAACd,GAAD,CAA2BJ,MAAM,WAAjC,SACI,eAACwJ,GAAD,CACIpf,KAAM0+B,EACNrf,QAAO,eACAmR,IAAsB,SAACrkB,GACtB,OAAOknB,OAAOlnB,EAAKwuB,iBAFpB,CAIH,CAAEtoB,MAAO,WAAYrR,UAAW,SAACZ,EAAGmb,EAAGjG,GAAP,OAAaua,OAAOzvB,KACpD,CAAEiS,MAAO,QAASrR,UAAW6I,IAC7B,CAAEwI,MAAO,QAASrR,UAAW6I,IAC7B,CAAEiW,MAAO,MAAO9e,UAAW,SAACZ,EAAGmb,EAAGjG,GAAP,OAAazL,GAAYwpB,OAAO/d,EAAE5V,OAAS2zB,OAAO/d,EAAEwqB,oBAV3E,YAahB,eAAC9pB,GAAD,CAAyBJ,MAAM,SAA/B,SACI,eAAC+c,GAAD,CACI/c,MAAM,aACNyE,QAAS,EACTuY,WAAY,CACR7W,aAAc,SAAC5P,EAAM2K,GACjB,OAAO3K,EAAO,SAAW2K,EAAM,SAEnC9W,KAAO,SAAOI,EAAGi6B,GAAV,eAAAj6B,EAAAC,OAAA,uDACGi6B,EAASl6B,GAAK,GADjB,KAEHk6B,EAAOtc,KAFJ,KAEHsc,EAFG,QAAAl6B,EAAA,WAAAA,EAAA,MAEoBiN,OAAIwW,KAAKtW,WAAWgtB,UAAU,CAAEF,QAAOI,SAAU,MAFrE,8EAGH95B,QAAQC,IAAIG,KAAKC,UAAUs5B,IAHxB,kBAIIA,GAJJ,8DAMPjb,QAAQ,GAAD,YACAmR,IAAsB,SAACrkB,GACtB,OAAOknB,OAAOlnB,EAAKwuB,iBAFpB,CAIH,CAAEtoB,MAAO,OAAQrR,UAAW,SAACZ,EAAGmb,EAAGjG,GAAP,OAAaua,OAAOzvB,KAChD,CAAEiS,MAAO,WAAYrR,UAAW6I,IAChC,CAAEwI,MAAO,QAASrR,UAAW6I,UApB7B,YA/CE,aA0EtB,eAAC,GAAD,CAAqC+L,MAAM,cACvCG,OAAQ,SAAC2b,GACL,OAAiB,MAAVgB,KAAYwM,MAAMvzB,GACrB,eAAC,GAAD,SAAgB+lB,GAAhB,IAAoB5sB,QAAS,WACzBF,EAAMmH,WAAWzB,SAAS,kBAAmB,CACzC4mB,YAAW,MAAEwB,OAAF,EAAEA,EAAYwM,MAAMvzB,SAGvC,eAAC,GAAD,SAAe+lB,GAAf,IAAmB5sB,QAAS,WACxBF,EAAMmH,WAAWzB,SAAS,kBAAmB,CACzC4mB,aAAc,SAVlC,SAeI,eAAC9R,GAAD,CACIlD,cAAc,eACdmD,QAASigB,EACTt/B,KAAI,MAAEw+B,OAAF,EAAEA,EAAgBjoB,SAlBR,eAqBtB,eAAC6b,GAAD,CACIxc,MAAM,gBAEN8c,WAAU,MAAEA,OAAF,EAAEA,EAAYqN,QACxBvN,eAAa,EACbD,iBAAe,GAHV,gBAKT,eAACH,GAAD,CACIxc,MAAM,oBAEN8c,WAAU,MAAEA,OAAF,EAAEA,EAAYsN,MACxB1N,QAAM,GAFD,uBSYnB2N,KAAM,CACJ3qB,EjBlMsB,SAAC1Q,GACvB,MAAoCnF,mBAAS,IAA7C,WAAOsd,EAAP,UAeA,OACI,eAAC3W,EAAA,EAAD,CAAMpB,MAAO,CAAEhD,KAAM,EAAG0B,gBAAiB,WAAzC,SACI,eAAC,GAAD,CAAUuI,eAAsD,SAAtCrH,EAAMusB,MAAMC,OAAOnlB,eAA2B8Q,WAAYA,QiBkL9FhE,OAAQ,CACNzD,EHhMwB,SAAC1Q,GACzB,MAAoCnF,mBAAS,IAA7C,WAAOsd,EAAP,KAAmBC,EAAnB,OACkCvd,mBAA6B,SAD/D,WACKygC,EADL,KACiBC,EADjB,OAE0B1gC,qBAF1B,WAEK2gC,EAFL,KAEaC,EAFb,KAGIC,EAAch7B,mBAuBlB,OArBA1F,qBAAU,WACN4d,aAAa8iB,EAAY76B,SACN,WAAfy6B,IACInjB,EAAWvQ,QAAU,EACrB8zB,EAAY76B,QAAUQ,YAAW,oBAAA7F,EAAAC,OAAA,qEAEzBggC,EAFyB,WAAAjgC,EAAA,MAETiN,OAAIwW,KAAKtW,WAAWgzB,OAAO,CACvCC,KAAMzjB,KAHe,kFAOzBpc,QAAQmjB,MAAR,MAPyB,kEAS9B,KAGHuc,OAAU7gC,MAGnB,CAACud,EAAYmjB,IAGZ,gBAAC95B,EAAA,EAAD,CAAMpB,MAAO,CAAEhD,KAAM,EAAG0B,gBAAiB,WAAzC,UACI,eAAC,GAAD,CAAWyV,aAAc,SAAChZ,GACtB6c,EAAc7c,MAElB,eAAC,GAAD,CACI6E,MAAO,CAAEV,OAAQf,EAAYhB,MAAO,QACpCywB,gBAAiB,CACbtvB,gBAAiB,QAErBhE,MAAOwgC,EACPjN,cAAe,SAACvzB,GACZygC,EAAczgC,GACd2gC,OAAU7gC,IACX+W,MAAO,CAAC,CAAEzK,MAAO,SAAU,MAAS,UAAY,CAAEA,MAAO,QAASpM,MAAO,YAChE,UAAfwgC,GAA0B,eAAC,GAAD,CAAUnjB,WAAYA,IACjC,WAAfmjB,GAA2B,eAAC95B,EAAA,EAAD,CACxBpB,MAAO,CAAEpB,iBAAkBL,EAAYvB,KAAM,GADrB,SAC0B,eAACuX,GAAD,CAC9CvZ,KAAMogC,EACNjkB,eAAgB,oBAChBN,iBAAarc,EACbwc,WAAY,SAAC7P,GACT,OAAO,eAAC,GAAD,CAAiByJ,MAAM,GAAvB,SACH,eAAC,GAAD,CAAYiL,KAAM1U,EAAKA,KAAMnH,MAAO,CAACf,cAAcV,kBGkJ/E,SAASi6B,GAAmB54B,GAC1B,IAAMo3B,EAAc16B,IACZ+J,EAAYzG,EAAZyG,QACR,OAAO,eAAC+yB,GAAUxB,UAAX,CACL6D,iBAAiB,OACjB3D,cAAe,CACb4D,sBAAuB1hB,EAAOgd,GAAar6B,KAC3Ck8B,aAAa,GAJV,SAOHt9B,OAAOC,KAAKgI,IAAU0D,KAAI,SAAC0e,GAAO,IAAD,IAC/B,OAAO,eAACwT,GAAUlW,OAAX,CAELpd,KAAM8f,EACNgT,QAAS,cAAG7xB,WAAH,EAAeolB,MAAf,MAA4B,CAEnCwP,eAAe,EACfC,iBAAiB,EACjBC,MAAM,EACNC,WAAY,YAA8B,EAA3B39B,MAA4B,IAArB49B,EAAoB,EAApBA,QAAS79B,EAAW,EAAXA,KAC7B,OAAO,eAAC89B,GAAA,EAAD,CAAiBp2B,OAAQpC,GAASoiB,GAA4BmW,EAAU,SAAW,YAAa9U,WAAW,UAAUjnB,MAAO,CAAE1C,OAAQY,EAAMX,MAAOW,QAW9Jq6B,WAAW,SAAAe,GAAe1T,SAAf,IAA4CtV,IAAKuU,GAC5D4T,cAAa,IAAIpyB,WAAJ,SAAgBizB,GAAe1T,SAA/B,EAAgB,EAA4C6H,IApBpE7H,Q,4nBClLA,SAASqW,KACtB,IAAQC,ECtCK,WACb,MAAgDzhC,oBAAS,GAAzD,WAAOyhC,EAAP,KAA0BC,EAA1B,KA+CA,OA5CAvhC,qBAAU,YACR,qBAAAQ,EAAAC,OAAA,gEAII+gC,MAJJ,WAAAhhC,EAAA,MASUihC,IAAA,OACDC,IAAYr+B,MADX,IAEJ,aAAcwF,EAAQ,SAX5B,yBAAArI,EAAA,MAcsBc,KAdtB,YAcUxC,EAdV,QAgBYE,UAhBZ,6CAAAwB,EAAA,MAkB8BmhC,GAAelf,OAAO,GAAI3jB,EAAIE,YAlB5D,QAkBc4iC,EAlBd,OAmBQjiC,EAAS,cAAeiiC,EAAQta,aAChC3nB,EAAS,cAAeiiC,EAAQp2B,aApBxC,kDAuBQ7L,EAAS,iBAAaC,GACtBmB,QAAQmjB,MAAR,MAxBR,0DAiCInjB,QAAQwI,KAAR,MAjCJ,yBAmCIg4B,GAAmB,GACnBC,MApCJ,2FAwCAK,KACC,IAEI,CACLP,qBDX4BQ,GAAtBR,kBAEFlF,EAAc16B,IACpB,EAA4B6J,KAAXkX,GAAjB,EAAQhX,QAAR,EAAiBgX,QACjB,EAAqDpjB,EAAQ,aAA9CL,EAAf,EAAQc,MAAR,EAA0BH,SAW1B,OAPAK,qBAAU,WACJhB,GACFyjB,EAAO,GAAIzjB,KAEZ,CAAC2W,QAAQ3W,KAGPsiC,EAIE,gBAAC,sBAAD,SAAyBS,IAAzB,IAA8B7iB,MAAK,SAAO6iB,UAAc7iB,IAAxD,UACL,eAAC,eAAD,CAAc8iB,MAAOC,kBACrB,gBAAC,KAAD,WACE,eAAC9F,GAAD,CAAYC,YAAaA,IACzB,eAACtS,EAAA,EAAD,WAPK,KAxBS,QAAhBzR,KAASC,IACX4pB,qBAAU,CACRC,WAAY,mCAkCT,IAAMR,GAAiB,CAE5Blf,OAAQ,SAAOjP,EAAegC,GAAtB,eAAAhV,EAAAC,OAAA,kEAAAD,EAAA,MACeyhB,KAAKE,MAAM3O,EAAOgC,IADjC,UACAhU,EADA,YAGSA,GACAA,EAAOs5B,QAJhB,mCAAAt6B,EAAA,MAIgCyjB,KAAK0N,IAAInwB,EAAOs5B,UAJhD,qDAI2Dl7B,EAJ3D,4CAGJ0nB,YAHI,KAIJ9b,YAJI,sEASGD,GAAa,WACxB,MAAiDlM,EAAQ,eAA1CoM,EAAf,EAAQ3L,MAA0BsiC,EAAlC,EAAwBziC,SACxB,EAAyDN,EAAQ,eAAlDioB,EAAf,EAAQxnB,MAA8BshB,EAAtC,EAA4BzhB,SAC5B,EAAqDN,EAAQ,aAA9CL,EAAf,EAAQc,MAA4BuiC,EAApC,EAA0B1iC,SAE1B,MAAO,CACL8L,UACAzM,YACAsoB,cACA7E,OAAQniB,uBAAY,SAAOkT,EAAegC,GAAtB,eAAAhV,EAAAC,OAAA,kEAAAD,EAAA,MACEmhC,GAAelf,OAAOjP,EAAOgC,IAD/B,OACZ1V,EADY,OAElBshB,EAAethB,EAAMwnB,aACrB8a,EAAWtiC,EAAM0L,aAEb1L,EAAMwnB,YAAYwT,SACpBuH,EAAaviC,EAAMwnB,YAAY3E,OANf,8DAQjB,IACHrX,QAAShL,uBAAY,WACnB2hB,KAAK3W,UACL+2B,OAAaziC,GACbwhB,OAAexhB,GACfwiC,OAAWxiC,KACV,O,2DE3GPhB,EAAOC,QAAU,IAA0B,iC,kBCA3CD,EAAOC,QAAU,sQ,kBCAjBD,EAAOC,QAAU,kd,kBCAjBD,EAAOC,QAAU,0X,oBCAjBD,EAAOC,QAAU,IAA0B,8C,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,2C,kBCA3CD,EAAOC,QAAU,kqC,oBCAjBD,EAAOC,QAAU,IAA0B,6C,kBCA3CD,EAAOC,QAAU,0mB,kBCAjBD,EAAOC,QAAU,8wB,oBCAjBD,EAAOC,QAAU,IAA0B,sC","file":"static/js/app.dd1d78a7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bookmark-active.d96ac9da.svg\";","module.exports = __webpack_public_path__ + \"static/media/bookmark-active-blue.fdca270d.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.9bb3fb31.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-no-bg.9cd8c523.svg\";","module.exports = __webpack_public_path__ + \"static/media/store-front-logo2-alt.7ad935b2.svg\";","module.exports = __webpack_public_path__ + \"static/media/store-front.84bfd5f1.svg\";","module.exports = __webpack_public_path__ + \"static/media/app-title.a87bb585.svg\";","module.exports = __webpack_public_path__ + \"static/media/splash-welcome.0edc3aee.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.cdc95c1f.svg\";","module.exports = __webpack_public_path__ + \"static/media/upvote.7b1f60c8.svg\";","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODIiIGhlaWdodD0iODIiIHZpZXdCb3g9IjAgMCA4MiA4MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik00OC4yNjEyIDI5LjIwNjRMNDIuNTI1MyAyMy40NzQ2TDI2LjY2MjQgMzkuMzE3VjQ1LjA0ODhIMzIuMzk0Mkw0OC4yNjEyIDI5LjIwNjRaIiBmaWxsPSIjRjQ0NTJEIi8+DQo8cGF0aCBkPSJNNDkuNjAxNyAxNi4zOTk0TDU1LjMzMzYgMjIuMTMxMkw1MC45NTg4IDI2LjUwNTlMNDUuMjI3MSAyMC43NzQxTDQ5LjYwMTcgMTYuMzk5NFoiIGZpbGw9IiNGNDQ1MkQiLz4NCjxwYXRoIGQ9Ik03My44IDBIOC4yQzMuNjc3NyAwIDAgMy42Nzc3IDAgOC4yVjgyTDIxLjg2NTMgNjUuNkg3My44Qzc4LjMyMjMgNjUuNiA4MiA2MS45MjIzIDgyIDU3LjRWOC4yQzgyIDMuNjc3NyA3OC4zMjIzIDAgNzMuOCAwWk03My44IDU3LjRIMTkuMTM0N0w4LjIgNjUuNlY4LjJINzMuOFY1Ny40WiIgZmlsbD0iI0Y0NDUyRCIvPg0KPC9zdmc+DQo=\"","module.exports = __webpack_public_path__ + \"static/media/bookmark.1ebaa1ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/Account.2db74875.svg\";","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAxIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEwMSAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik01Ljk0MTE4IDAuMjM1MjkxVjEwNy4xNzZIMFYxMTkuMDU5SDIzLjc2NDdWMTA3LjE3NkgxNy44MjM1Vjc3LjQ3MDZIOTUuMDU4OEM5Ni42MzQ1IDc3LjQ3MDYgOTguMTQ1NyA3Ni44NDQ2IDk5LjI1OTkgNzUuNzMwNEMxMDAuMzc0IDc0LjYxNjMgMTAxIDczLjEwNTEgMTAxIDcxLjUyOTRWMTIuMTE3NkMxMDEgMTAuNTQxOSAxMDAuMzc0IDkuMDMwNzggOTkuMjU5OSA3LjkxNjZDOTguMTQ1NyA2LjgwMjQxIDk2LjYzNDUgNi4xNzY0NyA5NS4wNTg4IDYuMTc2NDdIMTcuODIzNVYwLjIzNTI5MUg1Ljk0MTE4Wk0yOS43MDU5IDE4LjA1ODhWMjkuOTQxMkg0MS41ODgyVjE4LjA1ODhINTMuNDcwNlYyOS45NDEySDY1LjM1MjlWMTguMDU4OEg3Ny4yMzUzVjI5Ljk0MTJIODkuMTE3NlY0MS44MjM1SDc3LjIzNTNWNTMuNzA1OUg4OS4xMTc2VjY1LjU4ODJINzcuMjM1M1Y1My43MDU5SDY1LjM1MjlWNjUuNTg4Mkg1My40NzA2VjUzLjcwNTlINDEuNTg4MlY2NS41ODgySDI5LjcwNTlWNTMuNzA1OUgxNy44MjM1VjQxLjgyMzVIMjkuNzA1OVYyOS45NDEySDE3LjgyMzVWMTguMDU4OEgyOS43MDU5WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTI5LjcwNTYgNDEuODIzMkg0MS41ODc5VjUzLjcwNTZIMjkuNzA1NlY0MS44MjMyWk01My40NzAzIDQxLjgyMzJINjUuMzUyNlY1My43MDU2SDUzLjQ3MDNWNDEuODIzMlpNNDEuNTg3OSAyOS45NDA5SDUzLjQ3MDNWNDEuODIzMkg0MS41ODc5VjI5Ljk0MDlaTTY1LjM1MjYgMjkuOTQwOUg3Ny4yMzVWNDEuODIzMkg2NS4zNTI2VjI5Ljk0MDlaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K\"","module.exports = __webpack_public_path__ + \"static/media/Feedback.b61fd8f4.svg\";","module.exports = __webpack_public_path__ + \"static/media/Help.8d23ff2c.svg\";","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI5IiBoZWlnaHQ9IjEwNiIgdmlld0JveD0iMCAwIDEyOSAxMDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik01LjI1IDE3LjY3NUM1LjI1IDE3LjY3NSAxNC4xNTYyIDUuOCAzNC45Mzc1IDUuOEM1NS43MTg4IDUuOCA2NC42MjUgMTcuNjc1IDY0LjYyNSAxNy42NzVWMTAwLjhDNjQuNjI1IDEwMC44IDU1LjcxODggOTQuODYyNSAzNC45Mzc1IDk0Ljg2MjVDMTQuMTU2MiA5NC44NjI1IDUuMjUgMTAwLjggNS4yNSAxMDAuOFYxNy42NzVaIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTY0LjYyNSAxNy42NzVDNjQuNjI1IDE3LjY3NSA3My41MzEyIDUuOCA5NC4zMTI1IDUuOEMxMTUuMDk0IDUuOCAxMjQgMTcuNjc1IDEyNCAxNy42NzVWMTAwLjhDMTI0IDEwMC44IDExNS4wOTQgOTQuODYyNSA5NC4zMTI1IDk0Ljg2MjVDNzMuNTMxMiA5NC44NjI1IDY0LjYyNSAxMDAuOCA2NC42MjUgMTAwLjhWMTcuNjc1WiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyNi4zLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjQgMTkyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNjQgMTkyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNMTUwLjMsMC45aC04MmMtMy42LDAtNy4xLDEuNC05LjcsNGMtMi42LDIuNi00LDYtNCw5LjZ2MjAuNGgxMy43VjE0LjVoODJ2MTYzLjNoLTgydi0yMC40SDU0Ljd2MjAuNGMwLDMuNiwxLjQsNy4xLDQsOS42DQoJYzIuNiwyLjYsNiw0LDkuNyw0aDgyYzMuNiwwLDcuMS0xLjQsOS43LTRjMi42LTIuNiw0LTYsNC05LjZWMTQuNWMwLTMuNi0xLjQtNy4xLTQtOS42QzE1Ny40LDIuMywxNTQsMC45LDE1MC4zLDAuOXoiLz4NCjxwYXRoIGQ9Ik01MC43LDY0LjlMMjYuMiw4OS4zSDEyM3YxMy42SDI2LjJsMjQuNSwyNC40bC05LjcsOS42TDAsOTYuMWw0MS00MC44TDUwLjcsNjQuOXoiLz4NCjwvc3ZnPg0K\"","module.exports = __webpack_public_path__ + \"static/media/Profile.4fcdd964.svg\";","module.exports = __webpack_public_path__ + \"static/media/Watchlist.3694bcfd.svg\";","module.exports = __webpack_public_path__ + \"static/media/analyze2.def492bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/analytics.96f2c1d2.svg\";","module.exports = __webpack_public_path__ + \"static/media/bank.76a3b142.svg\";","import { useCallback, useEffect, useState } from 'react';\r\nimport { EventRegister } from 'react-native-event-listeners'\r\nimport { LoginResult } from \"@tradingpost/common/api/entities/static/AuthApi\";\r\nimport { IUserGet, ISecurityList } from \"@tradingpost/common/api/entities/interfaces\";\r\nimport AsyncStorage, { useAsyncStorage } from '@react-native-async-storage/async-storage'\r\n\r\n//current_user\r\n//token \r\nexport interface LDS {\r\n    currentUser: IUserGet | undefined,\r\n    loginResult: LoginResult | undefined\r\n    authToken: string | undefined,\r\n    hasAuthed: boolean | undefined,\r\n    securities: {\r\n        list: ISecurityList[],\r\n        byId: Record<number, ISecurityList>,\r\n        bySymbol: Record<string, ISecurityList>\r\n    } | undefined\r\n}\r\n\r\n\r\nlet lds: Partial<Record<keyof LDS, any>> = {}\r\nlet isCachedMap: Partial<Record<keyof LDS, true>> = {\r\n    authToken: true,\r\n    hasAuthed: true\r\n}\r\n\r\nlet isExplirable: Partial<Record<keyof LDS, { duration: number, cachedAt?: number }>> = {\r\n    securities: {\r\n        duration: 4/*hours*/ * 60 * 60 * 1000\r\n    }\r\n}\r\n\r\n\r\n\r\nconst LDS_CACHE_KEY = \"lds\"\r\nconst ldsChangedEvenName = \"lds_changed\";\r\n\r\nexport const useData = <T extends keyof LDS>(key: T) => {\r\n    const expireCheck = isExplirable[key]\r\n    if (expireCheck?.cachedAt && expireCheck.duration <= (Date.now() - expireCheck.cachedAt)) {\r\n        setValue(key, undefined);\r\n    }\r\n\r\n    const [value, _setValue] = useState<LDS[T]>(lds[key]);\r\n\r\n    useEffect(() => {\r\n        const sub = EventRegister.addEventListener(ldsChangedEvenName, (data) => {\r\n\r\n            if (data.key === key) {\r\n                _setValue(lds[key])\r\n            }\r\n\r\n        });\r\n        return () => { EventRegister.removeEventListener(sub as string) };\r\n    }, [key])\r\n    return {\r\n        value,\r\n        setValue: useCallback(async (v: typeof value) => {\r\n            await setValue(key, v)\r\n        }, [key])\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const setValue = async <T extends keyof LDS>(key: T, v: LDS[T]) => {\r\n    lds[key] = v;\r\n    if (isCachedMap[key]) {\r\n        const cachedLds: Partial<LDS> = { ...lds }\r\n        Object.keys(lds).forEach((k) => {\r\n            if (!isCachedMap[k as keyof LDS]) {\r\n                console.log(\"DELETING KEY:\" + k);\r\n                delete cachedLds[k as keyof LDS]\r\n            }\r\n            else {\r\n                console.log(\"CACHING KEY\" + k)\r\n            }\r\n        })\r\n        await AsyncStorage.setItem(LDS_CACHE_KEY, JSON.stringify(cachedLds));\r\n    }\r\n    EventRegister.emit(ldsChangedEvenName, { key })\r\n}\r\n\r\nexport const initLds = async () => {\r\n    //load all cached values\r\n    const result = await AsyncStorage.getItem(LDS_CACHE_KEY);\r\n    if (result) {\r\n        lds = JSON.parse(result);\r\n        Object.keys(lds).forEach((k) =>\r\n            EventRegister.emit(ldsChangedEvenName, { k }));\r\n    }\r\n    return lds;\r\n};","import { ColorSchemeName, useColorScheme as _useColorScheme } from 'react-native';\n\n// The useColorScheme value is always either light or dark, but the built-in\n// type suggests that it can be null. This will not happen in practice, so this\n// makes it a bit easier to work with.\nexport default function useColorScheme(): NonNullable<ColorSchemeName> {\n  return _useColorScheme() as NonNullable<ColorSchemeName>;\n}\n","const tintColorLight = '#2f95dc';\nconst tintColorDark = '#fff';\n\nexport default {\n  light: {\n    text: '#000',\n    background: '#fff',\n    tint: tintColorLight,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorLight,\n  },\n  dark: {\n    text: '#fff',\n    background: '#000',\n    tint: tintColorDark,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorDark,\n  },\n};\n\nexport const AppColors  = {\n  primary : \"#11146F\",\n  secondary:\"#35A265\",\n  background :\"#F7f8f8\"\n}\n\n\n","import { FlexStyle, TextStyle, ViewStyle } from \"react-native\";\r\nimport { AppColors } from \"./constants/Colors\";\r\n\r\nexport const flex = { flex: 1 } as ViewStyle\r\nexport const row: ViewStyle = { flexDirection: \"row\" }\r\nexport const shadow: ViewStyle = {\r\n    elevation: 4,\r\n    shadowOffset: { height: 2, width: 2 },\r\n    shadowColor: \"black\",\r\n    shadowOpacity: 0.125,\r\n    shadowRadius: 0.25,\r\n}\r\n\r\n\r\n\r\nexport function rounded(size: number) {\r\n    return {\r\n        height: size,\r\n        width: size,\r\n        borderRadius: size / 2\r\n    }\r\n}\r\n\r\nexport const fonts = {\r\n    xSmall: 12,\r\n    small: 16,\r\n    medium: 20,\r\n    large: 24,\r\n    xLarge: 32\r\n}\r\n\r\nexport function font(size: keyof typeof fonts, color: string = \"black\", isBold: boolean = false) {\r\n    return {\r\n        fontSize: fonts[size],\r\n        fontWeight: isBold ? \"bold\" : undefined,\r\n        color: color\r\n    } as TextStyle\r\n}\r\n\r\n\r\nexport const sizes = {\r\n    rem0_5: 8,\r\n    rem1: 16,\r\n    rem1_5: 24,\r\n    rem2: 32,\r\n    rem4: 64,\r\n    rem6: 96,\r\n    rem7: 112,\r\n    rem8: 128,\r\n    rem9: 144,\r\n    rem10: 160,\r\n    rem12: 192,\r\n    rem16: 256,\r\n    borderRadius: 2\r\n}\r\n\r\n\r\n\r\nexport const paddView = [flex, { padding: sizes.rem1, backgroundColor: AppColors.background }]\r\nexport const paddViewWhite = [...paddView, { backgroundColor: \"white\" }]\r\n\r\nexport const elevated =\r\n{\r\n    marginHorizontal: 2,\r\n    paddingVertical: 8,\r\n    backgroundColor: \"white\",\r\n    borderColor: \"#ccc\",\r\n    borderWidth: 1,\r\n    borderRadius: 4,\r\n    marginBottom: 16,\r\n    ...shadow\r\n}\r\n\r\n\r\nexport const chartColors = [\r\n    '#2dadf4',\r\n    '#f5523b',\r\n    '#66a1fa',\r\n    '#ff4a6b',\r\n    '#9891f4',\r\n    '#f95399',\r\n    '#c37de1',\r\n    '#e567c1']\r\n\r\n\r\nexport const social = {\r\n    substackColor: '#ff7731'\r\n}\r\n\r\nexport const bannerText = {\r\n    textAlign: \"center\", margin: sizes.rem2, fontSize: fonts.large, lineHeight: fonts.large * 1.5,\r\n} as TextStyle\r\nexport const thinBannerText = [bannerText, {\r\n    marginHorizontal: 0, marginVertical: sizes.rem0_5\r\n} as TextStyle]\r\n\r\n\r\n\r\nexport const textInputWiz = {\r\n    marginVertical: sizes.rem0_5\r\n} as ViewStyle","import React from \"react\";\r\nimport { Pressable, PressableProps, Text, TextProps } from \"react-native\";\r\nimport { AppColors } from \"../constants/Colors\";\r\n//import { Colors, Text, TextProps, TouchableOpacity, TouchableOpacityProps } from 'react-native-ui-lib'\r\n\r\nexport function Link(props: Pick<PressableProps, \"onPress\"> & Pick<TextProps, \"style\" | \"children\">) {\r\n    return <Pressable onPress={props.onPress}>\r\n        <Text style={[{ color: AppColors.primary }, props.style]}>{props.children}</Text>\r\n    </Pressable>\r\n}","import React, { PropsWithChildren, useEffect, useRef, useState } from \"react\";\r\nimport { View, Image } from \"react-native\";\r\nimport { SvgProps } from \"react-native-svg\";\r\n\r\n\r\nexport const SvgExpo = (props: SvgProps & { onReady?: (parent: any) => void }) => {\r\n    const url = (props.children as any).type;\r\n    const lastRef = useRef(\"\");;\r\n    const onReadyRef = useRef(props.onReady);\r\n    onReadyRef.current = props.onReady;\r\n    const divRef = useRef<HTMLDivElement>(null);\r\n\r\n    const [svgData, setSvgData] = useState(\"\");\r\n    useEffect(() => {\r\n\r\n\r\n        lastRef.current = url;\r\n        fetch(url, {}).then((data) => {\r\n            if (data.ok) {\r\n                data.text().then((result) => {\r\n                    if (lastRef.current === url)\r\n                        setSvgData(result);\r\n                    // //hacky right now ... will fix later \r\n\r\n                    setTimeout(() => {\r\n                        if (onReadyRef.current)\r\n                            onReadyRef.current(divRef.current)\r\n                    }, 222)\r\n                });\r\n            }\r\n            else throw data.statusText;\r\n        }).catch(ex => console.log(ex));\r\n\r\n\r\n    }), [url]\r\n\r\n\r\n\r\n    //hacky but gotta convert \r\n    return <View style={props.style}>\r\n        <div ref={divRef} style={{ height: \"100%\", width: \"100%\", justifyContent: \"center\", alignContent: \"center\", alignItems: \"center\", display:\"flex\" }} dangerouslySetInnerHTML={{ __html: svgData }} />\r\n    </View>\r\n}","import _IconNoBg from './assets/store-front-logo2-alt.svg'\r\nimport _IconBg from './assets/store-front.svg'\r\nimport _AppTitle from './assets/app-title.svg'\r\nimport _SplashWelcome from './assets/splash-welcome.svg'\r\n\r\n\r\nimport Logo from './assets/logo.svg'\r\nimport LogoNoBg from './assets/logo-no-bg.svg'\r\n\r\n// import MenuIcon from './assets/side-menu/menu-icon.svg';\r\nimport _PlusIcon from './assets/misc/plus.svg';\r\nimport _UpvoteIcon from './assets/post-feed/upvote.svg'\r\nimport _CommentIcon from './assets/post-feed/comment.svg'\r\nimport _BookmarkActive from './assets/post-feed/bookmark-active.svg'\r\nimport _BookmarkActiveBlue from './assets/post-feed/bookmark-active-blue.svg'\r\nimport _BookmarkInactive from './assets/post-feed/bookmark.svg'\r\n\r\n// /** Side Menu Icons */\r\nimport Account from './assets/side-menu/Account.svg'\r\nimport Competition from './assets/side-menu/Competition.svg'\r\nimport Feedback from './assets/side-menu/Feedback.svg'\r\nimport Help from './assets/side-menu/Help.svg'\r\nimport Learn from './assets/side-menu/Learn.svg'\r\nimport LogOut from './assets/side-menu/Log Out.svg'\r\nimport Profile from './assets/side-menu/Profile.svg'\r\nimport Watchlist from './assets/side-menu/Watchlist.svg'\r\n\r\nimport YouTubeLogo from '@iconify/icons-logos/youtube-icon'\r\nimport SpotifyLogo from '@iconify/icons-logos/spotify-icon'\r\nimport TwitterLogo from '@iconify/icons-logos/twitter'\r\nimport LinkedInLogo from '@iconify/icons-logos/linkedin-icon'\r\nimport SubstackLogo from '@iconify/icons-simple-icons/substack'\r\nimport React, { Component } from 'react'\r\nimport { SvgExpo } from './components/SvgExpo'\r\nimport { SvgProps } from 'react-native-svg'\r\n\r\nexport const sideMenu = {\r\n    Account,\r\n    Competition,\r\n    Feedback,\r\n    Help,\r\n    Learn,\r\n    LogOut,\r\n    Profile,\r\n    Watchlist,\r\n    BookmarkActive: _BookmarkActive,\r\n    BookmarkInactive: _BookmarkInactive,\r\n    BookmarkActiveBlue: _BookmarkActiveBlue\r\n}\r\n\r\nfunction makeExpoSvg(Svg: React.FC<SvgProps>) {\r\n    return (props: SvgProps & { onReady?: (parent: any) => void }) => <SvgExpo {...props}><Svg /></SvgExpo>\r\n}\r\n\r\nexport const AppTitle = makeExpoSvg(_AppTitle)\r\nexport const SplashWelcome = makeExpoSvg(_SplashWelcome)\r\n\r\nexport const IconBg = makeExpoSvg(_IconBg)\r\nexport const IconNoBg = makeExpoSvg(_IconNoBg)\r\nexport const PlusIcon = makeExpoSvg(_PlusIcon)\r\n\r\n// IconBg,\r\n// IconNoBg,\r\n// MenuIcon,\r\n// PlusIcon,\r\nexport const UpvoteIcon = makeExpoSvg(_UpvoteIcon);\r\nexport const CommentIcon = makeExpoSvg(_CommentIcon);\r\nexport const BookmarkActive = makeExpoSvg(_BookmarkActive);\r\nexport const BookmarkActiveBlue = makeExpoSvg(_BookmarkActiveBlue);\r\n\r\n\r\nexport { Logo, LogoNoBg };\r\n\r\n\r\n\r\n\r\nexport const rnui = {\r\n    chevronDown: require('./assets/rnui/chevronDown.png'),\r\n    add: require('./assets/rnui/add.png'),\r\n    plus: require('./assets/rnui/plus.png')\r\n}\r\nexport type NavIconKeys = \"Portfolio\" | \"Search\" | \"Feed\"; //| \"Bookmark\"; //| \"Notification\";\r\nexport const navIcons: Record<NavIconKeys, { active: number, inactive: number }> = {\r\n    \"Portfolio\": {\r\n        active: require(\"./assets/nav-bar/portfolio-active.png\"),\r\n        inactive: require(\"./assets/nav-bar/portfolio.png\")\r\n    },\r\n    \"Feed\": {\r\n        active: require(\"./assets/nav-bar/feed-active.png\"),\r\n        inactive: require(\"./assets/nav-bar/feed.png\")\r\n    },\r\n    \"Search\": {\r\n        active: require(\"./assets/nav-bar/search-active.png\"),\r\n        inactive: require(\"./assets/nav-bar/search.png\")\r\n    },\r\n\r\n    // \"Bookmark\": {\r\n    //     active: require(\"./assets/nav-bar/bookmark-active.png\"),\r\n    //     inactive: require(\"./assets/nav-bar/bookmark.png\")\r\n    // },\r\n    // \"Notification\": {\r\n    //     active: require(\"./assets/nav-bar/notification-active.png\"),\r\n    //     inactive: require(\"./assets/nav-bar/notification.png\")\r\n    // },\r\n}\r\n\r\nexport const BookmarkIcons = {\r\n    active: require(\"./assets/nav-bar/bookmark-active.png\"),\r\n    inactive: require(\"./assets/nav-bar/bookmark.png\")\r\n}\r\n\r\n\r\n\r\nexport const topBarIcons = {\r\n    menu: require('./assets/nav-bar/menu.png')\r\n}\r\n\r\nexport const social = {\r\n    TwitterLogo,\r\n    LinkedInLogo,\r\n    YouTubeLogo,\r\n    SubstackLogo,\r\n    SpotifyLogo,\r\n}\r\n\r\nexport const postBg = require(\"./assets/post-feed/flatgrad.png\");","import React from 'react';\r\nimport { Alert } from \"react-native\";\r\n//import { AmiraError } from '../AmiraError';\r\n\r\nexport type AwaitedReturn<T extends (...args: any[]) => Promise<any>> = Awaited<ReturnType<T>>\r\n\r\nexport function TBI() {\r\n    return console.warn(\"Method has not been implemented\");\r\n}\r\n\r\nexport function randomPrice() {\r\n    return Math.round(Math.random() * 100 * 100) / 100;\r\n}\r\n\r\n\r\nexport function random(maxExclusive: number) {\r\n    return Math.floor(Math.random() * maxExclusive);\r\n}\r\n\r\n\r\nexport function randomArray(maxExclusive: number) {\r\n    return Array.from(new Array(random(maxExclusive) + 1))\r\n}\r\nexport function randomName() {\r\n    return [\"JoshL\", \"LJames\", \"JodyH\"][random(3)]\r\n}\r\n\r\nexport function randomText() {\r\n    const texts = [\"gaping\",\r\n        \"woebegone\",\r\n        \"sticky\",\r\n        \"friendly\",\r\n        \"fine\",\r\n        \"free\",\r\n        \"accessible\",\r\n        \"subsequent\",\r\n        \"labored\",\r\n        \"tan\",\r\n        \"curious\",\r\n        \"brash\",\r\n        \"cautious\",\r\n        \"sassy\",\r\n        \"mushy\",\r\n        \"foreign\",\r\n        \"rightful\",\r\n        \"bad\",\r\n        \"psychological\",\r\n        \"talented\",\r\n        \"grieving\",\r\n        \"scrawny\",\r\n        \"familiar\",\r\n        \"thoughtless\",\r\n        \"daily\",\r\n        \"ritzy\",\r\n        \"elite\",\r\n        \"cool\",\r\n        \"shrill\",\r\n        \"skinny\",\r\n        \"living\",\r\n        \"opposite\",\r\n        \"right\",\r\n        \"red\",\r\n        \"slippery\",\r\n        \"mammoth\",\r\n        \"great\",\r\n        \"spooky\",\r\n        \"polite\",\r\n        \"spotted\",\r\n        \"educated\",\r\n        \"private\",\r\n        \"six\",\r\n        \"belligerent\",\r\n        \"amuck\",\r\n        \"successful\",\r\n        \"exotic\",\r\n        \"guilty\",\r\n        \"prickly\",\r\n        \"shiny\",\r\n    ]\r\n    return texts[random(texts.length)]\r\n}\r\n\r\nexport function randomDateString(pastDate?: boolean) {\r\n    return new Date(new Date().valueOf() + (pastDate ? -1 : 1) * random(31536000)).toUTCString()\r\n}\r\n\r\n\r\nexport function DEV_ONLY(code: () => void) {\r\n    if (!__DEV__)\r\n        throw new Error(\"DEVELOPMENT CODE IS RUNNING IN PRODUCTION\");\r\n    //throw new AmiraError(-1,\"DEVELOPMENT CODE IS RUNNING IN PRODUCTION\");\r\n    else\r\n        code();\r\n}\r\n\r\ntype All<T> = {\r\n    [K in keyof T]-?: T[K]\r\n}\r\n\r\nexport type Undefinable<T> = {\r\n    [K in keyof All<T>]: (T[K] | undefined)\r\n}\r\n\r\nexport function badDate() {\r\n    return toAmiraDate(new Date())\r\n}\r\n\r\nconst pctFormatter = Intl.NumberFormat('en-US', {\r\n    style: 'percent',\r\n})\r\n/**** All of these should be moved to a formatter file */\r\n\r\nexport function toAmiraDate(date: Date) {\r\n    return date.toISOString().replace(/Z/gi, '');\r\n}\r\nexport function fromAmiraDate(date: string) {\r\n    return new Date(date + 'Z');\r\n}\r\n\r\nconst pct2Formatter = Intl.NumberFormat('en-US', {\r\n    style: 'percent',\r\n    minimumFractionDigits: 2\r\n})\r\n\r\nexport function toPercent(number: number) {\r\n    return (number === undefined || number === null) ? \"\" : pctFormatter.format(number)\r\n}\r\nexport function toPercent2(number: number) {\r\n    return (number === undefined || number === null) ? \"\" : pct2Formatter.format(number)\r\n}\r\nconst thousandFormatter = Intl.NumberFormat('en-US', {\r\n    maximumSignificantDigits: 3\r\n})\r\nexport function toThousands(number: number) {\r\n    return thousandFormatter.format(number)\r\n}\r\nconst currencyFormatter = Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: \"USD\",\r\n})\r\n\r\nexport function isoToDate(dateString: string) {\r\n    return dateString.split(\"T\")[0];\r\n}\r\nexport function toDollars(number: number) {\r\n    return toDollarsAndCents(number).split(\".\")[0];\r\n}\r\nexport function toDollarsAndCents(number: number) {\r\n    return currencyFormatter.format(number).split(\".\")[0];\r\n}\r\n","\r\nimport { NavigationProp, useNavigation } from \"@react-navigation/native\"\r\nimport { Icon } from \"@ui-kitten/components\"\r\nimport React from \"react\"\r\nimport { Pressable, Image } from \"react-native\"\r\nimport { AppColors } from \"../constants/Colors\"\r\nimport { AllPages } from \"../navigation\"\r\nimport { sizes } from \"../style\"\r\n\r\nexport const ProfileButton = (props: { userId: string, profileUrl: string, size: number, editable?: boolean }) => {\r\n    const nav = useNavigation<NavigationProp<any>>();\r\n\r\n    return <Pressable\r\n        onPress={props.editable ? async () => {\r\n            nav.navigate(\"ImagePicker\");\r\n        } : () => {\r\n            if (props.userId)\r\n                nav.navigate(\"Profile\", {\r\n                    userId: props.userId\r\n                });\r\n        }}\r\n        style={{\r\n            backgroundColor: \"gray\",\r\n            width: props.size,\r\n            height: props.size,\r\n            borderRadius: props.size / 2,\r\n            alignSelf: \"center\",\r\n            borderWidth: props.size / 32,\r\n            borderColor: \"#ccc\",\r\n            overflow: \"hidden\"\r\n        }}>\r\n        {props.profileUrl ? <Image style={{ height: \"100%\", width: \"100%\" }} source={{ uri: props.profileUrl }} /> : <Icon height={\"100%\"} width={\"100%\"} name=\"person\" />}\r\n    </Pressable>\r\n}","import React, { ReactChild, useLayoutEffect, useState } from \"react\";\r\nimport { Text } from \"@ui-kitten/components\";\r\nimport { View, Image, Pressable } from \"react-native\";\r\n//import { ensureCurrentUser, signOut, useCurrentUser } from \"../apis/Authentication\";\r\nimport { LogoImage } from \"./LogoImage\";\r\nimport { font, fonts, rounded, sizes } from \"../style\";\r\nimport { Link } from \"./Link\";\r\n//import { SetPublicLayout, screens } from \"../layouts/BaseLayout\";\r\nimport { SvgProps } from \"react-native-svg\";\r\nimport { sideMenu } from \"../images\";\r\n//import { parts, screens } from \"../navigationComponents\";\r\n//import { Navigation } from \"react-native-navigation\";\r\n//import { DashProps, fullDashOptions } from \"../layouts/DashboardLayout\";\r\nimport { TBI } from \"../utils/misc\";\r\n//import Clipboard from '@react-native-clipboard/clipboard'\r\n//import { openProfileScreen } from \"../screens/ProfileScreen\";\r\nimport { useData } from \"../lds\";\r\nimport { SvgExpo } from \"./SvgExpo\";\r\n//import { useEnsureUser } from \"./EnsureUser\";\r\nimport { useRef } from \"react\";\r\nimport { IUserGet } from \"@tradingpost/common/api/entities/interfaces\";\r\nimport { useAppUser } from \"../App\";\r\nimport { NavigationProp } from \"@react-navigation/native\";\r\nimport { DrawerContentComponentProps, DrawerContentScrollView, DrawerItem } from \"@react-navigation/drawer\";\r\nimport { DashScreenProps } from \"../navigation\";\r\nimport { ProfileButton } from \"./ProfileButton\";\r\n\r\nconst padSmall = { marginBottom: sizes.rem1 / 8 };\r\n\r\nexport function SideMenu(props: DrawerContentComponentProps & DashScreenProps) {\r\n    //const { value: currentUser } = useData(\"currentUser\");\r\n    //const { value: loginResult } = useData(\"loginResult\");\r\n    const [activeTabIndex, setActiveTab] = useState(2);\r\n\r\n    // useLayoutEffect(() => {\r\n    //     const sub1 = Navigation.events().registerBottomTabSelectedListener(({ selectedTabIndex, unselectedTabIndex }) => {\r\n    //         setActiveTab(selectedTabIndex);\r\n    //     })\r\n    //     return () => sub1.remove();\r\n    // }, [])\r\n    const { setValue: setHasAuthed } = useData(\"hasAuthed\");\r\n    const activeTabId = `BottomTabs_${activeTabIndex}`\r\n    const { signOut } = useAppUser();\r\n    //Not sure if the issue here but this seems to work for now.\r\n    //const { EnsureUser, appUser, signOut } = useEnsureUser(props.navigation as any as NavigationProp<any>);\r\n    const currentUser = props.appUser;\r\n    return <DrawerContentScrollView contentContainerStyle={{ flexGrow: 1 }} style={{ flexGrow: 1, backgroundColor: \"white\" }}>\r\n        <View style={{ alignSelf: \"center\", alignItems: \"center\", backgroundColor: \"transparent\" }}>\r\n            <Pressable\r\n                style={{ alignItems: \"center\" }}\r\n            // onPress={() => screens.push(activeTabId, \"CreateAccount\", {\r\n            //     //                options: fullDashOptions,\r\n            //     passProps: { asProfile: true }\r\n            // })}\r\n\r\n            >\r\n                <View\r\n                    style={[{ marginTop: sizes.rem1 }, padSmall]}\r\n                >\r\n                    <ProfileButton size={80} profileUrl={currentUser.profile_url || \"\"} userId={currentUser.id} />\r\n                </View>\r\n                <Text style={[font(\"xSmall\", \"black\", true), padSmall]} >@{currentUser.handle}</Text>\r\n                <Text style={[font(\"medium\", \"black\", true), padSmall]} >{currentUser.display_name}</Text>\r\n            </Pressable>\r\n            <Text style={[font(\"xSmall\", \"darkgray\", true), padSmall]} >subscribers: TBD</Text>\r\n            <Link style={{ fontSize: fonts.xSmall, fontWeight: \"bold\" }}\r\n            // onPress={() =>\r\n            //      screens.push(activeTabId, \"ManageSubscriptions\", {\r\n            //     options: fullDashOptions,\r\n            //     passProps: { isFullscreen: true } as DashProps\r\n            // })}\r\n            >Manage Subscriptions</Link>\r\n        </View>\r\n        {([{\r\n            label: \"Profile\",\r\n            onPress: () => props.navigation.navigate(\"Profile\", {\r\n                userId: currentUser.id\r\n            }),\r\n            icon: sideMenu.Profile\r\n        },\r\n        {\r\n            label: \"Account\",\r\n            onPress: () => props.navigation.navigate(\"Create\"),\r\n            icon: sideMenu.Account,\r\n        },\r\n        {\r\n            label: \"Bookmarks\",\r\n            onPress: () => props.navigation.navigate(\"Feed\", {\r\n                bookmarkedOnly: \"true\"\r\n            }),\r\n            icon: sideMenu.BookmarkActiveBlue,\r\n        },\r\n        {\r\n            label: \"Logout\",\r\n            onPress: () => {\r\n                setHasAuthed(false);\r\n                signOut()\r\n            },\r\n            icon: sideMenu.LogOut\r\n        }] as { onPress?: () => void, label: string, icon: React.FC<SvgProps> }[]).map((item, index, array) => {\r\n            return <MenuItem\r\n                key={\"SM_\" + index}\r\n                icon={item.icon}\r\n                onPress={item.onPress || TBI}\r\n                navigation={props.navigation}\r\n                isLast={index === array.length - 1}\r\n            >{item.label}</MenuItem>\r\n        })}\r\n        {/* <MenuItem\r\n            onPress={() => props.navigation.navigate(\"Watchlist\")}\r\n            icon={sideMenu.Watchlist}>Watchlists</MenuItem> */}\r\n        {/*\r\n        <MenuItem\r\n            onPress={() => screens.push(activeTabId, \"Feedback\", {\r\n                options: fullDashOptions,\r\n                passProps: { isFullscreen: true }\r\n            })}\r\n            icon={sideMenu.Feedback}>Feedback</MenuItem>\r\n        <MenuItem\r\n            onPress={() => screens.push(activeTabId, \"Competitions\", {\r\n                options: fullDashOptions,\r\n                passProps: { isFullscreen: true }\r\n            })}\r\n            icon={sideMenu.Competition}>Competitions</MenuItem>\r\n        <MenuItem\r\n            icon={sideMenu.Help}>Help</MenuItem> */}\r\n\r\n        {/* <MenuItem\r\n                onPress={() => {\r\n                    //Clipboard.setString(log);\r\n                }}\r\n                icon={sideMenu.LogOut}>Token</MenuItem> */}\r\n    </DrawerContentScrollView>\r\n}\r\n\r\nfunction MenuItem(props: { navigation: DrawerContentComponentProps[\"navigation\"], children: string, icon: React.FC<SvgProps>, onPress?: () => void, isLast?: boolean }) {\r\n    const { icon: SvgElement } = props\r\n    return <DrawerItem\r\n        style={props.isLast ? { marginTop: \"auto\" } : undefined}\r\n        label={props.children}\r\n        icon={(props) => <SvgExpo style={{ height: props.size, width: props.size }}>\r\n            <SvgElement />\r\n        </SvgExpo>}\r\n        onPress={() => {\r\n            props.onPress?.call(undefined);\r\n            props.navigation.closeDrawer();\r\n        }\r\n        }\r\n        labelStyle={{ marginLeft: -16, }}\r\n\r\n    />\r\n    /* <Text style={{ fontSize: fonts.small, marginLeft: 16 }}>{}</Text> */\r\n}","import { Api, Interface } from '@tradingpost/common/api'\r\nimport { IndexPath } from \"@ui-kitten/components\";\r\nimport { PropsWithChildren, useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from \"react\";\r\nimport { Alert, Animated, Keyboard, TextInputProps, TextProps, ViewProps } from \"react-native\";\r\nimport { PickerProps } from \"../components/Picker\";\r\nimport { LDS, useData } from '../lds';\r\nimport { bannerText } from \"../style\";\r\n//import { ToastProps } from \"react-native-ui-lib/typings/components/Toast\";\r\n//import { ITempUser } from \"../interfaces/IUser\";\r\n//import { PickerProps } from '../components/Picker'\r\n//import { PickerItemLabeledValue } from \"react-native-ui-lib/typings\";\r\n//import { SwitchProps } from \"react-native-ui-lib\";\r\n//import { Navigation } from \"react-native-navigation\";\r\n\r\nexport interface IEntity<T> {\r\n    data: Readonly<T>,\r\n    update(updates: Partial<T>): void,\r\n    hasChanged: boolean,\r\n    resetData(newData: T): void\r\n}\r\n\r\n\r\nconst ensureIterable = (value: any): value is Iterable<any> => {\r\n    return Symbol.iterator in Object(value);\r\n}\r\n\r\n\r\n\r\n\r\nlet isLoadingSecurities = false;\r\n//TODO: FIX THIS ... THIS IS DUMB\r\nconst getSecurityList = async (loaded: (secs: Exclude<LDS[\"securities\"], undefined>) => void, onErr: (err: any) => void) => {\r\n    if (!isLoadingSecurities) {\r\n        isLoadingSecurities = true;\r\n        try {\r\n            const list = await Api.Security.extensions.list(),\r\n                byId: Parameters<typeof loaded>[0][\"byId\"] = {},\r\n                bySymbol: Parameters<typeof loaded>[0][\"bySymbol\"] = {}\r\n            list.forEach((r) => {\r\n                byId[r.id] = r;\r\n                bySymbol[r.symbol] = r;\r\n            })\r\n            loaded({\r\n                list,\r\n                byId,\r\n                bySymbol\r\n            });\r\n        }\r\n        catch (ex) {\r\n            //Only sends error to one compoennt... not great.. should be fixed eventually\r\n            onErr(ex);\r\n        }\r\n        finally {\r\n            isLoadingSecurities = false;\r\n        }\r\n    }\r\n}\r\n\r\nexport const useSecuritiesList = () => {\r\n\r\n    const [err, setErr] = useState<any>(),\r\n        { value, setValue } = useData(\"securities\")\r\n\r\n    useEffect(() => {\r\n        getSecurityList(setValue, setErr);\r\n    }, [])\r\n\r\n    return {\r\n        err,\r\n        securities: value || {\r\n            byId:{},\r\n            bySymbol:{},\r\n            list:[]\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const useOpacityAnim = () => {\r\n    const opacityAnim = useRef(new Animated.Value(0)).current\r\n    useEffect(() => {\r\n        Animated.timing(\r\n            opacityAnim,\r\n            {\r\n                delay: 0.75,\r\n                toValue: 1,\r\n                duration: 2000,\r\n                useNativeDriver: true\r\n            }).start();\r\n    }, [])\r\n    return useMemo(() => ({\r\n        opacityAnim,\r\n        BannerText: (props: Omit<TextProps, \"style\">) => {\r\n            return <Animated.Text\r\n                style={[bannerText, { opacity: opacityAnim }]}\r\n                {...props}\r\n            />\r\n        },\r\n        AppearView: (props: Animated.AnimatedProps<ViewProps>) => {\r\n            const styleProp = [{ opacity: opacityAnim } as Animated.AnimatedProps<ViewProps>[\"style\"]]\r\n            if (props.style) {\r\n                if (ensureIterable(props.style))\r\n                    styleProp.unshift(...props.style as any)\r\n                else\r\n                    styleProp.unshift(props.style)\r\n            }\r\n\r\n            return <Animated.View {...props} style={[styleProp]} />\r\n        }\r\n    }), [opacityAnim])\r\n}\r\n\r\nexport function useReadonlyEntity<T>(seedValue: T): IEntity<T> {\r\n    const [data, setData] = useState<Readonly<T>>(seedValue)\r\n    const [hasChanged, setHasChanged] = useState(false);\r\n    return {\r\n        data,\r\n        hasChanged,\r\n        resetData: useCallback(function (d) {\r\n            setHasChanged(false);\r\n            setData(d);\r\n        }, []),\r\n        update: useCallback((updates: Partial<T>) => {\r\n            setHasChanged(true);\r\n            setData((_entity) => ({\r\n                ..._entity,\r\n                ...updates\r\n            }))\r\n        }, [])\r\n    }\r\n}\r\n\r\ntype EnsureTypeFrom<T, U extends keyof T, S> = T[U] extends (S) ? (((v: S) => S) | undefined | null) : (v: S) => T[U]\r\ntype EnsureTypeTo<T, U extends keyof T, S> = T[U] extends (S) ? (((v: S) => S) | undefined | null) : (v: T[U]) => S\r\n\r\ntype ConvertType<T, U extends keyof T, S> = {\r\n    toType: EnsureTypeTo<T, U, S>\r\n    fromType: EnsureTypeFrom<T, U, S>\r\n}\r\n\r\ntype EnsureConverter<T, U extends keyof T, S> = T[U] extends (S) ? (ConvertType<T, U, S> | undefined | null) : ConvertType<T, U, S>\r\n\r\nexport function bindTextInput<T, U extends keyof T>(entity: IEntity<T>, key: U, converter: EnsureConverter<T, U, string | undefined>, onChangeText?: (text: string) => void) {\r\n    return bindTextInputBase(entity, key, converter, {\r\n        valueKey: \"value\",\r\n        onChangeTextKey: \"onChangeText\"\r\n    }, onChangeText)\r\n}\r\n\r\nexport function bindTextInputBase<T, U extends keyof T>(entity: IEntity<T>, key: U, converter: EnsureConverter<T, U, string | undefined>, bindKeys: { valueKey?: string, onChangeTextKey: string }, onChangeText?: (text: string) => void) {\r\n    const output = {\r\n        [bindKeys.onChangeTextKey]: (v: string) => {\r\n            const update: Partial<T> = {};\r\n            entity.update({\r\n                [key]: converter?.fromType ? converter.fromType(v) : v\r\n            } as any)\r\n            if (onChangeText) {\r\n                onChangeText(v);\r\n            }\r\n        }\r\n    };\r\n    if (bindKeys.valueKey)\r\n        output[bindKeys.valueKey] = converter?.toType ? converter.toType(entity.data[key] as any) : (entity.data[key] as any)\r\n    return output;\r\n}\r\n\r\nexport function bindPicker<T, U extends keyof T>(entity: IEntity<T>, key: U, converter: EnsureConverter<T, U, IndexPath | undefined>, onSelect?: (item: IndexPath) => void) {\r\n\r\n    return {\r\n        //value: converter?.toType ? converter.toType(entity.data[key] as any) : (entity.data[key] as any),\r\n        onSelect: (item) => {\r\n            const update: Partial<T> = {};\r\n            //console.log(item);\r\n            entity.update({\r\n                [key]: converter?.fromType ? converter.fromType(item) : item\r\n            } as any)\r\n\r\n            if (onSelect)\r\n                onSelect(item)\r\n        },\r\n        // onChangeText: (v: string) => {\r\n        //     const update: Partial<T> = {};\r\n        //     entity.update({\r\n        //         [key]: converter?.fromString ? converter.fromString(v) : v\r\n        //     } as any)\r\n        //     if (onChangeText) {\r\n        //         onChangeText(v);\r\n        //     }\r\n        // }\r\n    } as Partial<PickerProps<false>>\r\n}\r\n// export function bindMultiPicker<T, U extends keyof T>(entity: IEntity<T>, key: U, converter: EnsureConverter<T, U, (number | string)[] | undefined>, onChange?: (item: (string | number)[]) => void) {\r\n//     return {\r\n//         value: converter?.toType ? converter.toType(entity.data[key] as any) : (entity.data[key] as any),\r\n//         onChange: (item) => {\r\n//             //const update: Partial<T> = {};\r\n//             //console.log(item);\r\n//             entity.update({\r\n//                 [key]: converter?.fromType ? converter.fromType(item) : item\r\n//             } as any)\r\n\r\n//             if (onChange)\r\n//                 onChange(item)\r\n//         },\r\n//         // onChangeText: (v: string) => {\r\n//         //     const update: Partial<T> = {};\r\n//         //     entity.update({\r\n//         //         [key]: converter?.fromString ? converter.fromString(v) : v\r\n//         //     } as any)\r\n//         // if (onChangeText) {\r\n//         //     onChangeText(v);\r\n//         // }\r\n//         //  }\r\n//     } as Partial<PickerProps<true>>\r\n// }\r\n\r\n// export function bindSwitch<T, U extends keyof T>(entity: IEntity<T>, key: U, converter: EnsureConverter<T, U, boolean | undefined>, invert?: boolean, onChange?: (item: boolean) => void) {\r\n//     let calcedValue = converter?.toType ? converter.toType(entity.data[key] as any) : (entity.data[key] as any);\r\n//     if (invert)\r\n//         calcedValue = !calcedValue;\r\n\r\n//     return {\r\n//         value: calcedValue,\r\n//         onValueChange: (item) => {\r\n//             let itemCalced = converter?.fromType ? converter.fromType(item) : item;\r\n//             if (invert)\r\n//                 itemCalced = !itemCalced;\r\n\r\n//             const update: Partial<T> = {};\r\n//             entity.update({\r\n//                 [key]: itemCalced\r\n//             } as any)\r\n\r\n//             if (onChange)\r\n//                 onChange(item)\r\n//         },\r\n\r\n//     } as SwitchProps\r\n// }\r\n\r\n\r\nexport function useIsKeyboardVisible() {\r\n    const [isKeyboardVisible, setIsKeyboardVisible] = useState(false);\r\n\r\n    useLayoutEffect(() => {\r\n        const showSubscription = Keyboard.addListener(\"keyboardDidShow\", () => {\r\n            setIsKeyboardVisible(true);\r\n        });\r\n        const hideSubscription = Keyboard.addListener(\"keyboardDidHide\", () => {\r\n            setIsKeyboardVisible(false)\r\n        });\r\n\r\n        return () => {\r\n            showSubscription.remove();\r\n            hideSubscription.remove();\r\n        };\r\n    }, []);\r\n    return {\r\n        isKeyboardVisible\r\n    }\r\n}\r\n\r\n\r\n//export type ToastMessageFunction = (message: string, duration?: number, override?: ToastProps) => void\r\n// export function useToast() {\r\n//     const [toastProps, setToastProps] = useState<ToastProps>()\r\n//     const toastMessage = useCallback((message: string, duration = 2500, override?: ToastProps) => {\r\n//         setToastProps({\r\n//             autoDismiss: duration,\r\n//             message,\r\n//             showDismiss: true,\r\n//             visible: true,\r\n//             //    color: \"red\",\r\n//             //  backgroundColor: \"white\",\r\n//             onDismiss: () => setToastProps((existing) => ({ ...existing, visible: false })),\r\n//             ...override\r\n//         })\r\n//     }, []);\r\n\r\n//     return {\r\n//         toastProps,\r\n//         //setToastProps,\r\n//         toastMessage\r\n//     }\r\n// }\r\n\r\n\r\n\r\n// export function useOnComponentAppeared(mainComponentId: string, memoizedAction: () => void) {\r\n//     useEffect(() => {\r\n//         const sub = Navigation.events().registerComponentDidAppearListener(\r\n//             ({ componentId }) => {\r\n//                 if (componentId === mainComponentId)\r\n//                     memoizedAction()\r\n//             })\r\n//         return () => sub.remove();\r\n//     }, [memoizedAction])\r\n// }","import React, { ReactElement, useLayoutEffect, useState } from \"react\";\r\nimport { flex, fonts, row, sizes } from \"../style\";\r\nimport { AltPrimaryButton, PrimaryButton } from \"./PrimaryButton\";\r\nimport { Text } from '@ui-kitten/components'\r\nimport { View } from 'react-native'\r\nexport function LabeledField(props: { compact?: boolean, children?: ReactElement, label?: string, leftElement?: (props: { width: number, height: number }) => ReactElement }) {\r\n\r\n    const sz = props.compact ? sizes.rem1 : sizes.rem2\r\n    return <View style={[row, { alignItems: \"center\", marginBottom: sz }]}>\r\n        {props.leftElement && props.leftElement({ height: sz, width: sz })}\r\n        <Text style={[flex, { fontSize: props.compact ? fonts.small : fonts.medium }]}>{props.label}</Text>\r\n        {props.children}\r\n    </View>\r\n\r\n}\r\n\r\n","import React from 'react'\r\n//import { ButtonProps } from \"react-native-ui-lib\";\r\nimport { Button, ButtonProps } from '@ui-kitten/components'\r\nimport { AppColors } from '../constants/Colors'\r\n//import Button from \"react-native-ui-lib/button\";\r\n\r\n\r\nexport function PrimaryButton(props: ButtonProps) {\r\n    return <Button\r\n        //backgroundColor={Colors.primary} \r\n        {...props} />\r\n}\r\n\r\n\r\nexport function AltPrimaryButton(props: ButtonProps) {\r\n    return <Button\r\n        //backgroundColor={Colors.white} \r\n        //color={AppColors.primary}\r\n        // outlineColor={AppColors.primary}\r\n        {...props} />\r\n}","import { Button, ButtonProps } from '@ui-kitten/components';\r\nimport React from 'react'\r\n//import { ButtonProps } from \"react-native\";\r\n//import Button from \"react-native-ui-lib/button\";\r\n//import { Colors } from 'react-native-ui-lib'\r\nimport { PressableButton } from './PressableButton';\r\n\r\n\r\nexport function SecondaryButton(props: ButtonProps) {\r\n    return <Button\r\n        status={'success'} {...props} />\r\n}\r\nexport function AltSecondaryButton(props: ButtonProps) {\r\n    return <Button status={'success'} {...props} />\r\n}","import React, { ReactElement, ReactNode, useLayoutEffect, useState } from \"react\";\r\nimport { Button, ButtonProps, Text } from \"@ui-kitten/components\";\r\nimport { flex, fonts, row, sizes } from \"../style\";\r\nimport { LabeledField } from \"./LabeledField\";\r\nimport { AltPrimaryButton, PrimaryButton } from \"./PrimaryButton\";\r\nimport { AltSecondaryButton, SecondaryButton } from \"./SecondaryButton\";\r\n//import { PlaidLink, PlaidLinkComponentProps } from 'react-native-plaid-link-sdk'\r\n\r\nexport function ButtonField(props: {\r\n    compact?: boolean, secondary?: boolean, label?: string, activeText?: string, disabledText?: string, inactiveText?: string, isActive?: boolean, leftElement?: (props: { width: number, height: number }) => ReactElement\r\n}\r\n    & Pick<ButtonProps, \"onPress\" | \"disabled\">) {\r\n    const [_isActive, setIsActive] = useState(false)\r\n    const buttonLabel =\r\n        (props.disabled && props.disabledText) ?\r\n            props.disabledText :\r\n            (_isActive ?\r\n                (props.activeText || \"Active\") :\r\n                (props.inactiveText || \"Inactive\"))\r\n\r\n    useLayoutEffect(() => {\r\n        setIsActive(props.isActive || false)\r\n    }, [props.isActive])\r\n    const bProps: ButtonProps = {\r\n        style:\r\n        {\r\n            width: sizes.rem9,\r\n            height: sizes.rem2,\r\n            padding: 0,\r\n\r\n        },\r\n        // labelStyle:\r\n        // {\r\n        //     height: sizes.rem1_5,\r\n        //     top: 0\r\n        // },\r\n        children: buttonLabel,\r\n        onPress(ev) {\r\n            setIsActive((a) => props.isActive === undefined ? !a : props.isActive)\r\n            if (props.onPress) {\r\n                props.onPress(ev)\r\n            }\r\n        }\r\n    };\r\n    return <LabeledField compact={props.compact} label={props.label} leftElement={props.leftElement}>\r\n        {_isActive ?\r\n            (!props.secondary ? <PrimaryButton {...bProps} /> : <SecondaryButton {...bProps} />) :\r\n            (!props.secondary ? <AltPrimaryButton {...bProps} /> : <AltSecondaryButton {...bProps} />)}\r\n    </LabeledField>\r\n\r\n}\r\nexport function PlaidButtonField(props: {\r\n    plaidProps: {},// Omit<PlaidLinkComponentProps, \"children\">,\r\n    compact?: boolean, secondary?: boolean, label?: string, activeText?: string, disabledText?: string, inactiveText?: string, isActive?: boolean, leftElement?: (props: { width: number, height: number }) => ReactElement\r\n}\r\n    & Pick<ButtonProps, \"onPress\" | \"disabled\">) {\r\n    const [_isActive, setIsActive] = useState(false)\r\n    const buttonLabel =\r\n        (props.disabled && props.disabledText) ?\r\n            props.disabledText :\r\n            (_isActive ?\r\n                (props.activeText || \"Active\") :\r\n                (props.inactiveText || \"Inactive\"))\r\n\r\n    useLayoutEffect(() => {\r\n        setIsActive(props.isActive || false)\r\n    }, [props.isActive])\r\n    const bProps: ButtonProps = {\r\n        style:\r\n        {\r\n            width: sizes.rem9,\r\n            height: sizes.rem2,\r\n            padding: 0,\r\n\r\n        },\r\n        // labelStyle:\r\n        // {\r\n        //     height: sizes.rem1_5,\r\n        //     top: 0\r\n\r\n        // },\r\n        children: buttonLabel,\r\n        onPress(ev) {\r\n            setIsActive((a) => props.isActive === undefined ? !a : props.isActive)\r\n            if (props.onPress) {\r\n                props.onPress(ev)\r\n            }\r\n        }\r\n    };\r\n    return <LabeledField compact={props.compact} label={props.label} leftElement={props.leftElement}>\r\n        <Text>BROKEN</Text>\r\n        {\r\n        /* <PlaidLink {...props.plaidProps}>\r\n        <View pointerEvents=\"none\">\r\n            {_isActive ?\r\n                (!props.secondary ? <PrimaryButton {...bProps} /> : <SecondaryButton {...bProps} />) :\r\n                (!props.secondary ? <AltPrimaryButton {...bProps} /> : <AltSecondaryButton {...bProps} />)}\r\n        </View>\r\n    </PlaidLink> */}\r\n    </LabeledField >\r\n\r\n}\r\n\r\n\r\n\r\n","import React, { MutableRefObject, RefObject, useEffect, useRef, useState } from 'react';\r\nimport { ViewStyle, TextInputProps } from 'react-native';\r\n//import { Colors } from 'react-native-ui-lib';\r\nimport { Text, Input, InputProps } from '@ui-kitten/components'\r\n\r\n\r\n// interface IRnField {\r\n//     focus(): void,\r\n//     clear(): void\r\n// }\r\nexport interface ITextField {\r\n    field: RefObject<Input>,\r\n    errorMessage?: string\r\n    validate: () => boolean\r\n}\r\nexport function TextField(props: {\r\n    label?: string,\r\n    textInputRef?: MutableRefObject<ITextField | null>\r\n    disabled?: boolean\r\n    validate?: (value: string | undefined) => boolean,\r\n    validateOnChange?: boolean\r\n    errorMessage?: string,\r\n    //defaulted this to false... which is the right way to to a positive assetion...  \r\n    spellCheck?: boolean,\r\n    //defaulted this to false... which is the right way to to a positive assetion...  \r\n    autoCorrect?: boolean,\r\n    //caption?: InputProps[\"caption\"],\r\n\r\n} & TextInputProps & Pick<InputProps, \"caption\" | \"accessoryLeft\" | \"accessoryRight\">) {\r\n    const rnuRef = useRef<Input>(null);\r\n    const [caption, setCaption] = useState<InputProps[\"caption\"]>();\r\n    const [valueTracker, setValueTracker] = useState<string>();\r\n\r\n    useEffect(() => {\r\n        setCaption(props.caption);\r\n    }, [props.caption])\r\n    useEffect(() => {\r\n        setValueTracker(props.value);\r\n    }, [props.value])\r\n    const { validate } = props;\r\n    if (props.textInputRef) {\r\n        props.textInputRef.current = {\r\n            errorMessage: /* props.errorMessage instanceof Array ? props.errorMessage.join(\",\") :*/ props.errorMessage,\r\n            validate: () => validate ? validate(valueTracker) : true,\r\n            field: rnuRef\r\n        }\r\n    }\r\n\r\n    //const tt = { spellCheck: true, autoCorrect:false } as TextInputProps\r\n\r\n    return <Input\r\n        ref={rnuRef}\r\n        numberOfLines={props.numberOfLines}\r\n        spellCheck={props.spellCheck || false}\r\n        autoCorrect={props.autoCorrect || false}\r\n        editable={!props.disabled}\r\n        //disabledColor={props.disabledColor || Colors.grey20}\r\n        //placeholder=\"Enter Email...\"\r\n        //validateOnChange={props.validateOnChange}\r\n        caption={caption}\r\n        accessoryLeft={props.accessoryLeft}\r\n        accessoryRight={props.accessoryRight}\r\n        //validate={props.validate}\r\n        //errorMessage={props.errorMessage}\r\n        value={props.value}\r\n        //markRequired={props.markRequired}\r\n        //ref={props.textInputRef?.current?.field}\r\n        onSubmitEditing={props.onSubmitEditing}\r\n        label={props.label}\r\n        onChangeText={(t) => {\r\n            setValueTracker(t);\r\n            if (validate && props.validateOnChange) {\r\n                let errorMessage: string | undefined = undefined;\r\n                let newCaption: InputProps[\"caption\"] = undefined;\r\n                if (!validate(t)) {\r\n                    errorMessage = props.errorMessage;\r\n                    newCaption = () => <Text category={\"c1\"} style={{ color: \"red\" }}>{errorMessage}</Text>;\r\n                }\r\n\r\n                if (props.textInputRef?.current) {\r\n                    props.textInputRef.current.errorMessage = errorMessage;\r\n                    //props.textInputRef.current.validate = () => validate(t);\r\n                }\r\n                setCaption(() => newCaption);\r\n            }\r\n\r\n            if (props.onChangeText)\r\n                props.onChangeText(t);\r\n        }}\r\n        secureTextEntry={props.secureTextEntry}\r\n        returnKeyType={props.returnKeyType}\r\n        placeholder={props.placeholder}\r\n        //error={props.error}\r\n        style={props.style}\r\n    //hideUnderline={props.disabled}\r\n    //containerStyle={props.containerStyle}\r\n    />\r\n}\r\n","export function isValidEmail(email: string | undefined) {\r\n    return /^[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~](\\.?[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\\.?[a-zA-Z0-9])*\\.[a-zA-Z](-?[a-zA-Z0-9])+$/.test(email || \"\")\r\n}\r\n\r\nexport function isRequired(value: string | undefined) {\r\n    return (value || \"\").replace(/ /gi, '').length > 0;\r\n}\r\n\r\nexport function isAlphaNumeric(value: string | undefined) {\r\n    return /^[a-z0-9\\_]+$/i.test(value||\"\")\r\n}","import React, { ReactNode } from \"react\";\r\nimport { View, ScrollView } from \"react-native\";\r\nimport { AppColors } from \"../constants/Colors\";\r\n\r\nimport { flex } from \"../style\";\r\nimport { useIsKeyboardVisible } from \"../utils/hooks\";\r\nimport { PrimaryButton } from \"./PrimaryButton\";\r\nimport { SecondaryButton } from \"./SecondaryButton\";\r\n\r\nexport function ScrollWithButtons(props: { children?: ReactNode, buttons?: ButtonPanelProps, fillHeight?: boolean }) {\r\n    const { isKeyboardVisible } = useIsKeyboardVisible();\r\n    return <View style={[flex,]} >\r\n        <View style={[flex, { backgroundColor: AppColors.background }]} >\r\n            <ScrollView nestedScrollEnabled contentContainerStyle={[{ maxHeight: \"100%\", height: props.fillHeight ? \"100%\" : undefined }]}>\r\n                {/* This is here to force layout of the content. Seems like a but with enxted scrollview content */}\r\n                {!isKeyboardVisible && <View style={{ height: 0 }} ></View>}\r\n                {props.children}\r\n            </ScrollView>\r\n        </View>\r\n        {props.buttons && <ButtonPanel {...props.buttons} />}\r\n    </View>\r\n}\r\n\r\nexport type ButtonPanelProps = {\r\n    locked?: boolean,\r\n    left?: {\r\n        text: string,\r\n        onPress: () => void\r\n    },\r\n    right: {\r\n        text: string,\r\n        onPress: () => void\r\n    }\r\n}\r\nexport function ButtonPanel(props: ButtonPanelProps) {\r\n    return <View style={[{ borderTopColor: \"#ccc\", borderTopWidth: 1, flexDirection: \"row\", paddingTop: 8, paddingBottom: 8, justifyContent: \"space-evenly\", zIndex: 1000 }]}>\r\n        {props.left && <SecondaryButton style={{ width: \"48%\" }} onPress={props.left.onPress} disabled={props.locked} >{props.left.text}</SecondaryButton>}\r\n        <PrimaryButton style={{ width: props.left ? \"48%\" : \"96%\" }} onPress={props.right.onPress} disabled={props.locked} >{props.right.text}</PrimaryButton>\r\n    </View>\r\n}\r\n","import React, { useState, useRef, useEffect, RefObject, useMemo } from \"react\";\r\nimport { Alert, TouchableOpacity, Image, ImageStyle, ViewStyle, View, Animated } from \"react-native\";\r\n//import { Navigation } from \"react-native-navigation\";\r\n//import { Nav } from '@react-navigation/native'\r\nimport { Input, Text, } from \"@ui-kitten/components\";\r\n//import { signOut, getStoredCreds, CreateAuth0User, UpdateUserProfile, signInStoredCreds } from \"../../apis/Authentication\";\r\nimport { ButtonField } from \"../../components/ButtonField\";\r\nimport { IconifyIcon } from \"../../components/IconfiyIcon\";\r\nimport { Section } from \"../../components/Section\";\r\nimport { TextField, ITextField } from \"../../components/TextField\";\r\nimport { bannerText, flex, sizes, textInputWiz } from \"../../style\";\r\nimport { bindTextInput, IEntity, useReadonlyEntity } from \"../../utils/hooks\";\r\nimport { isRequired, isValidEmail, isAlphaNumeric } from \"../../utils/validators\";\r\nimport { CreateAccountProps, sideMargin, useChangeLock } from \"../CreateAccountScreen\";\r\n\r\nimport { ScrollWithButtons } from \"../../components/ScrollWithButtons\";\r\nimport { ProfileBanner } from \"../../components/ProfileBanner\";\r\nimport { Label } from \"../../components/Label\";\r\nimport { TBI } from \"../../utils/misc\";\r\nimport { AppColors } from \"../../constants/Colors\";\r\nimport Auth from '@tradingpost/common/api/entities/static/AuthApi'\r\nimport { useAppUser } from \"../../App\";\r\nimport { useData } from \"../../lds\";\r\nimport { useLinkTo } from \"@react-navigation/native\";\r\n\r\n\r\ntype FieldRefs = {\r\n    first: RefObject<ITextField>,\r\n    last: RefObject<ITextField>,\r\n    email: RefObject<ITextField>,\r\n    username: RefObject<ITextField>,\r\n    pass: RefObject<ITextField>,\r\n    confirm: RefObject<ITextField>\r\n}\r\ntype LoginInfo = { email?: string, password?: string };\r\n\r\nexport function AccountInfoSection(props: CreateAccountProps) {\r\n    const\r\n        [lockButtons, setLockButtons] = useChangeLock(props),\r\n        //isAuthed = Boolean(props.login), //ensureAuthProps(props),\r\n        isBroken = !useMemo(() => Boolean(props.user.data.first_name), []) || !useMemo(() => Boolean(props.user.data.last_name), []),\r\n        { value: loginResult, setValue: setLoginResult } = useData(\"loginResult\"),\r\n        { appUser } = useAppUser(),\r\n        //isUnconfirmed = isAuthed && !isBroken,\r\n        loginEntity = useReadonlyEntity<LoginInfo>({}),\r\n        linkTo = useLinkTo<any>(),\r\n        refs: FieldRefs = {\r\n            first: useRef<ITextField>(null),\r\n            last: useRef<ITextField>(null),\r\n            email: useRef<ITextField>(null),\r\n            username: useRef<ITextField>(null),\r\n            pass: useRef<ITextField>(null),\r\n            confirm: useRef<ITextField>(null),\r\n        },\r\n        buttonConfig = {\r\n            locked: lockButtons,\r\n            // left: isUnconfirmed || isBroken ? {\r\n            //     text: \"Cancel\",\r\n            //     onPress: async () => {\r\n            //         props.navigation.goBack();\r\n            //         //await signOut();\r\n            //         //TBI();\r\n            //         //Navigation.pop(props.componentId)\r\n            //     }\r\n            // }\r\n            left: (props.saveOnly ? undefined : {\r\n                text: \"Cancel\",\r\n                onPress: () => {\r\n                    if (props.navigation.canGoBack()) {\r\n                        props.navigation.goBack()//Navigation.pop(props.componentId)\r\n                    }\r\n                    else {\r\n                        linkTo(\"/login\");\r\n                    }\r\n                }\r\n            }),\r\n            right:\r\n            // isUnconfirmed ? {\r\n            //     text: \"I'm Verified\",\r\n            //     onPress: async () => {\r\n            //         setLockButtons(true);\r\n            //         try {\r\n            //             TBI();\r\n            //             // const account = await signInStoredCreds();\r\n            //             // if (account && !account.status_confirmed)\r\n            //             //     props.toastMessage(\"Verification has not been completed.\")\r\n            //         }\r\n            //         catch (ex) {\r\n            //             //console.error(ex);\r\n            //             props.toastMessage(\"Error trying to sign in\");\r\n            //         }\r\n            //         setLockButtons(false);\r\n            //     }\r\n            // } :\r\n            {\r\n                text: props.saveOnly ? \"Apply\" : \"Create\",\r\n                onPress: async () => {\r\n                    setLockButtons(true);\r\n                    const errors: string[] = [];\r\n                    try {\r\n                        for (const k in refs) {\r\n                            const val = refs[k as keyof typeof refs];\r\n                            if (val.current && !val.current.validate()) {\r\n                                errors.push(val.current.errorMessage || \"\");\r\n                            }\r\n                        }\r\n                        if (errors.length) {\r\n                            errors.unshift(\"Please fix the following issues:\");\r\n                            props.toastMessage(errors.join(\"\\r\\n\"));\r\n                            setLockButtons(false);\r\n                        }\r\n                        else if (!false) {  //create new user\r\n                            //Alert.alert(\"CREATING\", \"USER DATA\")\r\n                            //await CreateAuth0User(props.user.data);\r\n                            //TBI();\r\n                            if (loginEntity.data.email && loginEntity.data.password) {\r\n                                const login = await Auth.createLogin(loginEntity.data.email, loginEntity.data.password);\r\n                                setLoginResult(login);\r\n                            }\r\n                            else {\r\n                                throw new Error(\"Something is very wrong.\" + JSON.stringify(loginEntity.data))\r\n                            }\r\n                            setLockButtons(false);\r\n                        }\r\n                        else { //patch authed user\r\n\r\n                            //await UpdateUserProfile(props.user.data);\r\n                            TBI();\r\n                            props.user.resetData(props.user.data);\r\n\r\n                            if (!props.saveOnly)\r\n                                props.next();\r\n\r\n                        }\r\n                    } catch (ex: any) {\r\n                        if (ex.json) {\r\n                            props.toastMessage(`${ex.json.name}:\\r\\n${ex.json.policy || ex.json.description}`);\r\n                        }\r\n                        else if (typeof ex.message === \"string\") {\r\n                            props.toastMessage(ex.message);\r\n                        }\r\n                        else props.toastMessage(JSON.stringify(ex.message));\r\n                        setLockButtons(false);\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n    useEffect(() => {\r\n        if (props.saveOnly)\r\n            setLockButtons(!props.user.hasChanged);\r\n    }, [props.saveOnly, props.user.hasChanged]);\r\n\r\n\r\n    return <ScrollWithButtons\r\n        buttons={buttonConfig}>\r\n        {//isUnconfirmed ? <UnverifiedEmail  {...props} />: \r\n            <AccountBasicInfo refs={refs} isAuthed={false} loginEntity={loginEntity} {...props} />\r\n        }\r\n    </ScrollWithButtons >\r\n}\r\n\r\nfunction AccountBasicInfo(props: CreateAccountProps & { refs: FieldRefs, isAuthed: boolean, loginEntity: IEntity<LoginInfo> }) {\r\n    const { refs, isAuthed } = props,\r\n        opacityAnim = useRef(new Animated.Value(0)).current;\r\n\r\n    useEffect(() => {\r\n        Animated.timing(\r\n            opacityAnim,\r\n            {\r\n                delay: 0.75,\r\n                toValue: 1,\r\n                duration: 2000,\r\n                useNativeDriver: true\r\n            }).start();\r\n    }, [])\r\n\r\n    return <View>\r\n        <View style={[flex, { margin: sideMargin }]}>\r\n            <Animated.Text\r\n                style={[bannerText, { opacity: opacityAnim }]}>\r\n                Let's start with some login information\r\n            </Animated.Text>\r\n            {/* <Section title={'Personal Information'}>\r\n                <TextField label='Name'\r\n                    validate={isRequired}\r\n                    errorMessage={\"`Name` is required\"}\r\n                    textInputRef={refs.first}\r\n                    validateOnChange placeholder='First Name' returnKeyType=\"none\" {...bindTextInput(props.user, \"first_name\", null)} />\r\n                <TextField\r\n                    label='Last'\r\n                    errorMessage={\"`Last Name` is required\"}\r\n                    textInputRef={refs.last}\r\n                    validate={isRequired}\r\n                    validateOnChange placeholder='Last Name' returnKeyType=\"none\"  {...bindTextInput(props.user, \"last_name\", null)} />\r\n            </Section> */}\r\n            {/* <Section title={'Login Information'} > */}\r\n            <TextField\r\n                //label='Email'\r\n                style={textInputWiz}\r\n                textInputRef={refs.email}\r\n                errorMessage={\"`Email Address` is invalid\"}\r\n                disabled={isAuthed}\r\n                validate={isValidEmail}\r\n                validateOnChange placeholder='Email Address' returnKeyType=\"none\" {...bindTextInput(props.loginEntity, \"email\", null)}\r\n            />\r\n            {/* <TextField \r\n                    //label='Username'\r\n                    style={textInputWiz}\r\n                    textInputRef={refs.username}\r\n                    validate={isAlphaNumeric}\r\n                    validateOnChange\r\n                    disabled={isAuthed}\r\n                    errorMessage={\"`Username` must be alphanumeric\"}\r\n                    placeholder='Account Username' returnKeyType=\"none\" {...bindTextInput(props.user, \"handle\", null)} /> */}\r\n            {\r\n                isAuthed ?\r\n                    <ButtonField\r\n                        compact\r\n                        isActive\r\n                        label='Password'\r\n                        activeText='Change'\r\n                    />\r\n                    : <>\r\n                        <TextField\r\n                            //label='Password'\r\n                            style={textInputWiz}\r\n                            textInputRef={refs.pass}\r\n                            validate={isRequired}\r\n                            validateOnChange\r\n                            errorMessage={\"`Password` is required.\"}\r\n                            placeholder='Account Password' returnKeyType=\"none\" secureTextEntry\r\n                            {...bindTextInput(props.loginEntity, \"password\", null)} />\r\n                        <TextField\r\n                            //label='Confirm'\r\n                            style={textInputWiz}\r\n                            textInputRef={refs.confirm}\r\n                            placeholder='Confirm Password'\r\n                            returnKeyType=\"none\"\r\n                            errorMessage={\"'Confirm' does not match.\"}\r\n                            validateOnChange\r\n                            validate={(c) => Boolean(c) && c === props.loginEntity.data.password}\r\n                            secureTextEntry\r\n                        />\r\n                    </>\r\n            }\r\n            {/* </Section> */}\r\n        </View>\r\n    </View >\r\n}\r\n\r\nfunction UnverifiedEmail(props: CreateAccountProps) {\r\n    return <View style={[flex, { margin: sideMargin }]}>\r\n        <View>\r\n            {/* <Text style={{ fontSize:sizes.rem1_5 }}>Email verification is required for:</Text> */}\r\n            <Text style={{ fontSize: sizes.rem1 * 1.25, alignSelf: \"center\" }} >Please verify your account</Text>\r\n            <View style={{ marginBottom: sizes.rem1, marginTop: sizes.rem1, backgroundColor: \"white\", borderColor: \"#ccc\", padding: sizes.rem1, borderWidth: 1, alignSelf: \"center\", shadowColor: \"black\", shadowRadius: 10, elevation: 4 }}>\r\n                <Image source={{ uri: props.user.data.profile_url, height: 120, width: 120 }} height={120} width={120} style={{ marginBottom: sizes.rem1 / 2, borderRadius: 60, alignSelf: \"center\" }} />\r\n                <Text style={{ marginBottom: sizes.rem1 / 2, color: AppColors.primary, fontWeight: \"bold\", fontSize: sizes.rem1, alignSelf: \"center\" }} >@{props.user.data.handle}</Text>\r\n                <Text style={{ fontSize: sizes.rem1, alignSelf: \"center\", color: \"black\" }} >{props.user.data.display_name}</Text>\r\n            </View>\r\n            <Text style={{ fontSize: sizes.rem1 * 1.25, alignSelf: \"center\" }} >An email has been sent to:</Text>\r\n            <Text style={{ fontWeight: \"bold\", fontSize: sizes.rem1 * 1.25, alignSelf: \"center\" }} >{props.user.data.email}</Text>\r\n        </View>\r\n    </View>\r\n}\r\n","import React from 'react'\r\nimport { TextStyle, ViewStyle } from 'react-native';\r\nimport { Text } from \"@ui-kitten/components\";\r\nimport { fonts } from '../style';\r\nimport { AppColors } from '../constants/Colors';\r\n\r\nexport function Header(props: { text: string, style?: TextStyle }) {\r\n    return <Text\r\n        style={[{ color: AppColors.primary, fontSize: fonts.large, marginBottom: 8 }, props.style]}\r\n    >{props.text}{ }</Text>\r\n}\r\n\r\n\r\nexport function Subheader(props: { text: string, style?: TextStyle }) {\r\n    return <Text\r\n        //color={Colors.primary}\r\n        style={[{ color:AppColors.secondary, fontSize: fonts.small, marginBottom: 8 }, props.style]}\r\n    >{props.text}{ }</Text>\r\n}","import React, { ReactElement, ReactNode } from 'react'\r\nimport { View, ViewProps, ViewStyle } from 'react-native';\r\n\r\nimport { elevated, sizes } from '../style';\r\nimport { Header, Subheader } from './Headers'\r\n\r\ninterface SecitonProps {\r\n    title: string,\r\n    useSubHeading?: boolean,\r\n    children?: ReactNode,\r\n    button?: (props: { height: number, width: number }) => ReactElement,\r\n    alt?: boolean\r\n    style?: ViewProps[\"style\"]\r\n}\r\n\r\nexport function Section(props: SecitonProps) {\r\n    const { title, children, useSubHeading } = props;\r\n    return (\r\n        <View style={[{ backgroundColor: \"white\", marginBottom: sizes.rem1 }, props.style]}>\r\n            <View style={{ flexDirection: \"row\", justifyContent: \"space-between\" }}>\r\n                {Boolean(title) && (useSubHeading ? <Subheader text={title} style={{ color: props.alt ? \"#434343\" : undefined }} /> : <Header text={title} />)}\r\n                {props.button && props.button({ height: sizes.rem1_5, width: sizes.rem1_5 })}\r\n            </View>\r\n            {children}\r\n        </View>\r\n    )\r\n}\r\n\r\nexport function Subsection(props: Omit<SecitonProps, 'useSubHeading'>) {\r\n    return <Section useSubHeading {...props} />\r\n}\r\n\r\nexport const ElevatedSection = (props: Parameters<typeof Section>[0]) => {\r\n    const style = [[elevated, { paddingHorizontal: sizes.rem1 }], props.style]\r\n    return <Section {...props} style={style} />\r\n}","import React, { useLayoutEffect, useState } from 'react'\r\n\r\n//import { rnui } from '../images'\r\nimport { Text, Image } from 'react-native'\r\nimport { IndexPath, Select, SelectItem, SelectProps } from '@ui-kitten/components'\r\n\r\nexport type PickerProps<T extends boolean> = Omit<SelectProps, \"children\" | \"mode\" | \"onSelect\" | \"value\" | \"migrate\" | \"spellCheck\" | \"selectedIndex\"> & {\r\n    selectionLimit?: number, multiSelect?: T,\r\n    // selectedIndex?: (T extends false ? (IndexPath) : (IndexPath)[]),\r\n    items: { label: string, value: string | number, iconUrl?: string }[],\r\n    value?: T extends false ? (string | number) : (string | number)[]\r\n    onSelect?: (item: (T extends false ? IndexPath : IndexPath[])) => void\r\n}\r\n\r\nexport function Picker<T extends boolean = false>(props: PickerProps<T>) {\r\n\r\n    const [_value, setValues] = useState<PickerProps<T>[\"value\"]>(props.value);\r\n\r\n    // useLayoutEffect(() => {\r\n    //     setValues();\r\n    // }, [props.value])\r\n\r\n    return <Select\r\n        //rightIconSource={rnui.chevronDown}\r\n        //spellCheck={false} \r\n        //migrate \r\n        //selectionLimit={props.selectionLimit}\r\n        //multiSelect={props.multiSelect}\r\n        //mode={props.multiSelect ? \"MULTI\" : \"SINGLE\"}\r\n        {...props}\r\n        //value={(p) => <Text {...p}></Text>}\r\n        value={_value instanceof Array ? props.items.map((item) => \"TEST\").filter(v => v).join(\",\") : props.items.find((v) => v.value === _value)?.label || props.placeholder}\r\n\r\n        onSelect={(v) => {\r\n            if (v instanceof Array) {\r\n                setValues(v.map((v) => props.items[v.row].value) as any);\r\n            }\r\n            else {\r\n                // console.log(\"TESTTTTT::::::\" + props.items[v.row].value as any);\r\n                setValues(props.items[v.row].value as any);\r\n            }\r\n\r\n            if (props.onSelect)\r\n                props.onSelect(v as any);\r\n        }}\r\n        selectedIndex={\r\n            props.multiSelect ? props.items.map((i, idx) =>\r\n                Boolean(props.items.find(_item => _item.value === i.value)) ?\r\n                    new IndexPath(idx) : null).filter(v => v) as IndexPath[] :\r\n                new IndexPath(props.items.findIndex((i, idx) => i.value === _value))\r\n        }>\r\n        {props.items.map(i => <SelectItem accessoryLeft={(props) => <Image {...props} source={{ uri: i.iconUrl }} />} title={i.label} key={i.value} />)}\r\n    </Select >\r\n}","import React from 'react';\r\nimport MultiSlider, { MultiSliderProps } from '@ptomasroos/react-native-multi-slider';\r\n\r\nexport function Slider(props: MultiSliderProps) {\r\n    return <MultiSlider\r\n\r\n        //thumbTintColor={Colors.primary}\r\n        //maximumTrackTintColor={Colors.grey50}\r\n        //minimumTrackTintColor={Colors.grey50} \r\n        {...props} />\r\n}","import { Icon } from \"@ui-kitten/components\";\r\nimport React from \"react\";\r\nimport { Pressable, PressableProps, StyleProp, ViewStyle } from \"react-native\";\r\nimport { AppColors } from \"../constants/Colors\";\r\n\r\nexport const AddButton = (props: Pick<PressableProps, \"onPress\"> & Pick<ViewStyle, \"height\" | \"width\">) => {\r\n    return <Pressable onPress={props.onPress} style={{ justifyContent: \"center\" }} ><Icon\r\n        //fill={AppColors.secondary}\r\n        fill={AppColors.secondary}\r\n        name=\"plus-square\" style={{\r\n            height: props.height,\r\n            width: props.width\r\n        }} /></Pressable>\r\n}\r\n\r\nexport const EditButton = (props: Pick<PressableProps, \"onPress\"> & Pick<ViewStyle, \"height\" | \"width\"> & { style?: ViewStyle }) => {\r\n    return <Pressable onPress={props.onPress} style={[{ justifyContent: \"center\" }, props.style]}><Icon\r\n        //fill={AppColors.secondary}\r\n        fill={\"#708090\"}\r\n        name=\"edit-outline\" style={{\r\n            height: props.height,\r\n            width: props.width\r\n        }} /></Pressable>\r\n}\r\n\r\nexport const FavButton = (props: Pick<PressableProps, \"onPress\"> & Pick<ViewStyle, \"height\" | \"width\"> & { isSelected?: boolean }) => {\r\n    return <Pressable onPress={props.onPress} style={{ justifyContent: \"center\" }}><Icon\r\n        //fill={AppColors.secondary}\r\n        fill={props.isSelected ? \"#F6BE00\" : \"#708090\"}\r\n        name={props.isSelected ? \"star\" : \"star-outline\"} style={{\r\n            height: props.height,\r\n            width: props.width\r\n        }} /></Pressable>\r\n}\r\n","import React, { useEffect, useMemo, useState } from \"react\"\r\nimport { Autocomplete, AutocompleteItem, Button, Icon, IndexPath, Text, Layout } from \"@ui-kitten/components\"\r\n//import { referenceData } from \"../../apis/ReferenceData\"\r\nimport { ChipPicker } from \"../../components/ChipBar\"\r\nimport { ElevatedSection, Section } from \"../../components/Section\"\r\nimport { PlusIcon } from \"../../images\"\r\nimport { bannerText, flex, paddView, sizes, thinBannerText } from \"../../style\"\r\nimport { Picker } from '../../components/Picker'\r\nimport {\r\n    CreateAccountProps,\r\n    sideMargin, useChangeLock\r\n} from \"../CreateAccountScreen\"\r\n\r\nimport {\r\n    //bindMultiPicker,\r\n    bindPicker,\r\n    useOpacityAnim,\r\n    useReadonlyEntity,\r\n    useSecuritiesList\r\n} from \"../../utils/hooks\"\r\n//import { UpdateUserProfile } from \"../../apis/Authentication\"\r\nimport { ChipTextField } from \"../../components/ChipTextField\"\r\nimport { ScrollWithButtons } from \"../../components/ScrollWithButtons\"\r\nimport { Alert, Pressable, TextStyle, View } from \"react-native\"\r\nimport { Slider } from \"../../components/Slider\"\r\nimport { AppColors } from \"../../constants/Colors\"\r\nimport { Api } from \"@tradingpost/common/api\"\r\nimport { AddButton } from \"../../components/AddButton\"\r\n\r\n//import { AppConfig } from \"../../apis/ApplicationApi\"\r\n\r\n\r\nconst investmentStrats = [\r\n    'Buy & Hold',\r\n    'Growth-Focused',\r\n    'Swing Trading',\r\n    'Momentum',\r\n    'Day Trading',\r\n    'Index Investing',\r\n    'Value-Focused',\r\n    'Long/Short',\r\n    'Opportunistic ',\r\n    'Concetrated',\r\n    'Diversified'\r\n];\r\nconst questionStyle = { fontSize: 16, marginBottom: sizes.rem1, marginTop: sizes.rem1_5 } as TextStyle;\r\n\r\nconst gicsAC = ['SaaS',\r\n    'Biotech',\r\n    'AdTech',\r\n    'Tech',\r\n    'Fintech',\r\n    'Specialty Finance',\r\n    'Aero/Defense',\r\n    'Industrial',\r\n    'Medtech',\r\n    'Cloud',\r\n    'Consumer',\r\n    'Banks',\r\n    'Industrials',\r\n    'Healthcare',\r\n    'Housing',\r\n    'Electric Vehicles',\r\n    'Renewable Energy',\r\n    'Oil and Gas',\r\n    'Metals and Mining',\r\n    'Semiconductors',\r\n    'Cybersecurity',\r\n    'Metaverse',\r\n    'Crypto',\r\n    'Transportation',\r\n    'Airlines',\r\n    'Auto',\r\n    'Healthcare',\r\n    'Retail',\r\n    'E-commerce',\r\n    'Insurance',\r\n    'Gambling',\r\n    'Quality',\r\n    'Deep Dives',\r\n    'General Market',\r\n    'Valuation',\r\n    'Technicals',\r\n    'Investment Process',\r\n    'Small Caps',\r\n    'Macro',\r\n    'News',\r\n    'Venture Capital',\r\n    'Emerging Markets',\r\n    'Portfolio Management',\r\n    'Data Driven',\r\n    'Industry Expert',\r\n    'Financial Coach',\r\n    'Businesses',\r\n    'Special Situations',\r\n    'Activist'].sort()\r\n\r\n\r\nexport function InvestmentInterestSection(props: CreateAccountProps) {\r\n    const { AppearView } = useOpacityAnim();\r\n    const anaylistProfile = useReadonlyEntity(props.user.data.analyst_profile || {\r\n        investment_strategy: \"\",\r\n        portfolio_concentration: 50,\r\n        benchmark: \"\",\r\n        interests: []\r\n    });\r\n    //props.user.data.investment_interests || { interestLevel: 50 }\r\n    const { securities: { list: securities } } = useSecuritiesList();\r\n    const [lockButtons, setLockButtons] = useChangeLock(props, [anaylistProfile]);\r\n    const [sliderWidth, setSliderWidth] = useState(100);\r\n\r\n    const [acText, setAcText] = useState(\"\");\r\n    const acValues = useMemo(() => {\r\n        const r = new RegExp(acText, \"i\");\r\n        return acText ? gicsAC.filter((g, i) => r.test(g)) : [];\r\n    }, [acText])\r\n    const addIfMissing = (value: string) => {\r\n        if (value && !anaylistProfile.data.interests.find((int) => int.toLowerCase() === value.toLowerCase())) {\r\n            anaylistProfile.update({\r\n                \"interests\": [...anaylistProfile.data.interests, value]\r\n            })\r\n        }\r\n        setAcText(\"\");\r\n    }\r\n    const benches = securities.filter(s => s.is_benchmark).sort((a, b) => a.symbol.localeCompare(b.symbol)).map((value) => ({\r\n        label: `[${value.symbol}] ${value.security_name}`,\r\n        value: value.symbol,\r\n        iconUrl: value.logo_url\r\n    }))\r\n    return <ScrollWithButtons\r\n        fillHeight\r\n        buttons={\r\n            {\r\n                locked: lockButtons,\r\n                left: props.saveOnly ? undefined : {\r\n                    text: \"Nevermind\",\r\n                    onPress: () => props.navigateByName(\"Profile Picture\")\r\n                },\r\n                right: {\r\n                    text: props.saveOnly ? \"Apply\" : \"Continue\",\r\n                    onPress: async () => {\r\n                        setLockButtons(true);\r\n                        try {\r\n                            //await UpdateUserProfile({ investment_interests: interestEntity.data });\r\n                            //props.user.update({ investment_interests: interestEntity.data })\r\n\r\n\r\n                            await Api.User.update(props.user.data.id, {\r\n                                analyst_profile: anaylistProfile.data\r\n                            });\r\n\r\n                            anaylistProfile.resetData(anaylistProfile.data);\r\n                            props.user.resetData(props.user.data);\r\n\r\n                            if (!props.saveOnly)\r\n                                props.next();\r\n\r\n                        } catch (ex: any) {\r\n                            console.error(ex);\r\n                            props.toastMessage(\"Unable to update profile\");\r\n                            setLockButtons(false);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        }>\r\n        <View style={paddView}>\r\n            <ElevatedSection title=\"\" style={flex}>\r\n                <AppearView onLayout={(ev) => {\r\n                    setSliderWidth(ev.nativeEvent.layout.width)\r\n                }} style={[flex]}>\r\n                    <Text style={[thinBannerText, { marginHorizontal: 0, marginVertical: sizes.rem0_5 }]}>Welcome Analyst! Tell us a bit about yourself</Text>\r\n                    <Text style={questionStyle}>What is your investment strategy?</Text>\r\n                    <Picker\r\n                        placeholder='Select Strategy'\r\n                        //showSearch\r\n                        // topBarProps={{\r\n                        //     title: \"Portfolio Strategy\"\r\n                        // } as ModalTopBarProps}\r\n                        value={anaylistProfile.data.investment_strategy}\r\n                        items={investmentStrats.map((value) => ({\r\n                            label: value,\r\n                            value\r\n                        }))}\r\n                        {...bindPicker(anaylistProfile, \"investment_strategy\", {\r\n                            fromType: (v) => {\r\n                                if (v) {\r\n                                    return investmentStrats[v.row]\r\n                                }\r\n                                return \"\";\r\n                            },\r\n                            toType: (v) => {\r\n                                return new IndexPath(investmentStrats.findIndex(v => v === v));\r\n                            }\r\n                        })}\r\n                    />\r\n                    <Text style={questionStyle}>How concentrated is your portfolio?</Text>\r\n                    <Slider\r\n                        containerStyle={{\r\n                            marginLeft: sliderWidth * 0.05\r\n                        }}\r\n                        min={0}\r\n                        max={100}\r\n                        step={25}\r\n                        sliderLength={sliderWidth * 0.9}\r\n                        values={[anaylistProfile.data.portfolio_concentration || 50]}\r\n                        onValuesChange={(v) => {\r\n                            anaylistProfile.update({\r\n                                portfolio_concentration: v[0]\r\n                            })\r\n                        }\r\n                        }\r\n                    />\r\n                    <View style={{ flexDirection: \"row\", justifyContent: \"space-between\", marginBottom: 16 }}>\r\n                        <Text>Highly Diversified</Text>\r\n                        <Text>Very Concentrated</Text>\r\n                    </View>\r\n                    <Text style={questionStyle}>What benchmark do you follow?</Text>\r\n                    <Picker\r\n                        value={anaylistProfile.data.benchmark}\r\n                        placeholder='Select Benchmark'\r\n                        items={benches}\r\n                        {...bindPicker(anaylistProfile, \"benchmark\", {\r\n                            fromType: (v) => {\r\n                                if (v) {\r\n                                    return benches[v.row].value\r\n                                }\r\n                                return \"\";\r\n                            },\r\n                            toType: (v) => {\r\n                                return new IndexPath(benches.findIndex(v => v === v));\r\n                            }\r\n                        })}\r\n                    />\r\n                    <Text style={questionStyle}>Pick a few interest and specialties</Text>\r\n                    <View>\r\n                        <Autocomplete\r\n                            value={acText || \"\"}\r\n                            onChangeText={setAcText}\r\n                            placeholder=\"Interest &amp; Specialties\"\r\n                            placement=\"bottom\"\r\n                            accessoryRight={\r\n                                (props) => <AddButton\r\n                                    onPress={() => addIfMissing(acText)}\r\n                                    height={(props?.style as any)?.height}\r\n                                    width={(props?.style as any)?.width}\r\n\r\n                                />\r\n                            }\r\n                            onSelect={(idx) => addIfMissing(acValues[idx])}>{\r\n                                acValues.map((v, i) => <AutocompleteItem key={i} title={v} />)\r\n                            }\r\n                        </Autocomplete>\r\n                    </View>\r\n                    {\r\n                        anaylistProfile.data.interests.map((v, i) => <View style={{ padding: sizes.rem0_5, flexDirection: \"row\" }}>\r\n                            <Text style={{ textAlign: \"left\", flex: 1 }}>{v}</Text><Pressable onPress={() => {\r\n                                const newInterest = [...anaylistProfile.data.interests];\r\n                                newInterest.splice(i, 1);\r\n                                anaylistProfile.update({\r\n                                    interests: newInterest\r\n                                })\r\n                            }}><Icon name=\"close-outline\" style={{ height: 24, aspectRatio: 1 }} /></Pressable>\r\n                        </View>)\r\n                    }\r\n                </AppearView>\r\n            </ElevatedSection>\r\n        </View>\r\n    </ScrollWithButtons>\r\n}\r\n\r\n","\r\nimport React, { useEffect } from 'react'\r\nimport { Text, View, Pressable, PressableProps, ViewStyle, Platform } from 'react-native'\r\nimport { SvgProps, SvgXml } from 'react-native-svg'\r\n\r\n// think about just making an image source converter \r\nexport interface IIconifyIcon {\r\n    body: string;\r\n    left?: number;\r\n    top?: number;\r\n    width?: number;\r\n    height?: number;\r\n    rotate?: number;\r\n    hFlip?: boolean;\r\n    vFlip?: boolean;\r\n}\r\nexport interface IconProps {\r\n    icon: IIconifyIcon,\r\n    style?: ViewStyle,\r\n    svgProps?: SvgProps,\r\n    DEBUG?: boolean,\r\n    // Hack for right now... shoudl htink about this...    \r\n    currentColor?: string\r\n    pressableProps?: Omit<PressableProps, \"style\">\r\n}\r\n\r\nexport function IconifyIcon(props: IconProps) {\r\n    useEffect(() => {\r\n        if (props.DEBUG) {\r\n            console.log(JSON.stringify(props.icon));\r\n        }\r\n    }, [props.icon, props.DEBUG])\r\n\r\n    const xml = `<svg fill=\"black\" ${Platform.OS === \"web\" ? 'style=\"height:100%;width:100%;\"' : \"\"} width=\"${props.icon.width || 0}\" height=\"${props.icon.height || 0}\" viewBox=\"0 0 ${props.icon.width || 0} ${props.icon.height || 0}\">${props.currentColor ? props.icon.body.replace(/\"currentColor\"/gi, `\"${props.currentColor}\"`) : props.icon.body}</svg>`;\r\n    const svg =\r\n        Platform.OS === \"web\" ? <View style={props.svgProps?.style}><div style={{ height: \"100%\", width: \"100%\" }} dangerouslySetInnerHTML={{ __html: xml }} /></View> :\r\n            <SvgXml height={\"100%\"} width={\"100%\"} xml={xml}  {...props.svgProps} />\r\n\r\n    return props.pressableProps ?\r\n        <Pressable style={props.style} {...props.pressableProps}>{svg}</Pressable> :\r\n        <View style={props.style}>{svg}</View>\r\n}","import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { Api } from \"@tradingpost/common/api\";\r\nimport { openBrowserAsync, WebBrowserResultType } from \"expo-web-browser\";\r\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { Linking } from \"react-native\";\r\nimport { EventRegister } from \"react-native-event-listeners\";\r\nimport uuid from 'react-native-uuid';\r\nimport { initLds } from \"../../lds\";\r\n//TODO: SHould put this all in the app later as a generate link \r\nconst clientId = \"cm9mUHBhbVUxZzcyVGJNX0xrc2E6MTpjaQ\";\r\nconst platform = \"twitter\",\r\n    redirectUriText = `http://localhost:19006/auth/${platform}`,\r\n    redirectUri = new URL(redirectUriText),\r\n    authUrlText = \"https://twitter.com/i/oauth2/authorize\"\r\n//state = `amira_${platform}`;\r\n\r\nexport interface ITokenResponse {\r\n    \"token_type\": \"bearer\",\r\n    \"expires_in\": number,\r\n    \"access_token\": string,\r\n    \"scope\": string\r\n}\r\n\r\nexport interface TwitterMe {\r\n    id: string,\r\n    name: string\r\n    username: string\r\n}\r\n\r\nexport function useTwitterAuth() {\r\n    const state = useRef<string>(uuid.v4() as string);\r\n    let intervalHandler = useRef<any>()\r\n    \r\n    const openAuth = useCallback(async () => {\r\n        await AsyncStorage.removeItem(\"auth-twitter-code\");\r\n        const _challenge = Math.random().toString().substring(2, 10);\r\n        const authUrl = new URL(authUrlText);\r\n        authUrl.searchParams.append(\"response_type\", \"code\");\r\n        authUrl.searchParams.append(\"client_id\", clientId);\r\n        authUrl.searchParams.append(\"redirect_uri\", redirectUriText);\r\n        authUrl.searchParams.append(\"state\", state.current);\r\n        authUrl.searchParams.append(\"scope\", \"users.read tweet.read\");\r\n        authUrl.searchParams.append(\"code_challenge\", _challenge);\r\n        authUrl.searchParams.append(\"code_challenge_method\", \"plain\");\r\n\r\n        const openResult = await openBrowserAsync(authUrl.toString());\r\n        \r\n        const code = await new Promise<string>((res,rej)=>{\r\n        //HACK: will look for a better solution later \r\n            //TODO: Also need to check state here just in case no matter what ... \r\n            clearInterval(intervalHandler.current);       \r\n            intervalHandler.current =setInterval(async ()=>{\r\n                const code = await AsyncStorage.getItem(\"auth-twitter-code\");\r\n                if(code){\r\n                    res(code);\r\n                clearInterval(intervalHandler.current);\r\n                }\r\n            },1000);\r\n        })\r\n        \r\n        // let respTest = await resp.text();\r\n        // if (!resp.ok)\r\n        //     throw new Error(respTest)\r\n        // else {\r\n        //     //respTest = await resp.text();\r\n        //     console.log(respTest);\r\n        // }\r\n        //const auth    //: ITokenResponse =  JSON.parse(respTest);  //await resp.json();\r\n        return  await Api.User.extensions.linkSocialAccount({platform,code, challenge:_challenge}) ;        \r\n    }, []);\r\n\r\n    //Clean up interval if its dangling \r\n    useEffect(()=>{\r\n        return ()=> clearInterval(intervalHandler.current)\r\n    },[])\r\n\r\n    return openAuth\r\n}\r\n\r\n// export const getToken = async (info: {\r\n//     code: string\r\n// }) => {\r\n//     try {\r\n        \r\n//         // const meResp = await fetch(\"https://api.twitter.com/2/users/me\", {\r\n//         //     method: \"GET\",\r\n//         //     headers: {\r\n//         //         Authorization: `Bearer ${auth.access_token}`\r\n//         //     }\r\n//         // });\r\n\r\n//         // if (!meResp.ok)\r\n//         //     throw new Error(await meResp.text())\r\n\r\n//         // const meData: {\r\n//         //     data: TwitterMe\r\n\r\n//         // } = await meResp.json();\r\n\r\n\r\n//     })\r\n\r\n// }","import React, { useState } from \"react\"\r\nimport { Text } from '@ui-kitten/components'\r\nimport { ButtonField } from \"../../components/ButtonField\"\r\nimport { IconifyIcon, IIconifyIcon } from \"../../components/IconfiyIcon\"\r\nimport { ElevatedSection, Section } from \"../../components/Section\"\r\nimport { bannerText, sizes, thinBannerText, social as socialStyle, paddView } from \"../../style\"\r\nimport { CreateAccountProps, sideMargin } from \"../CreateAccountScreen\"\r\n\r\n\r\n//import WebsiteLogo from '@iconify/icons-mdi/web'\r\nimport { ScrollWithButtons } from \"../../components/ScrollWithButtons\"\r\nimport { social } from \"../../images\"\r\n\r\n//import { useIAM } from \"../../apis/third-party/twitterApi\"\r\nimport { View, Alert, Pressable, PressableProps } from \"react-native\"\r\nimport { bindTextInput, useOpacityAnim, useReadonlyEntity } from \"../../utils/hooks\"\r\nimport { TextField } from \"../../components/TextField\"\r\nimport { TBI } from \"../../utils/misc\"\r\nimport { useTwitterAuth } from \"../../utils/third-party/twitter\"\r\nimport { useData } from \"../../lds\"\r\n//import { claimPlatform, createPlatform, Platform } from \"../../apis/UserApi\"\r\n//import { AmiraError } from \"../../AmiraError\"\r\n\r\nexport function YourContent(props: CreateAccountProps) {\r\n    //const claims = useReadonlyEntity(props.user.data.claims),\r\n    const { AppearView } = useOpacityAnim(),\r\n        [twitterHandle, setTwitterHandle] = useState(props.user.data.claims.find(c => c.platform === \"twitter\")?.platform_user_id)\r\n    //useEffect(() => {\r\n    //        if (props.saveOnly)\r\n    //      setLockButtons(!broadcastEntity.hasChanged && !notificationEntity.hasChanged);\r\n    //}, [props.saveOnly, broadcastEntity.hasChanged, notificationEntity.hasChanged]);\r\n\r\n\r\n    const getToken = useTwitterAuth();\r\n    return <ScrollWithButtons\r\n        fillHeight\r\n        buttons={props.saveOnly ? undefined : {\r\n            // left: {\r\n            //     text: 'Not Now',\r\n            //     onPress: props.next\r\n            // },\r\n            right: {\r\n                text: 'Done With Accounts',\r\n                onPress: () => props.next()\r\n            }\r\n        }}\r\n    >\r\n        <AppearView style={[paddView, {alignContent:\"center\"}]}>\r\n            <ElevatedSection title=\"Your Content\">\r\n                <Text style={thinBannerText}>TradingPost aggregates content across several social platforms.</Text>\r\n                <View style={{ flexDirection: \"row\", marginHorizontal: sizes.rem2, marginBottom: sizes.rem1 }}>\r\n                    <HandleButton\r\n                        title={twitterHandle}\r\n                        icon={social.TwitterLogo}\r\n                        onPress={() => {\r\n                            getToken().then((handle) => {\r\n                                setTwitterHandle(handle)\r\n                            })\r\n                        }}\r\n                        iconPadd={sizes.rem1}\r\n                    />\r\n                    <HandleButton title=\"\" icon={social.YouTubeLogo} iconPadd={sizes.rem1} />\r\n                </View>\r\n                <View style={{ flexDirection: \"row\", marginHorizontal: sizes.rem2, marginBottom: sizes.rem1 }}>\r\n                    <HandleButton title=\"\" icon={social.SubstackLogo}\r\n                        iconPadd={sizes.rem1}\r\n                        currentColor={socialStyle.substackColor}\r\n                    />\r\n                    <HandleButton title=\"\" icon={social.SpotifyLogo}\r\n                        iconPadd={sizes.rem0_5}\r\n                    // currentColor={socialStyle.substackColor}\r\n                    />\r\n                </View>\r\n                <Text style={thinBannerText}>Sign in to your account(s) above to claim or add your content.</Text>\r\n            </ElevatedSection>\r\n            {/*             \r\n            <Section title={'Your Content'}>\r\n                <ButtonField\r\n                    label='Twitter'\r\n                    inactiveText='Claim Handle'\r\n                    activeText='Claimed'\r\n                    //isActive={Boolean(props.user.data.claims.twitter)}\r\n                    onPress={async () => {\r\n                        const username = \"\";\r\n                        // const platform: Platform = {\r\n                        //     platform: \"twitter\",\r\n                        //     username\r\n                        // }\r\n\r\n                        try {\r\n                            //const d = await iam();\r\n                            //platform.username = d.username;//\"levert_test_1\";\r\n                            //      //const result = await createPlatform(null, [platform]);\r\n                            //                            console.log(\"RESULTS::\" + JSON.stringify(result));\r\n                        }\r\n                        catch (ex) {\r\n                            // if (ex instanceof AmiraError && ex.statusCode === 409) {\r\n                            //     const respBody = (ex.body as { sub_status_code: number, message: string });\r\n                            //     if (respBody.sub_status_code === 0) {\r\n                            //         props.prompt(\"Husk Account Found\", respBody.message,\r\n                            //             [\r\n                            //                 {\r\n                            //                     text: \"Cancel\", onPress: (dialog) => {\r\n                            //                         dialog.hideDialogView();\r\n                            //                     }\r\n                            //                 },\r\n                            //                 {\r\n                            //                     text: \"Claim\",\r\n                            //                     onPress: async (dialog) => {\r\n                            //                         try {\r\n                            //                             await claimPlatform(null, [platform])\r\n                            //                             dialog.hideDialogView();\r\n                            //                         }\r\n                            //                         catch (ex: any) {\r\n                            //                             props.toastMessage(ex.message);\r\n                            //                         }\r\n                            //                     }\r\n                            //                 }\r\n                            //             ])\r\n                            //     } else if (respBody.sub_status_code === 1) {\r\n                            //         props.toastMessage(respBody.message);\r\n                            //     }\r\n                            //     else {\r\n                            //         props.toastMessage(\"Something unexpected went wrong\");\r\n                            //     }\r\n                            // }\r\n                            // else\r\n                            console.error(ex);\r\n                        }\r\n                    }\r\n                    }\r\n                    leftElement={(props) => {\r\n                        return <IconifyIcon icon={social.TwitterLogo} style={{ ...props, marginRight: sizes.rem1, }} />\r\n                    }}\r\n                />\r\n                <ButtonField\r\n                    label='YouTube'\r\n                    inactiveText='Claim Channel'\r\n                    activeText='Claimed'\r\n                    //                  isActive={Boolean(props.user.data.claims.youtube)}\r\n                    onPress={() => {\r\n                        props.toastMessage(\"Invalid Fingerprint\");\r\n                    }}\r\n                    leftElement={(props) => {\r\n                        return <IconifyIcon icon={social.YouTubeLogo} style={{ ...props, marginRight: sizes.rem1 }} />\r\n                    }}\r\n                />\r\n                <ButtonField\r\n                    label='Substack'\r\n                    inactiveText='Claim Page'\r\n                    activeText='Claimed'\r\n                    //                isActive={Boolean(props.user.data.claims.substack)}\r\n                    onPress={TBI}\r\n                    leftElement={(props) => {\r\n                        return <IconifyIcon icon={social.SubstackLogo} style={{ ...props, marginRight: sizes.rem1 }} currentColor={socialStyle.substackColor} />\r\n                    }}\r\n                />\r\n                // { <ButtonField\r\n                //     label='LinkedIn'\r\n                //     inactiveText='Claim Profile'\r\n                //     activeText='Claimed'\r\n                //     leftElement={(props) => {\r\n                //         return <IconifyIcon icon={social.LinkedInLogo} style={{ ...props, marginRight: sizes.rem1 }} />\r\n                //     }}\r\n                // /> }\r\n                // { <ButtonField\r\n                //     label='Website'\r\n                //     inactiveText='Claim Site'\r\n                //     activeText='Claimed'\r\n                //     leftElement={(props) => {\r\n                //         return <IconifyIcon icon={WebsiteLogo} style={{ ...props, marginRight: sizes.rem1 }} currentColor='black' />\r\n                //     }}\r\n                /> }\r\n            </Section> */}\r\n        </AppearView>\r\n    </ScrollWithButtons>\r\n}\r\n\r\nconst HandleButton = (props: { title: string | undefined, icon: IIconifyIcon, currentColor?: string, iconPadd?: number } & Pick<PressableProps, \"onPress\">) => {\r\n    return <Pressable onPress={props.onPress} style={{ flex: 1, height: sizes.rem8, opacity: props.title ? 1 : 0.25 }}>\r\n        <IconifyIcon icon={props.icon} style={{ width: \"100%\", flex: 1, justifyContent: \"space-around\" }} svgProps={{ style: { paddingVertical: props.iconPadd, height: \"100%\" } }} currentColor={props.currentColor} />\r\n        <Text numberOfLines={1} style={{ fontStyle: !props.title ? \"italic\" : undefined, color: \"black\", textAlign: \"center\" }}>{props.title || \"Unclaimed\"}</Text>\r\n    </Pressable>\r\n}","import { Icon, Text } from \"@ui-kitten/components\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { Animated, Pressable, View } from \"react-native\";\r\nimport { ScrollWithButtons } from \"../../components/ScrollWithButtons\"\r\nimport { AppColors } from \"../../constants/Colors\";\r\nimport { bannerText, sizes, thinBannerText } from \"../../style\";\r\nimport { CreateAccountProps, sideMargin } from \"../CreateAccountScreen\"\r\nimport { Api } from \"@tradingpost/common/api\";\r\nimport { ProfileButton } from \"../../components/ProfileButton\";\r\nimport { ElevatedSection } from \"../../components/Section\";\r\nimport { useData } from \"../../lds\";\r\nexport const ProfileIconSection = (props: CreateAccountProps) => {\r\n    const opacityAnim = useRef(new Animated.Value(0)).current;\r\n    const { value: hasAuthed, setValue } = useData(\"hasAuthed\");\r\n    useEffect(() => {\r\n        Animated.timing(\r\n            opacityAnim,\r\n            {\r\n                delay: 0.75,\r\n                toValue: 1,\r\n                duration: 2000,\r\n                useNativeDriver: true\r\n            }).start();\r\n    }, [])\r\n\r\n    return <ScrollWithButtons\r\n        buttons={{\r\n            right: {\r\n                text: \"Go To Trading Post!\",\r\n                onPress: () => {\r\n                    setValue(true);\r\n                    props.navigation.navigate(\"Dash\");\r\n                }\r\n            },\r\n\r\n        }}\r\n    >\r\n        <Animated.View style={{ opacity: opacityAnim, padding: sideMargin }} >\r\n            <ElevatedSection title=\"\">\r\n                <Text style={[thinBannerText]}>Tap to Modify Profile Picture</Text>\r\n                <ProfileButton userId={props.user.data.id} profileUrl=\"\" size={sizes.rem16} editable />\r\n                <Text style={[thinBannerText]}>Tip: Profile pictures will help others quickly identify you when on the platform.</Text>\r\n            </ElevatedSection>\r\n        </Animated.View>\r\n    </ScrollWithButtons>\r\n}","import { Icon, Input } from \"@ui-kitten/components\";\r\nimport React, { useRef } from \"react\";\r\nimport { ImageProps, ViewStyle, TextInputProps, Image, ViewProps, Pressable } from \"react-native\";\r\nimport { ITextField, TextField } from \"../components/TextField\";\r\nimport { navIcons } from \"../images\";\r\n\r\nexport const SearchBar = (props: { onTextChange: (text: string) => void } & Pick<ViewProps, \"onLayout\">) => {\r\n    const tfRef = useRef<ITextField>(null)\r\n\r\n    return <TextField\r\n        textInputRef={tfRef}\r\n        onLayout={props.onLayout}\r\n        //enableErrors={false}\r\n        //hideUnderline\r\n        accessoryLeft={\r\n            () => {\r\n                return <Image source={navIcons.Search.inactive} style={{\r\n                    height: 20,\r\n                    width: 20,\r\n                    padding: 8,\r\n                    marginHorizontal: 12,\r\n                    transform: [\r\n                        { scaleX: -1 }\r\n                    ]\r\n                }} />\r\n            }\r\n        }\r\n        accessoryRight={\r\n            () => {\r\n                return <Pressable onPress={() => {\r\n                    tfRef.current?.field.current?.clear();\r\n                    props.onTextChange(\"\");\r\n                }}><Icon name=\"close-outline\" style={{\r\n                    height: 20,\r\n                    width: 20,\r\n                    padding: 8,\r\n                    marginHorizontal: 12,\r\n                    transform: [\r\n                        { scaleX: -1 }\r\n                    ]\r\n                }} /></Pressable>\r\n            }\r\n        }\r\n        // style={{\r\n\r\n        // } as ViewStyle} containerStyle={{\r\n        //     marginBottom: 0,\r\n        //     borderBottomColor: \"#d5d5d5\",\r\n        //     borderBottomWidth: 1,\r\n        //     paddingVertical: 16\r\n        // } as ViewStyle}\r\n        {\r\n        ...{\r\n            placeholder: \"Search...\",\r\n            clearButtonMode: \"while-editing\",\r\n            onChangeText: (text) => {\r\n                props.onTextChange(text);\r\n            }\r\n        } as TextInputProps} />\r\n}","import React from \"react\";\r\nimport { Text } from \"@ui-kitten/components\";\r\nimport { View } from 'react-native'\r\nimport { flex, fonts } from \"../style\";\r\n\r\nexport function NoDataPanel(props: { message?: string }) {\r\n    return <View style={[flex, { justifyContent: \"center\", alignContent: \"center\" }]}>\r\n        <Text style={{ fontSize: fonts.large, color: \"lightgray\", textAlign: \"center\" }}>\r\n            {props.message || \"No Items\"}\r\n        </Text>\r\n    </View>\r\n}","import React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { Text, FlatList, FlatListProps, ListRenderItem, ScrollView, View, ViewToken } from \"react-native\";\r\nimport { flex } from \"../style\";\r\nimport { TBI } from \"../utils/misc\";\r\nimport { Link } from \"./Link\";\r\nimport { NoDataPanel } from \"./NoDataPanel\";\r\n\r\n\r\nexport type DataOrQuery<T> = T[] | ((data: T[] | undefined, page: number, sizeCache: SizeParts[]) => Promise<T[]>);\r\nexport type ListProps<T> = {\r\n    data?: DataOrQuery<T>,\r\n    noDataMessage?: string,\r\n    loadingMessage?: string,\r\n    maxDisaplyCount?: number,\r\n    maxDisaplyText?: string\r\n    datasetKey?: string | number,\r\n    keyExtractor?: FlatListProps<T>[\"keyExtractor\"]\r\n}\r\ntype HasU<T, U> = U extends undefined | null ? T : (T | U);\r\ntype SizeParts = { index: number, length: number, offset: number };\r\nexport function List<T, U>(props: {\r\n    //    data: ReadonlyArray<T> | null | undefined\r\n    maxPage?: number,\r\n    renderItem: ListRenderItem<HasU<T, U>> | null | undefined\r\n    nestedScrollEnabled?: boolean,\r\n    preloadOffset?: number,\r\n    loadingItem: U,\r\n    getItemLayout?: ((\r\n        data: Array<HasU<T, U>> | null | undefined,\r\n        index: number,\r\n        sizeCache: SizeParts[]\r\n    ) => { length: number; offset: number; index: number }) | undefined;\r\n} & ListProps<T> & Pick<FlatListProps<HasU<T, U>>, \"numColumns\" | \"ListHeaderComponent\" | \"StickyHeaderComponent\" | \"keyExtractor\">) {\r\n\r\n    const [internalData, setInternalData] = useState<T[]>(),\r\n        { data, preloadOffset, datasetKey } = props,\r\n        [currentPage, setCurrentPage] = useState(0),\r\n        [pagesDone, setPagesDone] = useState(false),\r\n        isLoadingRef = useRef(true),\r\n        [maxItem, setMaxItem] = useState(-1),\r\n        [triggertHack, setTriggerHack] = useState(false),\r\n        sizeCache = useRef<SizeParts[]>([]).current;\r\n\r\n    useEffect(() => {\r\n        setPagesDone(false);\r\n\r\n        (async () => {\r\n            if (typeof data == \"function\") {\r\n                const result = await data(undefined, 0, sizeCache);\r\n                if (!result.length || props.maxPage === 0) {\r\n                    setPagesDone(true);\r\n                }\r\n\r\n                isLoadingRef.current = false;\r\n                setInternalData(result);\r\n\r\n            }\r\n            else {\r\n                isLoadingRef.current = false;\r\n                setInternalData(data);\r\n                setPagesDone(true);\r\n\r\n            }\r\n        })()\r\n    }, [datasetKey, Boolean(data), props.maxPage])\r\n\r\n    useEffect(() => {\r\n        if (!pagesDone && typeof data === 'function' && internalData) {\r\n            if (!isLoadingRef.current) {\r\n                const remaining = (internalData.length - 1) - maxItem;\r\n                if (remaining <= (preloadOffset || 1)) {\r\n                    isLoadingRef.current = true;\r\n                    setTriggerHack((hack) => !hack);\r\n                    const nextPage = currentPage + 1;\r\n                    const originalLength = internalData.length\r\n                    data(internalData, nextPage, sizeCache).then((newData) => {\r\n                        if (newData.length === originalLength || props.maxPage === nextPage) {\r\n                            isLoadingRef.current = false;\r\n                            setPagesDone(true);\r\n                        }\r\n                        else {\r\n                            setInternalData(newData);\r\n                            setCurrentPage(nextPage);\r\n                            isLoadingRef.current = false;\r\n                        }\r\n\r\n                    });\r\n                }\r\n                else {\r\n                    //console.log(\"NOPE\");\r\n                }\r\n            }\r\n            else {\r\n                //console.log(\"WHAT UP\");\r\n            }\r\n        }\r\n\r\n    }, [maxItem, internalData, preloadOffset, currentPage, props.maxPage])\r\n\r\n    const vp = useMemo(() => [\r\n        {\r\n            viewabilityConfig: {\r\n                itemVisiblePercentThreshold: 20\r\n            },\r\n            onViewableItemsChanged: (ev: { viewableItems: Array<ViewToken>; changed: Array<ViewToken> }) => {\r\n                let max = 0;\r\n                ev.viewableItems.forEach((vi) => {\r\n                    max = Math.max(max, vi.index || 0);\r\n                });\r\n                setMaxItem((curMax) =>\r\n                    Math.max(max, curMax));\r\n            },\r\n        },\r\n    ], []);\r\n    const needsSplice = internalData && props.maxDisaplyCount && internalData.length > props.maxDisaplyCount;\r\n\r\n    return !internalData?.length ? <NoDataPanel message={internalData ? props.noDataMessage : (props.loadingMessage || \"Loading...\")} /> :\r\n        <FlatList\r\n            style={[{ height: \"100%\" }]}\r\n            contentContainerStyle={[{ height: \"100%\" }]}\r\n            getItemLayout={props.getItemLayout ? (a, b) => (props.getItemLayout as any)(a, b, sizeCache) : undefined}\r\n            numColumns={props.numColumns}\r\n            ListHeaderComponent={props.ListHeaderComponent}\r\n            ListFooterComponent={needsSplice ? () => {\r\n                return <Link onPress={TBI} style={{ marginLeft: \"auto\" }}>{props.maxDisaplyText || \"View All\"}</Link>\r\n            } : undefined}\r\n            stickyHeaderIndices={props.ListHeaderComponent ? [0] : undefined}\r\n            data={(isLoadingRef.current ? [...internalData, props.loadingItem] : (needsSplice ? internalData.slice(0, props.maxDisaplyCount) : internalData)) as HasU<T, U>[]}\r\n            keyExtractor={props.keyExtractor}\r\n            renderItem={props.renderItem}\r\n            nestedScrollEnabled={props.nestedScrollEnabled}\r\n            viewabilityConfigCallbackPairs={vp}\r\n        />\r\n\r\n    // return <ScrollView nestedScrollEnabled>\r\n    //     <View\r\n    //         style={{ backgroundColor: \"purple\", height: 1000, borderColor: \"yellow\", borderWidth: 2 }}\r\n    //     ></View>\r\n    // </ScrollView>\r\n}","import data from \"@iconify/icons-logos/youtube-icon\";\r\nimport React, { MutableRefObject, useEffect, useRef, useState } from \"react\";\r\nimport { Pressable, View, ViewStyle, Text } from \"react-native\";\r\nimport { useSecuritiesList } from \"../utils/hooks\";\r\nimport { SearchBar } from \"./SearchBar\";\r\nimport { Interface } from \"@tradingpost/common/api\"\r\nimport { ISecurityList } from \"@tradingpost/common/api/entities/interfaces\";\r\nimport { Avatar, Icon } from \"@ui-kitten/components\";\r\nimport { List } from \"./List\";\r\nimport { flex } from \"../style\";\r\n\r\nconst cellStyle = { flexGrow: 1, aspectRatio: 1, justifyContent: \"center\", marginVertical: 4, alignItems: \"center\", flexBasis: 20 } as ViewStyle;\r\nconst numItemsPerRow = 4;\r\n//TODO: Need to optimize security load\r\nconst empty = {};\r\ntype SecOrEmpty = ISecurityList | {};\r\n\r\nexport type SelectionConverterRef = MutableRefObject<((selectedItems: Record<number, true>) => ISecurityList[]) | null>;\r\n//helper until i  lean this up\r\nexport const useWatchlistPicker = () => {\r\n    const [selectedItems, setSelectedItems] = useState<Record<number, true>>({})\r\n    return {\r\n        selectionConverter: useRef<(selectedItems: Record<number, true>) => ISecurityList[]>(null),\r\n        selectedItems,\r\n        onSelectedItemschanged: setSelectedItems,\r\n        symbolConverter: useRef<(symbols: string[]) => Record<number, true>>(null),\r\n    }\r\n}\r\nexport const WatchlistPicker = (props: { selectedItems: Record<number, true>, securitiesLoaded?: () => void, onSelectedItemschanged: (selectedItems: Record<number, true>) => void, selectionConverter: SelectionConverterRef, symbolConverter: MutableRefObject<((symbols: string[]) => Record<number, true>) | null> }) => {\r\n\r\n    const [searchText, setSearchText] = useState(\"\"),\r\n        { selectedItems } = props,\r\n        [data, setData] = useState<(Interface.ISecurityList | {})[]>([]),\r\n        [datasetKey, setDatasetKey] = useState(\"\"),\r\n        { securities: {\r\n            list: securities\r\n        } } = useSecuritiesList()\r\n\r\n    //    if (props.selectionConverter) {\r\n\r\n\r\n    //This is a all part of just getting done quickly.. need ot clean this up \r\n    useEffect(() => {\r\n        if (securities.length && props.securitiesLoaded) {\r\n            props.securitiesLoaded()\r\n        }\r\n        else {\r\n            console.log(\"sec lenght \" + securities.length)\r\n        }\r\n    }, [securities.length, Boolean(props.securitiesLoaded)])\r\n    props.selectionConverter.current = securities.length ? (_selectedItems) => securities.filter((s) => _selectedItems[s.id]) : null;\r\n    props.symbolConverter.current = securities.length ? (_symbols) => {\r\n        const output: Record<number, true> = {}\r\n        securities.forEach((s) => {\r\n            if (_symbols.find((_s) => _s === s.symbol))\r\n                output[s.id] = true;\r\n        })\r\n        return output;\r\n    } : null\r\n    //}\r\n    //  else if (props.selectionConverter)\r\n    const delayRef = useRef(0);\r\n    console.log(\"NUMBER OF SECURITEIS ARE \" + securities.length)\r\n    const selectedItemCount = Object.keys(selectedItems).length;\r\n    useEffect(() => {\r\n        if (delayRef.current)\r\n            clearTimeout(delayRef.current);\r\n\r\n        delayRef.current = setTimeout(() => {\r\n\r\n            const items: (ISecurityList | {})[] = securities.filter((s, i) =>\r\n                (!searchText && (i < 25 || selectedItems[s.id])) ||\r\n                ((searchText.length >= 3 && new RegExp(searchText, \"gi\").test(s.security_name))) ||\r\n                (searchText.length && (new RegExp(searchText, \"gi\")).test(s.symbol))\r\n            ).sort((a, b) => {\r\n                if (selectedItems[a.id] && !selectedItems[b.id])\r\n                    return -1\r\n                else if (selectedItems[b.id] && !selectedItems[a.id])\r\n                    return 1\r\n                else {\r\n                    return (() => {\r\n\r\n                        if (searchText) {\r\n                            if (searchText.length <= 3) {\r\n                                const aStartsWith = new RegExp(\"^\" + searchText, \"gi\").test(a.symbol);\r\n                                const bStartsWith = new RegExp(\"^\" + searchText, \"gi\").test(b.symbol);\r\n\r\n                                if (aStartsWith && !bStartsWith)\r\n                                    return -1\r\n                                else if (!aStartsWith && bStartsWith)\r\n                                    return 1\r\n                                else\r\n                                    return a.symbol.localeCompare(b.symbol)\r\n\r\n                            }\r\n                            else\r\n                                return a.symbol.localeCompare(b.symbol)\r\n                        }\r\n                        else\r\n                            return 0\r\n                    })()\r\n\r\n\r\n\r\n                }\r\n\r\n\r\n                //? a.symbol.localeCompare(b.symbol) : \r\n                //                (selectedItems[a.id] ? -1 : -1)\r\n            });\r\n\r\n            const gap = Array.from({ length: numItemsPerRow - (items.length % numItemsPerRow) }, () => empty);\r\n            if (gap.length !== 4)\r\n                items.push(...gap);\r\n\r\n            setData(items)\r\n            setDatasetKey(searchText);\r\n        }, 333) as any;\r\n    }, [searchText, securities, selectedItems])\r\n\r\n\r\n\r\n    return <View\r\n        style={flex}\r\n    >\r\n        <View style={{ padding: 8 }}>\r\n            <SearchBar\r\n                onTextChange={(text) => setSearchText(text)}\r\n                onLayout={undefined}\r\n            />\r\n        </View>\r\n        <View style={flex}>\r\n            <List\r\n                numColumns={numItemsPerRow}\r\n                data={data}\r\n                datasetKey={datasetKey ? datasetKey : data.filter(d => d !== empty).length}\r\n                renderItem={(i) => {\r\n                    return <SecurityCell\r\n                        item={i.item}\r\n                        isSelected={isSec(i.item) ? (selectedItems[i.item.id] || false) : false}\r\n                        onPressed={(isSelected) => {\r\n                            if (isSec(i.item)) {\r\n                                const selectedClone = { ...selectedItems };\r\n                                if (isSelected)\r\n                                    selectedClone[i.item.id] = true;\r\n                                else\r\n                                    delete selectedClone[i.item.id];\r\n\r\n\r\n                                props.onSelectedItemschanged(selectedClone)\r\n                                //setSelectedItems(selectedClone);\r\n                                return true\r\n                            }\r\n                            return false;\r\n                        }} />\r\n\r\n                }}\r\n                loadingItem={undefined} />\r\n        </View>\r\n    </View >\r\n}\r\n\r\n\r\nconst isSec = (item: SecOrEmpty): item is ISecurityList => {\r\n    return item !== empty;\r\n}\r\n\r\nconst SecurityCell = (props: { item: ISecurityList | {}, isSelected: boolean, onPressed: (isSelected: boolean) => boolean }) => {\r\n    const { item, onPressed, isSelected } = props;\r\n    const [innerSelected, setInnerSelected] = useState(isSelected)\r\n\r\n    return <Pressable\r\n        onPress={() => {\r\n            if (onPressed(!innerSelected)) {\r\n                setInnerSelected(!innerSelected);\r\n            }\r\n        }}\r\n        style={cellStyle}>\r\n        {isSec(item) ? <><View>\r\n            <Avatar shape='square' source={{ uri: item.logo_url }} size=\"giant\" />\r\n            {innerSelected && <View style={{ position: \"absolute\", width: \"40%\", aspectRatio: 1, zIndex: 50000, right: \"-10%\", bottom: \"-10%\" } as ViewStyle}>\r\n                <View style={{ backgroundColor: \"white\", position: \"absolute\", left: \"25%\", top: \"25%\", height: \"50%\", width: \"50%\" }} />\r\n                <Icon name=\"checkmark-circle-2\" fill=\"green\" style={{ height: \"100%\", width: \"100%\" }} />\r\n            </View>}\r\n        </View>\r\n            <Text>{item.symbol}</Text>\r\n        </> : null\r\n        }\r\n    </Pressable>\r\n}","/**\n * Learn more about Light and Dark modes:\n * https://docs.expo.io/guides/color-schemes/\n */\n\nimport { Text as DefaultText, View as DefaultView } from 'react-native';\n\nimport Colors from '../constants/Colors';\nimport useColorScheme from '../hooks/useColorScheme';\n\nexport function useThemeColor(\n  props: { light?: string; dark?: string },\n  colorName: keyof typeof Colors.light & keyof typeof Colors.dark\n) {\n  const theme = useColorScheme();\n  const colorFromProps = props[theme];\n\n  if (colorFromProps) {\n    return colorFromProps;\n  } else {\n    return Colors[theme][colorName];\n  }\n}\n\ntype ThemeProps = {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport type TextProps = ThemeProps & DefaultText['props'];\nexport type ViewProps = ThemeProps & DefaultView['props'];\n\nexport function Text(props: TextProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const color = useThemeColor({ light: lightColor, dark: darkColor }, 'text');\n\n  return <DefaultText style={[{ color }, style]} {...otherProps} />;\n}\n\nexport function View(props: ViewProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const backgroundColor = useThemeColor({ light: lightColor, dark: darkColor }, 'background');\n\n  return <DefaultView style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n","import { Icon, Text } from \"@ui-kitten/components\";\r\nimport { ScrollWithButtons } from \"../../components/ScrollWithButtons\"\r\nimport { AppColors } from \"../../constants/Colors\";\r\nimport { bannerText, flex, fonts, paddView, sizes, thinBannerText } from \"../../style\";\r\nimport { CreateAccountProps } from \"../CreateAccountScreen\"\r\nimport Analytics from '../../assets/analytics.svg'\r\nimport { SvgExpo } from \"../../components/SvgExpo\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { Animated } from \"react-native\";\r\nimport { View } from \"../../components/Themed\";\r\nimport { ElevatedSection } from \"../../components/Section\";\r\n\r\n\r\n\r\nexport const AnalystStartSection = (props: CreateAccountProps) => {\r\n\r\n    const opacityAnim = useRef(new Animated.Value(0)).current;\r\n\r\n    useEffect(() => {\r\n        Animated.timing(\r\n            opacityAnim,\r\n            {\r\n                delay: 0.75,\r\n                toValue: 1,\r\n                duration: 2000,\r\n                useNativeDriver: true\r\n            }).start();\r\n    }, [])\r\n\r\n    return <ScrollWithButtons\r\n        fillHeight\r\n        buttons={{\r\n            right: {\r\n                text: \"I'm An Analyst\",\r\n                onPress: () => {\r\n                    props.navigateByName(\"Analyst Interest\");\r\n                }\r\n            },\r\n            left: {\r\n                text: \"Not Now\",\r\n                onPress: () => {\r\n                    //need to change this to skip 2 \r\n                    props.navigateByName(\"Profile Picture\");\r\n                }\r\n            }\r\n        }}\r\n    >\r\n        <View style={[paddView, { justifyContent: \"center\" }]}>\r\n            <ElevatedSection title=\"\">\r\n                <Animated.View style={[{ opacity: opacityAnim }]}>\r\n                    <Text style={[bannerText]}>Are you a Market Analyst?</Text>\r\n                    <View style={{ padding: sizes.rem1 }}>\r\n                        <SvgExpo>\r\n                            <Analytics />\r\n                        </SvgExpo>\r\n                    </View>\r\n                    <Text style={[thinBannerText, { fontSize: fonts.medium }]}>Select Analyst if you actively post fundamental or technical research related to stocks, commodities, crypto, etc. and would like to bolster your content.</Text>\r\n                </Animated.View>\r\n            </ElevatedSection>\r\n        </View>\r\n    </ScrollWithButtons>\r\n}","import React, { ReactComponentElement, ReactElement, useEffect, useState } from \"react\";\r\nimport { Text, Pressable, TextStyle, View, ListRenderItem } from \"react-native\";\r\n// import { LinearGradient, SvgFromXml } from \"react-native-svg\";\r\nimport { AppColors } from \"../constants/Colors\";\r\n//import { Colors, Fader, Text, View } from \"react-native-ui-lib\";\r\nimport { fonts, row, sizes, elevated as elevatedView } from \"../style\";\r\nimport { List, ListProps } from \"./List\";\r\nimport { NoDataPanel } from \"./NoDataPanel\";\r\nimport Theme from '../theme-light.json'\r\n//TODO: needs to be re-named... itsm misleading\r\ntype RowFunction<T, R> = (value: any, key: (keyof T) | undefined, item: T, index: number) => R\r\n\r\ntype EntireRowFunction<T, R> = (item: T, index: number) => R\r\n\r\n\r\ninterface TableColumnProps {\r\n    alias?: string,\r\n    width?: number,\r\n    align?: \"left\" | \"right\" | undefined\r\n}\r\n//This about if yo ucan infer this in the future\r\ntype FieldElement<T> = (props: {\r\n    item: T,\r\n    index: number\r\n    style?: (TextStyle | undefined)[]\r\n} & TableColumnProps) => ReactElement;\r\n\r\n\r\n\r\nexport type ITableColumn<T> = {\r\n    field?: (keyof T) | FieldElement<T>,\r\n    style?: TextStyle\r\n    headerStyle?: TextStyle\r\n    dynamicStyle?: RowFunction<T, TextStyle>,\r\n    stringify?: RowFunction<T, string>\r\n} & TableColumnProps\r\n\r\nfunction ensureString<T>(item?: (keyof T) | FieldElement<T>): item is (keyof T) | undefined {\r\n    return typeof item === \"string\" || !item;\r\n}\r\n\r\n// //helper to create strongly typed table column definitions\r\n// export class TableColumn<T, K extends keyof T> implements ITableColumn<T>{\r\n//     field: K;\r\n//     width?: number;\r\n//     style?: TextStyle;\r\n//     toString?: ((value: any, key: keyof T, item: T, index: number) => string);\r\n//     constructor(field: K, props: Omit<ITableColumn<T>, \"field\" | \"toString\"> & { toString: (value: T[K], key: K, item: T, index: number) => string }) {\r\n//         this.field = field\r\n//         this.style = props.style;\r\n//         this.width = props.width;\r\n//         this.toString = props.toString\r\n//     }\r\n\r\n// }\r\n\r\n// export function makeTableColumn<T>(field: keyof T, props: //Pick<ITableColumn<T>, \"width\" | \"style\"|\"toString\"> &\r\n//     { toString?(value: T[typeof field], key: typeof field, item: T, index: number): string }\r\n\r\n// ): ITableColumn<T> {\r\n//     return {\r\n//         field,\r\n//         //width: props.width,\r\n//         //style: props.style,\r\n//         toString: props.toString as ((value: any, key: keyof T, item: T, index: number) => string)\r\n//     }\r\n// }\r\n\r\nexport const stringyDate = (dts?: string) => {\r\n    const v = dts ? new Date(dts) : new Date();\r\n    return `${v?.getMonth() + 1}/${v?.getDate()}/${v?.getFullYear().toString().substring(2, 4)}`\r\n}\r\n\r\n\r\n\r\nexport function Table<T>(\r\n    props: {\r\n        maxPage?: number\r\n        columns: ITableColumn<T>[],\r\n        elevated?: boolean,\r\n        nestedScrollEnabled?: boolean,\r\n        rowPressed?: EntireRowFunction<T, void>,\r\n        hideHeader?: boolean,\r\n        renderAuxItem?: ListRenderItem<T> | null | undefined\r\n    } & ListProps<T>) {\r\n\r\n    const\r\n        { data, columns, nestedScrollEnabled, elevated, rowPressed } = props,\r\n        columnStyle: Partial<Record<number, (TextStyle | undefined)[]>> = {},\r\n        headerStyle: Partial<Record<number, (TextStyle | undefined)[]>> = {},\r\n        headerAlias: Partial<Record<number, string>> = {},\r\n        columnDynamicStyle: Partial<Record<number, RowFunction<T, TextStyle>>> = {},\r\n        columnsToString: Partial<Record<number, RowFunction<T, string>>> = {};\r\n\r\n    columns.forEach((c, i) => {\r\n        columnStyle[i] = [{\r\n            fontSize: fonts.xSmall,\r\n            lineHeight: fonts.medium,\r\n            width: c.width,\r\n            flex: c.width === undefined ? 1 : undefined,\r\n            textAlign: c.align || \"center\",\r\n            marginLeft: c.align === \"left\" ? 0 : undefined\r\n\r\n        }, c.style,];\r\n\r\n        headerStyle[i] = [{\r\n            fontSize: fonts.small,\r\n            width: c.width,\r\n            flex: c.width === undefined ? 1 : undefined,\r\n            textAlign: c.align || \"center\",\r\n            color: Theme[\"color-info-800\"],\r\n            //paddingBottom: 16\r\n        }, c.headerStyle]\r\n\r\n        if (c.alias)\r\n            headerAlias[i] = c.alias;\r\n\r\n        if (c.dynamicStyle)\r\n            columnDynamicStyle[i] = c.dynamicStyle;\r\n\r\n        if (c.stringify)\r\n            columnsToString[i] = c.stringify;\r\n\r\n    })\r\n\r\n    return <List\r\n        maxPage={props.maxPage}\r\n        maxDisaplyCount={props.maxDisaplyCount}\r\n        maxDisaplyText={props.maxDisaplyText}\r\n        keyExtractor={props.keyExtractor}\r\n        ListHeaderComponent={props.hideHeader ? undefined : () => {\r\n            return <View key={\"table_header\"} style={{ alignItems: \"stretch\" }}>\r\n                <View style={[row, { backgroundColor: \"white\" }]}>\r\n                    {columns.map((c, i) => {\r\n                        return <Text key={`header_${i}`} numberOfLines={1} style={headerStyle[i]} >{headerAlias[i] || c.field?.toString()}</Text>\r\n                    })}\r\n                </View>\r\n                {/**Was just for testing... **/}\r\n                <View style={{ height: 16 }}>\r\n                    {/* <Fader size={16} position={Fader.position.TOP} /> */}\r\n                </View>\r\n            </View>\r\n        }}\r\n        nestedScrollEnabled={nestedScrollEnabled}\r\n        data={data}\r\n        datasetKey={props.datasetKey}\r\n        noDataMessage={props.noDataMessage}\r\n        loadingItem={null}\r\n        renderItem={(info) => {\r\n            //return <View><Text>{JSON.stringify(info.item)}</Text></View>\r\n            return info.item ?\r\n                <Pressable\r\n                    onPress={rowPressed ? () => {\r\n                        rowPressed(info.item, info.index)\r\n                    } : undefined}\r\n                    key={`row_${info.index}`}\r\n                    style={[props.elevated ? elevatedView : { paddingVertical: 8, marginHorizontal: 4 }]}>\r\n                    <View style={row}>\r\n                        {\r\n                            props.columns.map((c, i) => {\r\n                                const key = `column_${i}`,\r\n                                    colStyle = columnStyle[i];\r\n\r\n                                if (ensureString(c.field)) {\r\n                                    const toString = columnsToString[i],\r\n                                        dynamicStyle = columnDynamicStyle[i],\r\n                                        evaluatedStyle = dynamicStyle ? [...[colStyle || []], dynamicStyle(c.field ? info.item[c.field] : undefined, c.field, info.item, info.index)] : colStyle,\r\n                                        evaluatedValue = toString ? toString(c.field ? info.item?.[c.field] : undefined, c.field, info.item, info.index) : (c.field ? info.item?.[c.field] : undefined)\r\n                                    return <Text key={key} numberOfLines={1} style={evaluatedStyle} >{evaluatedValue}</Text>\r\n                                }\r\n                                else {\r\n                                    const FieldElem = c.field;\r\n                                    return <FieldElem key={key} item={info.item} index={info.index} width={c.width} alias={c.alias} style={colStyle} />\r\n                                }\r\n                            })\r\n                        }\r\n                    </View>\r\n                    {props.renderAuxItem && props.renderAuxItem(info)}\r\n                </Pressable> :\r\n                <Text>Loading...</Text>\r\n        }} />\r\n}","import React, { Dispatch, ReactElement, ReactNode, Ref, SetStateAction, useCallback, useEffect, useLayoutEffect, useRef, useState } from 'react';\r\n//import { ScrollView } from 'react-native-gesture-handler';\r\nimport { Tab, TabBar, TabView, Text } from '@ui-kitten/components';\r\nimport { PrimaryButton } from '../components/PrimaryButton';\r\nimport { SecondaryButton } from '../components/SecondaryButton';\r\nimport { flex, font, fonts, sizes } from '../style';\r\nimport { IEntity,/* ToastMessageFunction,*/ useIsKeyboardVisible, useReadonlyEntity,/* useToast*/ } from '../utils/hooks'\r\n//import { IsAuthenticated, useCurrentUser } from '../apis/Authentication';\r\nimport { AccountInfoSection } from './create_account/AccountInfoSection';\r\nimport { InvestmentInterestSection } from './create_account/InvestmentInterestSection';\r\nimport { AccountSettings } from './create_account/AccountSettingsSection';\r\nimport { YourContent } from './create_account/YourContentSection';\r\nimport { Alert, View, ViewStyle } from 'react-native';\r\n//import { IDashboard, IDialog, PromptButton, PromptFunc, BaseScreen } from '../layouts/BaseLayout';\r\nimport { useData } from '../lds';\r\nimport { IUserGet } from \"@tradingpost/common/api/entities/interfaces\";\r\nimport { LoginResult } from '@tradingpost/common/api/entities/static/AuthApi';\r\nimport { NavigationProp } from '@react-navigation/native';\r\nimport { useToast, } from 'react-native-toast-notifications'\r\nimport { BasicInfoSection } from './create_account/BasicInfoSection';\r\nimport { EntityApiBase } from '@tradingpost/common/api/entities/static/EntityApiBase';\r\nimport { ProfileIconSection } from './create_account/ProfileIconSection';\r\nimport { PickWatchlistSection } from './create_account/PickWatchlistSection';\r\nimport { useAppUser } from '../App';\r\nimport { AnalystStartSection } from './create_account/AnalystStartSection';\r\nimport { LinkBrokerageSection } from './create_account/LinkBrokerageSection';\r\n//import { Screen } from './BaseScreen';\r\n\r\nconst screens = {\r\n    'Login Info': AccountInfoSection,\r\n    //'Verify': () => <View><Text>Verify Your Account</Text></View>,\r\n    'Basic Info': BasicInfoSection,\r\n    'Watchlist': PickWatchlistSection,\r\n    'Analyst Start': AnalystStartSection,\r\n    'Analyst Interest': InvestmentInterestSection,\r\n    'Link Brokerage': LinkBrokerageSection,\r\n    'Add Claims': YourContent,\r\n    'Profile Picture': ProfileIconSection//,\r\n    //'Content Accounts': YourContent,\r\n    //'Account Settings': AccountSettings\r\n}\r\nexport type CreateAccountProps = {\r\n    saveOnly?: boolean,\r\n    user: IEntity<IUserGet>,\r\n    //login?: LoginResult,\r\n    //componentId: string,\r\n    toastMessage: (msg: string, delay?: number | undefined) => void,//ToastMessageFunction,\r\n    //    prompt: PromptFunc,\r\n    setWizardIndex: Dispatch<SetStateAction<number>>,\r\n    navigation: NavigationProp<any>\r\n    next(skip?: number): void,\r\n    back(): void,\r\n    navigateByName(name: keyof typeof screens): void\r\n};\r\n//export type AuthAccountProps = CreateAccountProps & { user: IEntity<IAuthenticatedUser> }\r\n\r\nconst paddView = [flex, { padding: sizes.rem1 }] as ViewStyle\r\nexport const sideMargin = sizes.rem1_5;\r\n\r\n// export function ensureAuthProps(props: CreateAccountProps): props  is AuthAccountProps {\r\n//     return IsAuthenticated(props.user.data)\r\n// }\r\n\r\n\r\n\r\nconst screenKeys = Object.keys(screens);\r\n\r\n\r\nfunction SubScreen(props: { screenIndex: number, caProps: CreateAccountProps }) {\r\n    const { screenIndex, caProps } = props;\r\n    const Screen = screens[screenKeys[screenIndex] as keyof typeof screens];\r\n    /*Hacky based on assumptions*/\r\n    return (screenIndex === 0) ?\r\n        <Screen {...(caProps as any)} /> :\r\n        <Text>Something went very wrong...</Text>\r\n}\r\n\r\n// function isVerified(authedUser: IAuthenticatedUser | undefined) {\r\n//     return authedUser?.firstName && authedUser?.lastName && authedUser?.status_confirmed;\r\n// }\r\n\r\n\r\n\r\nexport default (props: any) => {\r\n\r\n    const\r\n        //  { isKeyboardVisible } = useIsKeyboardVisible(),\r\n        { appUser } = useAppUser(),\r\n        { value: loginResult } = useData(\"loginResult\"),\r\n        // resolveIdx = useCallback(() => {\r\n        //     return EntityApiBase.token ? 2 : 0\r\n        // }\r\n        // , []),\r\n        //{ verified } = loginResult || {},\r\n        [wizardIndex, setWizardIndex] = useState(0),\r\n        user = useReadonlyEntity<IUserGet>(appUser || {\r\n            profile_url: \"\",\r\n            first_name: \"\",\r\n            last_name: \"\",\r\n            handle: \"\",\r\n            email: \"\",\r\n            bio: \"\",\r\n            claims: [],\r\n            display_name: \"\",\r\n            id: \"\",\r\n            tags: []\r\n        }),\r\n        toast = useToast();\r\n\r\n    let resolvedIndex = 0;\r\n    if (wizardIndex < 2 && loginResult) {\r\n        resolvedIndex = 1\r\n        if (appUser)\r\n            resolvedIndex = 2\r\n        //resolvedIndex = 7\r\n    }\r\n    resolvedIndex = Math.max(wizardIndex, resolvedIndex);\r\n\r\n    useLayoutEffect(() => {\r\n        if(appUser)\r\n            user.resetData(appUser);\r\n    }, [appUser]);\r\n    const caProps = {\r\n        user,\r\n        navigation: props.navigation,\r\n        toastMessage: ((msg: string, delay: number | undefined) => {\r\n            toast.show(msg, {\r\n                duration: delay,\r\n                placement: \"top\"\r\n            });\r\n        }),\r\n        setWizardIndex,\r\n        saveOnly: false,\r\n        next: (length: number = 1) => {\r\n            setWizardIndex(resolvedIndex + length);\r\n        },\r\n        navigateByName: (name: keyof typeof screens) => {\r\n            const index = screenKeys.findIndex((k) => k === name);\r\n            console.log(\"FOUND INDEX OF ::::\" + index);\r\n            setWizardIndex(index);\r\n        },\r\n        back: () => {\r\n            setWizardIndex(Math.max(resolvedIndex - 1, 1));\r\n        }\r\n    }\r\n    console.log(\"Wizard Index isss resolved to \" + resolvedIndex)\r\n    return <TabView\r\n        style={{\r\n            backgroundColor: \"white\",\r\n            flexGrow: 1,\r\n            maxHeight: \"100%\",\r\n        }}\r\n        swipeEnabled={false}\r\n        selectedIndex={resolvedIndex}\r\n        indicatorStyle={{\r\n            height: 0\r\n        }}\r\n        tabBarStyle={{\r\n            height: 0,\r\n            padding: 0,\r\n        }}\r\n        shouldLoadComponent={(index) => index === resolvedIndex}\r\n    // onSelect={index => {\r\n    //     setWizardIndex(index);\r\n    // }}\r\n    >\r\n        {screenKeys.map((v, i) => {\r\n            const Screen = screens[screenKeys[i] as keyof typeof screens];\r\n            return <Tab >\r\n                <Screen {...caProps} />\r\n            </Tab>\r\n        })}\r\n        {/* <Tab title='USERS'>\r\n            <Layout style={styles.tabContainer}>\r\n                <Text category='h5'>USERS</Text>\r\n            </Layout>\r\n        </Tab>\r\n        <Tab title='ORDERS'>\r\n            <Layout style={styles.tabContainer}>\r\n                <Text category='h5'>ORDERS</Text>\r\n            </Layout>\r\n        </Tab>\r\n        <Tab title='TRANSACTIONS'>\r\n            <Layout style={styles.tabContainer}>\r\n                <Text category='h5'>TRANSACTIONS</Text>\r\n            </Layout>\r\n        </Tab> */}\r\n    </TabView>\r\n\r\n    // return !props.asProfile ?\r\n    //     <BaseScreen dashboardRef={dashRef} title={\r\n    //         caProps.login ? (!caProps.login.verified ? 'Verify Account' : 'Setup Account') : 'Create Account'\r\n    //     } scrollContentFlex >\r\n    //         <Wizard activeIndex={wizardIndex} onActiveIndexChanged={(idx) => setWizardIndex(idx)}>\r\n    //             {screenKeys.map((v, i) => <Wizard.Step state={getWizardState(i)} label={v} />)}\r\n    //         </Wizard>\r\n    //         <View style={flex}>\r\n    //             <ScrollView nestedScrollEnabled\r\n    //                 contentContainerStyle={!isKeyboardVisible ? flex : { flex: 0 }}>\r\n    //                 {<SubScreen caProps={caProps} screenIndex={wizardIndex} />}\r\n    //             </ScrollView>\r\n    //         </View>\r\n    //     </BaseScreen > :\r\n    //     /** No idea why, but this is not scrollable unless there is a background color... a fun react-native bug. **/\r\n    //     <View style={[flex, { backgroundColor: \"transparent\" }]}>\r\n    //         <TabController\r\n    //             items={screenKeys.map((v, i) => ({\r\n    //                 label: v.split(\" \").join(\"\\r\\n\"),\r\n    //                 labelStyle: {\r\n    //                     //width: 96,\r\n    //                     fontSize: fonts.xSmall,\r\n    //                     lineHeight: fonts.xSmall * 1.1,\r\n    //                     textAlign: \"center\"\r\n    //                 }\r\n    //             }))}>\r\n    //             <TabController.TabBar spreadItems />\r\n    //             <View style={flex}>\r\n    //                 {screenKeys.map((v, i) =>\r\n    //                     <TabController.TabPage index={i} key={v} lazy>\r\n    //                         <View style={flex}>\r\n    //                             <SubScreen caProps={caProps} screenIndex={i} />\r\n    //                         </View>\r\n    //                     </TabController.TabPage>\r\n    //                 )}\r\n    //             </View>\r\n    //         </TabController>\r\n    //     </View>\r\n\r\n\r\n\r\n}\r\n\r\nexport function useChangeLock(caProps: CreateAccountProps, otherEntities?: IEntity<any>[]) {\r\n    const output = useState(caProps.saveOnly || false)\r\n    const setLockButtons = output[1];\r\n    useEffect(() => {\r\n        if (caProps.saveOnly) {\r\n            const otherHasChanged = Boolean(otherEntities?.find((e) => e.hasChanged))\r\n            setLockButtons(!(otherHasChanged || caProps.user.hasChanged));\r\n        }\r\n    }, [caProps.saveOnly, caProps.user.hasChanged, otherEntities]);\r\n\r\n    return output\r\n}\r\n\r\n","import React, { useState, useRef, useEffect, RefObject, useMemo } from \"react\";\r\nimport { Alert, TouchableOpacity, Image, ImageStyle, ViewStyle, View, Animated } from \"react-native\";\r\n//import { Navigation } from \"react-native-navigation\";\r\n//import { Nav } from '@react-navigation/native'\r\nimport { Input, Text, } from \"@ui-kitten/components\";\r\n//import { signOut, getStoredCreds, CreateAuth0User, UpdateUserProfile, signInStoredCreds } from \"../../apis/Authentication\";\r\nimport { ButtonField } from \"../../components/ButtonField\";\r\nimport { IconifyIcon } from \"../../components/IconfiyIcon\";\r\nimport { Section } from \"../../components/Section\";\r\nimport { TextField, ITextField } from \"../../components/TextField\";\r\nimport { bannerText, flex, sizes, textInputWiz } from \"../../style\";\r\nimport { bindTextInput, IEntity, useReadonlyEntity } from \"../../utils/hooks\";\r\nimport { isRequired, isValidEmail, isAlphaNumeric } from \"../../utils/validators\";\r\nimport { CreateAccountProps, sideMargin, useChangeLock } from \"../CreateAccountScreen\";\r\n\r\nimport { ScrollWithButtons } from \"../../components/ScrollWithButtons\";\r\nimport { ProfileBanner } from \"../../components/ProfileBanner\";\r\nimport { Label } from \"../../components/Label\";\r\nimport { TBI } from \"../../utils/misc\";\r\nimport { AppColors } from \"../../constants/Colors\";\r\nimport Auth from '@tradingpost/common/api/entities/static/AuthApi'\r\nimport UserApi from '@tradingpost/common/api/entities/apis/UserApi'\r\nimport { IUserGet } from \"@tradingpost/common/api/entities/interfaces\";\r\nimport { useAppUser } from \"../../App\";\r\n\r\n\r\ntype FieldRefs = {\r\n    first: RefObject<ITextField>,\r\n    last: RefObject<ITextField>,\r\n    username: RefObject<ITextField>\r\n}\r\n\r\nexport function BasicInfoSection(props: CreateAccountProps) {\r\n    const\r\n        [lockButtons, setLockButtons] = useChangeLock(props),\r\n        opacityAnim = useRef(new Animated.Value(0)).current,\r\n        { signIn, appUser } = useAppUser(),\r\n        refs: FieldRefs = {\r\n            first: useRef<ITextField>(null),\r\n            last: useRef<ITextField>(null),\r\n            username: useRef<ITextField>(null),\r\n        },\r\n        buttonConfig = {\r\n            locked: lockButtons,\r\n            left: {\r\n                text: \"Sign Out\",\r\n                onPress: async () => {\r\n                    Auth.signOut();\r\n                    props.navigation.goBack();\r\n                }\r\n            }\r\n            // : (props.saveOnly ? undefined : {\r\n            //     text: \"Cancel\",\r\n            //     onPress: () => props.navigation.goBack()//Navigation.pop(props.componentId)\r\n            // })\r\n            ,\r\n            right: {\r\n                text: props.saveOnly ? \"Apply\" : \"Next\",\r\n                onPress: async () => {\r\n                    setLockButtons(true);\r\n                    const errors: string[] = [];\r\n                    try {\r\n                        for (const k in refs) {\r\n                            const val = refs[k as keyof typeof refs];\r\n                            if (val.current && !val.current.validate()) {\r\n                                errors.push(val.current.errorMessage || \"\");\r\n                            }\r\n                        }\r\n                        if (errors.length) {\r\n\r\n                            errors.unshift(\"Please fix the following issues:\");\r\n                            props.toastMessage(errors.join(\"\\r\\n\"));\r\n\r\n                            setLockButtons(false);\r\n                        }\r\n                        else {\r\n                            const { token } = await Auth.createUser(props.user.data.first_name, props.user.data.last_name, props.user.data.handle);\r\n                            await signIn(\"\", token);\r\n                            //props.next();                            \r\n                            //props.navigation.navigate(\"Root\");\r\n                            //setLockButtons(false);\r\n                        }\r\n\r\n                    } catch (ex: any) {\r\n                        if (ex.json) {\r\n                            props.toastMessage(`${ex.json.name}:\\r\\n${ex.json.policy || ex.json.description}`);\r\n                        }\r\n                        else if (typeof ex.message === \"string\") {\r\n                            props.toastMessage(ex.message);\r\n                        }\r\n                        else props.toastMessage(JSON.stringify(ex.message));\r\n                        setLockButtons(false);\r\n                    }\r\n\r\n                }\r\n            }\r\n        },\r\n        { navigation } = props\r\n\r\n    useEffect(() => {\r\n        Animated.timing(\r\n            opacityAnim,\r\n            {\r\n                delay: 0.75,\r\n                toValue: 1,\r\n                duration: 2000,\r\n                useNativeDriver: true\r\n            }).start();\r\n    }, [])\r\n    useEffect(() => {\r\n        if (props.saveOnly)\r\n            setLockButtons(!props.user.hasChanged);\r\n    }, [props.saveOnly, props.user.hasChanged]);\r\n\r\n\r\n    \r\n\r\n    return <ScrollWithButtons\r\n        buttons={buttonConfig}>\r\n        <View>\r\n            <View style={[flex, { margin: sideMargin }]}>\r\n                <Animated.Text\r\n                    style={[bannerText, { opacity: opacityAnim }]}>\r\n                    Let's keep setting up your account\r\n                </Animated.Text>\r\n                <TextField\r\n                    style={textInputWiz}\r\n                    textInputRef={refs.first}\r\n                    errorMessage={\"`First Name` is required\"}\r\n                    validate={isRequired}\r\n                    validateOnChange placeholder='First Name' returnKeyType=\"none\" {...bindTextInput(props.user, \"first_name\", null)}\r\n                />\r\n                <TextField\r\n                    style={textInputWiz}\r\n                    textInputRef={refs.last}\r\n                    errorMessage={\"`Last Name` is required\"}\r\n                    validate={isRequired}\r\n                    validateOnChange placeholder='Last Name' returnKeyType=\"none\" {...bindTextInput(props.user, \"last_name\", null)}\r\n                />\r\n                <TextField\r\n                    style={textInputWiz}\r\n                    textInputRef={refs.username}\r\n                    errorMessage={\"`Username` is required\"}\r\n                    validate={isRequired}\r\n                    validateOnChange placeholder='Username' returnKeyType=\"none\" {...bindTextInput(props.user, \"handle\", null)}\r\n                />\r\n            </View>\r\n        </View >\r\n    </ScrollWithButtons >\r\n}\r\n","import React, { useState, useRef, useEffect, RefObject, useMemo } from \"react\";\r\nimport { Alert, TouchableOpacity, Image, ImageStyle, ViewStyle, View, Animated, Pressable } from \"react-native\";\r\n//import { Navigation } from \"react-native-navigation\";\r\n//import { Nav } from '@react-navigation/native'\r\nimport { Avatar, Icon, Input, Text, } from \"@ui-kitten/components\";\r\n//import { signOut, getStoredCreds, CreateAuth0User, UpdateUserProfile, signInStoredCreds } from \"../../apis/Authentication\";\r\nimport { TextField, ITextField } from \"../../components/TextField\";\r\nimport { bannerText, flex, paddView, sizes, textInputWiz } from \"../../style\";\r\nimport { bindTextInput, IEntity, useReadonlyEntity, useSecuritiesList } from \"../../utils/hooks\";\r\nimport { isRequired, isValidEmail, isAlphaNumeric } from \"../../utils/validators\";\r\nimport { CreateAccountProps, sideMargin, useChangeLock } from \"../CreateAccountScreen\";\r\n\r\nimport { ScrollWithButtons } from \"../../components/ScrollWithButtons\";\r\n\r\n\r\nimport WatchlistApi from '@tradingpost/common/api/entities/apis/WatchlistApi'\r\nimport { useAppUser } from \"../../App\";\r\nimport { List } from \"../../components/List\";\r\nimport { SearchBar } from \"../../components/SearchBar\";\r\nimport { LogoImage } from \"../../components/LogoImage\";\r\nimport { SvgExpo } from \"../../components/SvgExpo\";\r\nimport AnalyzeImage from '../../assets/analyze2.svg'\r\nimport { ISecurityList } from \"@tradingpost/common/api/entities/interfaces\";\r\nimport { useWatchlistPicker, WatchlistPicker } from \"../../components/WatchlistPicker\";\r\nimport { ElevatedSection } from \"../../components/Section\";\r\n\r\ntype FieldRefs = {\r\n    first: RefObject<ITextField>,\r\n    last: RefObject<ITextField>,\r\n    username: RefObject<ITextField>\r\n}\r\n\r\n\r\nexport function PickWatchlistSection(props: CreateAccountProps) {\r\n    const\r\n        [lockButtons, setLockButtons] = useChangeLock(props),\r\n        opacityAnim = useRef(new Animated.Value(0)).current,\r\n        { selectionConverter: converterRef, selectedItems, onSelectedItemschanged: setSelectedItems, symbolConverter } = useWatchlistPicker(),\r\n        buttonConfig = {\r\n            locked: lockButtons,\r\n            left: {\r\n                text: \"Not Now\",\r\n                onPress: () => {\r\n                    props.next();\r\n                }\r\n            },\r\n            right: {\r\n                text: \"Apply\",\r\n                onPress: async () => {\r\n                    if (!Object.keys(selectedItems).length) {\r\n                        props.toastMessage(\"Please select at least one security of interest\");\r\n                    }\r\n                    else {\r\n                        setLockButtons(true);\r\n                        try {\r\n                            await WatchlistApi.insert({\r\n                                items: (converterRef.current ? converterRef.current(selectedItems) : []).map((s) => ({\r\n                                    symbol: s.symbol\r\n                                })),\r\n                                name: \"Primary Watchlist\",\r\n                                type: \"primary\" //primary | private | public \r\n                            })\r\n                            props.next();\r\n                        }\r\n                        catch (ex: any) {\r\n                            props.toastMessage(ex.message);\r\n                            setLockButtons(false);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        Animated.timing(\r\n            opacityAnim,\r\n            {\r\n                delay: 0.75,\r\n                toValue: 1,\r\n                duration: 1500,\r\n                useNativeDriver: true\r\n            }).start();\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        if (props.saveOnly)\r\n            setLockButtons(!props.user.hasChanged);\r\n    }, [props.saveOnly, props.user.hasChanged]);\r\n\r\n\r\n    return <ScrollWithButtons\r\n        fillHeight\r\n        buttons={buttonConfig}\r\n\r\n    >\r\n        <View style={paddView}>\r\n            <ElevatedSection title=\"\" style={flex}>\r\n                <Animated.View style={{ opacity: opacityAnim }}>\r\n                    <Pressable onPress={()=>{\r\n                        props.navigation.navigate(\"OverlayModal\");\r\n                    }}><Text\r\n                        style={[bannerText, { marginVertical: sizes.rem0_5 }]}>\r\n                        Help us get to know you.\r\n                    </Text>\r\n                    </Pressable>\r\n                    <SvgExpo>\r\n                        <AnalyzeImage />\r\n                    </SvgExpo>\r\n                    <Text\r\n                        style={[bannerText, { marginHorizontal: 0, marginVertical: sizes.rem0_5 }]}>\r\n                        Pick a few companies to help us tailor to your interests\r\n                    </Text>\r\n                </Animated.View>\r\n\r\n                <WatchlistPicker\r\n                    selectionConverter={converterRef}\r\n                    selectedItems={selectedItems}\r\n                    symbolConverter={symbolConverter}\r\n                    onSelectedItemschanged={(_selectedItems) => {\r\n                        setSelectedItems(_selectedItems)\r\n                        //TODO:::: need to put this logic back in \r\n                        // if (selectedItemCount === 5 && isSelected) {\r\n                        //     props.toastMessage(\"You can only select up to 5 companies\");\r\n                        //     return false;\r\n                        // }\r\n                        // else \r\n                        // return false;\r\n                    }}\r\n                />\r\n            </ElevatedSection>\r\n        </View>\r\n    </ScrollWithButtons>\r\n}\r\n\r\n","import { Icon, Text } from \"@ui-kitten/components\";\r\nimport { ScrollWithButtons } from \"../../components/ScrollWithButtons\"\r\nimport { AppColors } from \"../../constants/Colors\";\r\nimport { bannerText, flex, paddView, paddViewWhite, sizes, thinBannerText } from \"../../style\";\r\nimport { CreateAccountProps } from \"../CreateAccountScreen\"\r\nimport Bank from '../../assets/bank.svg'\r\nimport { SvgExpo } from \"../../components/SvgExpo\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Animated, Pressable } from \"react-native\";\r\nimport { View } from \"../../components/Themed\";\r\nimport { Api } from \"@tradingpost/common/api\";\r\nimport { ElevatedSection, Section } from \"../../components/Section\";\r\nimport { Table } from \"../../components/Table\";\r\nimport { AddButton, EditButton } from \"../../components/AddButton\";\r\nimport { openBrowserAsync } from 'expo-web-browser';\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nexport const LinkBrokerageSection = (props: CreateAccountProps) => {\r\n\r\n    const opacityAnim = useRef(new Animated.Value(0)).current;\r\n    const [accounts, setAccounts] = useState<Awaited<ReturnType<typeof Api.User.extensions.getBrokerageAccounts>>>()\r\n    const intervalRef = useRef<any>();\r\n    const [needsRefresh, setNeedsRefresh] = useState<{}>();\r\n    const openLink = async () => {\r\n        const browserName = \"finicity_auth\";\r\n        await openBrowserAsync(brokerLink, { \"windowName\": browserName });\r\n        clearInterval(intervalRef.current);\r\n\r\n        intervalRef.current = setInterval(async () => {\r\n            console.log(\"WTF\");\r\n            if (await AsyncStorage.getItem(\"auth-finicity-code\")) {\r\n                console.log(\"CODE HAS BEEN FOUND\");\r\n                setAccounts(await Api.User.extensions.getBrokerageAccounts())\r\n            }\r\n        }, 5000)\r\n    }\r\n    //cleanup\r\n    useEffect(() => {\r\n        AsyncStorage.removeItem(\"auth-finicity-code\");\r\n        return () => {\r\n            clearInterval(intervalRef.current);\r\n            AsyncStorage.removeItem(\"auth-finicity-code\");\r\n        }\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        Animated.timing(\r\n            opacityAnim,\r\n            {\r\n                delay: 0.75,\r\n                toValue: 1,\r\n                duration: 2000,\r\n                useNativeDriver: true\r\n            }).start();\r\n    }, [])\r\n    const [brokerLink, setLink] = useState(\"\");\r\n    useEffect(() => {\r\n        Api.User.extensions.generateBrokerageLink(undefined).then(({ link }) => {\r\n            setLink(link)\r\n        })\r\n    }, [needsRefresh])\r\n\r\n    useEffect(() => {\r\n        Api.User.extensions.getBrokerageAccounts().then((r) => {\r\n            setAccounts(r);\r\n        })\r\n    }, [])\r\n\r\n    //const linkTo = useLinkTo<any>()\r\n    return <ScrollWithButtons\r\n        fillHeight\r\n        buttons={{\r\n            right: {\r\n                text: \"I'm Done Linking Accounts\",\r\n                onPress: () => {\r\n                    props.next();\r\n                }\r\n            }\r\n        }}\r\n    >\r\n        <Animated.View style={[paddView, { opacity: opacityAnim }]}>\r\n            <ElevatedSection title={\"\"} style={flex}>\r\n                <Text style={[thinBannerText]}>Link Your Brokerage Accounts.</Text>\r\n                <View style={{ padding: sizes.rem1 }}>\r\n                    <SvgExpo>\r\n                        <Bank />\r\n                    </SvgExpo>\r\n                </View>\r\n                <Text style={{ marginVertical: sizes.rem1 }}>TradingPost links directly with your bank accounts to ....</Text>\r\n                <Section style={flex} title=\"Link Accounts\" button={(props) => accounts?.length ? <EditButton\r\n                    onPress={() => {\r\n                        openLink();\r\n                    }}\r\n                    height={props.height}\r\n                    width={props.width}\r\n                /> : <AddButton\r\n                    onPress={() => openLink()}\r\n                    height={props.height}\r\n                    width={props.width}\r\n                />} >\r\n                    <Table datasetKey={accounts?.map(a => a.id).join(\",\") || \"none\"} columns={[{ field: \"broker_name\", align: \"left\" }, { field: \"account_number\", align: \"left\" }]} data={accounts} noDataMessage=\"You have no linked accounts\" />\r\n                </Section>\r\n            </ElevatedSection>\r\n        </Animated.View>\r\n    </ScrollWithButtons >\r\n}","import { Text, TextProps } from './Themed';\n\nexport function MonoText(props: TextProps) {\n  return <Text {...props} style={[props.style, { fontFamily: 'space-mono' }]} />;\n}\n","import * as WebBrowser from 'expo-web-browser';\nimport { StyleSheet, TouchableOpacity } from 'react-native';\n\nimport Colors from '../constants/Colors';\nimport { MonoText } from './StyledText';\nimport { Text, View } from './Themed';\n\nexport default function EditScreenInfo({ path }: { path: string }) {\n  return (\n    <View>\n      <View style={styles.getStartedContainer}>\n        <Text\n          style={styles.getStartedText}\n          lightColor=\"rgba(0,0,0,0.8)\"\n          darkColor=\"rgba(255,255,255,0.8)\">\n          Open up the code for this screen:\n        </Text>\n\n        <View\n          style={[styles.codeHighlightContainer, styles.homeScreenFilename]}\n          darkColor=\"rgba(255,255,255,0.05)\"\n          lightColor=\"rgba(0,0,0,0.05)\">\n          <MonoText>{path}</MonoText>\n        </View>\n\n        <Text\n          style={styles.getStartedText}\n          lightColor=\"rgba(0,0,0,0.8)\"\n          darkColor=\"rgba(255,255,255,0.8)\">\n          Change any of the text, save the file, and your app will automatically update.\n        </Text>\n      </View>\n\n      <View style={styles.helpContainer}>\n        <TouchableOpacity onPress={handleHelpPress} style={styles.helpLink}>\n          <Text style={styles.helpLinkText} lightColor={Colors.light.tint}>\n            Tap here if your app doesn't automatically update after making changes\n          </Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n}\n\nfunction handleHelpPress() {\n  WebBrowser.openBrowserAsync(\n    'https://docs.expo.io/get-started/create-a-new-app/#opening-the-app-on-your-phonetablet'\n  );\n}\n\nconst styles = StyleSheet.create({\n  getStartedContainer: {\n    alignItems: 'center',\n    marginHorizontal: 50,\n  },\n  homeScreenFilename: {\n    marginVertical: 7,\n  },\n  codeHighlightContainer: {\n    borderRadius: 3,\n    paddingHorizontal: 4,\n  },\n  getStartedText: {\n    fontSize: 17,\n    lineHeight: 24,\n    textAlign: 'center',\n  },\n  helpContainer: {\n    marginTop: 15,\n    marginHorizontal: 20,\n    alignItems: 'center',\n  },\n  helpLink: {\n    paddingVertical: 15,\n  },\n  helpLinkText: {\n    textAlign: 'center',\n  },\n});\n","import { StatusBar } from 'expo-status-bar';\nimport { Platform, StyleSheet } from 'react-native';\n\nimport EditScreenInfo from '../components/EditScreenInfo';\nimport { Text, View } from '../components/Themed';\n\nexport default function ModalScreen() {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Modal</Text>\n      <View style={styles.separator} lightColor=\"#eee\" darkColor=\"rgba(255,255,255,0.1)\" />\n      <EditScreenInfo path=\"/screens/ModalScreen.tsx\" />\n\n      {/* Use a light status bar on iOS to account for the black space above the modal */}\n      <StatusBar style={Platform.OS === 'ios' ? 'light' : 'auto'} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  separator: {\n    marginVertical: 30,\n    height: 1,\n    width: '80%',\n  },\n});\n","import { StyleSheet, TouchableOpacity } from 'react-native';\n\nimport { Text, View } from '../components/Themed';\nimport { RootStackScreenProps } from '../types';\n\nexport default function NotFoundScreen({ navigation }: RootStackScreenProps<'NotFound'>) {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>This screen doesn't exist.</Text>\n      <TouchableOpacity onPress={() => navigation.replace('Root')} style={styles.link}>\n        <Text style={styles.linkText}>Go to home screen!</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  link: {\n    marginTop: 15,\n    paddingVertical: 15,\n  },\n  linkText: {\n    fontSize: 14,\n    color: '#2e78b7',\n  },\n});\n","import { StyleSheet } from 'react-native';\n\nimport EditScreenInfo from '../components/EditScreenInfo';\nimport { Text, View } from '../components/Themed';\nimport { RootTabScreenProps } from '../types';\n\nexport default function TabOneScreen({ navigation }: RootTabScreenProps<'TabOne'>) {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>To Be Implemented</Text>\n      {/* <View style={styles.separator} lightColor=\"#eee\" darkColor=\"rgba(255,255,255,0.1)\" />\n      <EditScreenInfo path=\"/screens/TabOneScreen.tsx\" /> */}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  separator: {\n    marginVertical: 30,\n    height: 1,\n    width: '80%',\n  },\n});\n","import { ButtonProps } from \"@ui-kitten/components\";\r\nimport React from \"react\";\r\nimport { Alert, View } from \"react-native\";\r\nimport Animated from \"react-native-reanimated\";\r\n//import { ButtonProps, View } from \"react-native-ui-lib\";\r\n//import AuthApi from \"../api/entities/apis/AuthApi\";\r\n\r\n//import { screens } from \"../layouts/BaseLayout\";\r\n//import CreateAccountScreen from \"../screens/CreateAccountScreen\";\r\nimport { PrimaryButton } from \"./PrimaryButton\";\r\nimport { SecondaryButton } from \"./SecondaryButton\";\r\n\r\nexport const LoginButtons = (props: { createAccountProps: Partial<ButtonProps>, loginProps: Partial<ButtonProps> }) => {\r\n    return <View style={{ flexDirection: \"row\", justifyContent: \"space-between\" }}>\r\n        <SecondaryButton style={{ alignSelf: \"center\", width: \"48%\" }} \r\n            {...props.createAccountProps}\r\n        //onPress={() => {\r\n        //  screens.push(componentId, \"CreateAccount\")\r\n\r\n        //}}\r\n        //disabled={loggingIn}\r\n        >Create Account</SecondaryButton>\r\n        <PrimaryButton\r\n         \r\n            //disabled={loggingIn}\r\n            // onPress={async () => {\r\n\r\n            //   //  setLoggingIn(true);\r\n            //     // try {\r\n            //     //     const val = userRef.current?.field.current?.validate();\r\n            //     //     const passVal = passRef.current?.field.current?.validate();\r\n            //     //     if (val && passVal) {\r\n            //     //         const user = await AuthApi.login(username, password);// signInWithPassword(username, password);\r\n\r\n            //     //         if (user.verified)\r\n            //     //             Alert.alert(\"VERIFIED\")\r\n            //     //         //SetDashboardLayout();\r\n            //     //         else\r\n            //     //             screens.push(componentId, \"CreateAccount\")\r\n\r\n\r\n\r\n\r\n            //     //         // Navigation.push(props.componentId, {\r\n            //     //         //     component: screens.getComponent(\"App\")\r\n            //     //         // });\r\n            //     //     }\r\n            //     //     else\r\n            //     //         throw new Error(userRef.current?.errorMessage)\r\n            //     // }\r\n            //     // catch (ex: any) {\r\n            //     //     passRef.current?.field.current?.clear();\r\n            //     //     dashboardRef.current?.toastMessage(ex.message);\r\n            //     // }\r\n            //     // finally {\r\n            //     //     setLoggingIn(false);\r\n            //     // }\r\n\r\n            // }}\r\n            style={{ alignSelf: \"center\", width: \"48%\" }}\r\n            {...props.loginProps}\r\n        >Sign In</PrimaryButton>\r\n    </View>\r\n}","\r\nimport React, { Children, FC, PropsWithChildren, ReactElement, useEffect, useLayoutEffect, useMemo, useRef } from \"react\";\r\n//import { Text, View } from \"react-native-ui-lib\";\r\n//import { LoginButtons } from \"../components/LoginButtons\";\r\nimport { AppTitle, SplashWelcome } from \"../images\";\r\n//import { Screen } from \"./BaseScreen\";\r\n//import CreateAccountScreen from \"./CreateAccountScreen\";\r\nimport { bannerText, fonts, paddView, sizes } from '../style'\r\nimport { G, GProps, Path, SvgProps } from \"react-native-svg\";\r\nimport { Link } from \"../components/Link\";\r\nimport { Animated, Platform, View, StyleSheet, Alert } from \"react-native\";\r\nimport { SvgExpo } from \"../components/SvgExpo\";\r\nimport { LoginButtons } from \"../components/LoginButtons\";\r\nimport useCachedResources from \"../hooks/useCachedResources\";\r\nimport { NavigationProp, useLinkTo } from \"@react-navigation/native\";\r\nimport { Text, Layout, ViewPager, TabView, Tab } from \"@ui-kitten/components\";\r\nimport { useState } from \"react\";\r\nimport { ITextField, TextField } from \"../components/TextField\";\r\nimport { Header } from \"../components/Headers\";\r\nimport { Section } from \"../components/Section\";\r\n//import { BaseScreenProps } from \"../layouts/BaseLayout\";\r\n//import LoginScreen from \"./LoginScreen\";\r\n//import { LoginButtons } from \"../components/LoginButtons\";\r\n//import Auth from '@tradingpost/common/api/entities/static/AuthApi'\r\n//import UserApi from '@tradingpost/common/api/entities/apis/UserApi'\r\n\r\n\r\nimport { useToast } from \"react-native-toast-notifications\";\r\n//import { PublicPages } from \"../navigation\";\r\n//import { EntityApiBase } from \"@tradingpost/common/api/entities/static/EntityApiBase\";\r\nimport { useAppUser } from \"../App\";\r\nimport { useData } from \"../lds\";\r\n//import { resetEnsureUser } from \"../components/EnsureUser\";\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    tab: {\r\n        height: 192,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n\r\n});\r\nexport type WelcomeScreenProps = { title: string }\r\n\r\nconst ensureG = (child: ReactElement): child is ReactElement<GProps> => {\r\n    return child.type === G;\r\n}\r\n\r\n//Test function will move out into helper later \r\nconst SvgMagic: React.FC<{ children: ReactElement<SvgProps> }> = (props) => {\r\n    const reportChildren = (children: ReactElement) => {\r\n        Children.forEach(children, (child) => {\r\n            if (ensureG(child))\r\n                console.log(\"FOUND G WITH ID:::::::\" + child.props.id);\r\n            else {\r\n                console.log(\"FOUND SOMETHING:::::::\" + (child.type as any).name);\r\n                console.log(\"FOUND SOMETHINGS CHIULDREN:::::::\" + (JSON.stringify(child.props)));\r\n            }\r\n            reportChildren(child.props.children);\r\n        })\r\n    };\r\n\r\n    reportChildren(props.children);\r\n\r\n    return props.children;\r\n}\r\n\r\n// class WelcomeScreen extends Screen<WelcomeScreenProps> {\r\n//     layoutProps: BaseScreenProps = {\r\n//         scrollContentFlex: true\r\n//     }\r\n//     Content = (p: WelcomeScreenProps & { componentId: string }) => {\r\n//         return <><View style={[...paddView, { height: \"100%\", backgroundColor: \"white\" }]}>\r\n//             <AppTitle style={{ marginVertical: sizes.rem2, alignSelf: \"center\" }} />\r\n//             <SplashWelcome style={{ backgroundColor: \"orange\", width: \"100%\", aspectRatio: 1.5 }} />\r\n//             <Text style={{ textAlign: \"center\", margin: sizes.rem2, fontSize: fonts.large, lineHeight: fonts.large * 1.5 }}>Welcome to the team!</Text>\r\n//             <LoginButtons\r\n//                 createAccountProps={{\r\n//                     onPress: () => {\r\n//                     //    CreateAccountScreen.open(p.componentId, {});\r\n//                     }\r\n//                 }}\r\n//                 loginProps={{\r\n//                 //    onPress: () => LoginScreen.open(p.componentId, {})\r\n//                 }}\r\n//             />\r\n\r\n//         </View>\r\n//             <Link style={{ textAlign: \"right\", position: \"absolute\", bottom: sizes.rem1, right: sizes.rem1, fontSize: fonts.large, lineHeight: fonts.large * 1.5 }}>What is TradingPost{\">>\"}</Link>\r\n//         </>\r\n//     };\r\n// }\r\n//console.log(\"MY app type is \" + typeof AppTitle)\r\n\r\nexport default ({ navigation }: { navigation: NavigationProp<any> }) => {\r\n    const cleanUp = useRef<number>(),\r\n        [selectedIndex, setSelectedIndex] = useState(0);\r\n\r\n    useEffect(() => {\r\n        //resetEnsureUser();\r\n        return () => clearInterval(cleanUp.current);\r\n    }, [])\r\n\r\n\r\n\r\n\r\n    const\r\n        userRef = useRef<ITextField>(null),\r\n        passRef = useRef<ITextField>(null),\r\n        [username, setUsername] = useState<string>(''),\r\n        [password, setPassword] = useState<string>(''),\r\n        [loggingIn, setLoggingIn] = useState(false),\r\n        //{ isKeyboardVisible } = useIsKeyboardVisible(),\r\n        //{ toastMessage, toastProps } = useToast(),\r\n        [resetMode, setResetMode] = useState(false),\r\n        intervalRef = useRef<any>(),\r\n        opacityAnim = useRef(new Animated.Value(0)).current,\r\n        toast = useToast(),\r\n        { appUser, signIn, authToken, loginResult } = useAppUser(),\r\n        { value: hasAuthed } = useData(\"hasAuthed\")\r\n\r\n\r\n    useLayoutEffect(() => {\r\n        ///*|| loginResult*\r\n        if (appUser || loginResult) {\r\n            if (!appUser || !hasAuthed)\r\n                navigation.navigate(\"Create\");\r\n            else {\r\n\r\n                navigation.navigate(\"Dash\")\r\n\r\n            }\r\n        }\r\n\r\n    }, [appUser, loginResult])\r\n    const linkTo = useLinkTo<any>();\r\n\r\n    return <> <View style={[...paddView, { justifyContent: \"center\", backgroundColor: \"white\" }]}>\r\n        <AppTitle style={{ marginVertical: sizes.rem1, alignSelf: \"center\", width: \"100%\", aspectRatio: 5 }} />\r\n        <TabView\r\n            selectedIndex={selectedIndex}\r\n            onSelect={index => {\r\n                //TODO: investigate whats happenign here. This is not normal....            \r\n                //console.log(\"VALUE IS BEING SET TO \" + (index === NaN ? 1 : index))\r\n                setSelectedIndex(isNaN(index) ? 0 : index)\r\n            }}\r\n            style={{ width: \"100%\" }}\r\n            indicatorStyle={{\r\n                height: 0\r\n            }}\r\n            tabBarStyle={{\r\n                height: 0,\r\n            }}\r\n        >\r\n            <Tab>\r\n                <SplashWelcome\r\n                    onReady={(item) => {\r\n                        if (Platform.OS === \"web\" && item instanceof HTMLDivElement) {\r\n                            const stonks = [\"fb\", \"tsla\", \"nvda\", \"btc\", \"ether\", \"doge\"].map((n) => item.querySelector<SVGGElement>(`[id=${n}]`));\r\n                            stonks.forEach((s) => {\r\n                                if (s)\r\n                                    s.style.opacity = \"0\";\r\n                            });\r\n\r\n                            let lastItem: SVGGElement | null = null;\r\n                            let lastItem2: SVGGElement | null = null;\r\n                            console.log(\"DOING INTERVAL STUFF\");\r\n                            if (intervalRef.current)\r\n                                clearInterval(intervalRef.current);\r\n\r\n                            intervalRef.current = setInterval(() => {\r\n                                const index = Math.floor(Math.random() * (9));\r\n                                const index2 = Math.floor(Math.random() * (9));\r\n\r\n                                if (lastItem)\r\n                                    lastItem.style.opacity = \"0\";\r\n\r\n                                if (lastItem2)\r\n                                    lastItem2.style.opacity = \"0\";\r\n\r\n\r\n                                lastItem = stonks[index];\r\n                                lastItem2 = stonks[index2];\r\n                                if (lastItem)\r\n                                    lastItem.style.opacity = \"1\";\r\n                                if (lastItem2)\r\n                                    lastItem2.style.opacity = \"1\";\r\n                            }, 1000)\r\n                        }\r\n                    }}\r\n                />\r\n            </Tab>\r\n            <Tab>\r\n                <Section title=\"Login\">\r\n                    <TextField placeholder='Username' returnKeyType=\"next\"\r\n                        onChangeText={(name) => setUsername(name)}\r\n                        //validateOnChange\r\n                        textInputRef={userRef}\r\n                        style={{ marginVertical: sizes.rem1 }}\r\n                    //validate={isValidEmail}\r\n                    //errorMessage={\"Invalid Email Address\"}\r\n                    //validateOnChange\r\n                    //onSubmitEditing={() => passRef.current?.focus()}\r\n                    //error={userError}\r\n                    />\r\n\r\n                    <TextField\r\n                        //containerStyle={{ height: 64 }}\r\n                        //label='Password'\r\n                        //validate={isRequired}\r\n                        onChangeText={(pass) => setPassword(pass)}\r\n                        placeholder='Password'\r\n                        style={{ marginVertical: sizes.rem1 }}\r\n                        //errorMessage=\"Invalid Password\"\r\n                        //validateOnChange\r\n                        secureTextEntry textInputRef={passRef} />\r\n                    <Link style={{ paddingTop: 4, paddingBottom: 16, alignSelf: \"flex-end\" }} onPress={() => setResetMode(true)}>Forgot Password?</Link>\r\n                </Section>\r\n            </Tab>\r\n        </TabView>\r\n        <Animated.Text style={[bannerText, {\r\n            opacity: !selectedIndex ? 1 : opacityAnim\r\n        }]}> {!selectedIndex ? \"Welcome to the team!\" : \"Hey... Welcome Back!\"}</Animated.Text>\r\n        <LoginButtons\r\n            createAccountProps={{\r\n                onPress: () => {\r\n                    linkTo(\"/create\");\r\n                    //navigation.navigate(\"Create\");\r\n                    //CreateAccountScreen.open(p.componentId, {});\r\n                }\r\n            }}\r\n            loginProps={{\r\n                onPress: async () => {\r\n                    if (!selectedIndex) {\r\n                        setSelectedIndex(1);\r\n                        Animated.timing(\r\n                            opacityAnim,\r\n                            {\r\n                                delay: 0.75,\r\n                                toValue: 1,\r\n                                duration: 2000,\r\n                                useNativeDriver: true\r\n                            }).start();\r\n                    }\r\n                    else {\r\n                        try {\r\n                            await signIn(username, password);\r\n                        }\r\n                        catch (ex: any) {\r\n                            toast.show(ex.message);\r\n                        }\r\n                    }\r\n                }\r\n                //setGlobalUser(true)\r\n            }}\r\n        />\r\n    </View>\r\n        {!selectedIndex && <Link style={{ textAlign: \"right\", position: \"absolute\", bottom: sizes.rem1, right: sizes.rem1, fontSize: fonts.large, lineHeight: fonts.large * 1.5 }}>What is TradingPost{\">>\"}</Link>}\r\n    </>\r\n\r\n\r\n    //    \r\n    //</View >\r\n    // return <>\r\n    //     <AppTitle style={{ marginVertical: sizes.rem2, alignSelf: \"center\" }} />\r\n    //     <SplashWelcome style={{ backgroundColor: \"orange\", width: \"100%\", aspectRatio: 1.5 }} />\r\n    //     <Text style={{ textAlign: \"center\", margin: sizes.rem2, fontSize: fonts.large, lineHeight: fonts.large * 1.5 }}>Welcome to the team!</Text>\r\n    //     {/* <LoginButtons\r\n    //         createAccountProps={{\r\n    //             onPress: () => {\r\n    //                 //    CreateAccountScreen.open(p.componentId, {});\r\n    //             }\r\n    //         }}\r\n    //         loginProps={{\r\n    //             //    onPress: () => LoginScreen.open(p.componentId, {})\r\n    //         }}\r\n    //     /> */}\r\n\r\n    // </View>\r\n    //     <Link style={{ textAlign: \"right\", position: \"absolute\", bottom: sizes.rem1, right: sizes.rem1, fontSize: fonts.large, lineHeight: fonts.large * 1.5 }}>What is TradingPost{\">>\"}</Link>\r\n    // </>\r\n}","/**\n * Learn more about deep linking with React Navigation\n * https://reactnavigation.org/docs/deep-linking\n * https://reactnavigation.org/docs/configuring-links\n */\n\nimport { LinkingOptions } from '@react-navigation/native';\nimport * as Linking from 'expo-linking';\nimport { navIcons } from '../images';\n\n//import { RootStackParamList } from '../types';\n\n// const linking: LinkingOptions<any> = {\n//   prefixes: [Linking.createURL('/')],\n//   config: {\n//     screens: {\n//       Root: {\n//         screens: {\n//           TabOne: {\n//             screens: {\n//               TabOneScreen: 'one',\n//             },\n//           },\n//           TabTwo: {\n//             screens: {\n//               TabTwoScreen: 'two',\n//             },\n//           },\n//         },\n//       },\n\n//       Modal: 'modal',\n//       NotFound: '*',\n//     },\n//   },\n// };\n\nconst linking: LinkingOptions<any> = {\n  prefixes: [Linking.createURL('/')],\n  config: {\n    screens: {\n      Root: \"login\",\n      Create: \"create\",\n      Dash: {\n        screens: {\n          Root: {\n            screens: (() => {\n              const output: Record<string, string> = {}\n              Object.keys(navIcons).map((k) => {\n                output[k] = \"dash/\" + k.toLowerCase();\n              })\n              return output;\n            })()\n          }\n        }\n      },\n      Auth:\"auth/:platform\",\n      Modal: 'modal',\n      NotFound: '*',\n    },\n  },\n};\n\nexport default linking;\n","import React from \"react\";\r\nimport { Button } from \"@ui-kitten/components\";\r\nimport { AppColors } from \"../constants/Colors\";\r\nimport { sizes } from \"../style\";\r\nimport { Text, ViewStyle } from 'react-native'\r\nexport function PrimaryChip(props: { label: string, isAlt?: boolean, style?: ViewStyle }) {\r\n    const color = props.isAlt ? AppColors.secondary : AppColors.primary\r\n    return <Button\r\n        key={props.label}\r\n        style={[{ borderRadius: 16, backgroundColor: color, borderColor: color, marginRight: sizes.rem1 / 4, height: sizes.rem2, minHeight: sizes.rem2 }, props.style]}\r\n    //label={props.label}\r\n    ><Text numberOfLines={1} style={{ color: \"white\" }}>{props.label}</Text></Button>\r\n}","import React from \"react\";\r\nimport { Image, ImageBackground, ImageStyle } from \"react-native\";\r\nimport { sizes } from \"../style\";\r\n\r\nexport function IconButton(props: { iconSource: number, style?: ImageStyle }) {\r\n    return <Image source={props.iconSource} resizeMode=\"contain\" style={[ {height:24}, props.style]}/>\r\n} ","import React, { ReactNode, useState } from \"react\";\r\nimport { Pressable } from \"react-native\";\r\n\r\nexport const AsyncPressable = (props: { children: ReactNode, onPress?: () => Promise<void> }) => {\r\n    const [isDisabled, setIsDisabled] = useState(false);\r\n    const { onPress, children } = props;\r\n    return <Pressable disabled={isDisabled} onPress={async () => {\r\n        setIsDisabled(true);\r\n\r\n        if (onPress)\r\n            await onPress();\r\n\r\n        setIsDisabled(false);\r\n\r\n    }}>{children}</Pressable>\r\n}","import React from \"react\"\r\nimport { View, Text } from \"react-native\"\r\nimport { HtmlViewProps } from \"./HtmlView.interface\"\r\n\r\nexport const HtmlView = (props: HtmlViewProps) => {\r\n    return <View style={props.style}><iframe\r\n        //marginwidth=\"0\"\r\n        //marginheight=\"0\"\r\n        //hspace=\"0\"\r\n        //vspace=\"0\"\r\n        //frameborder=\"0\"\r\n        name=\"_MYFIRAME\" scrolling=\"no\"\r\n        src={props.isUrl ? props.children : undefined}\r\n        srcDoc={!props.isUrl ? props.children : undefined}\r\n        style={{ position: \"absolute\", top: 0, bottom: 0, height: \"100%\", width: \"100%\", borderWidth: 0 }} />\r\n    </View>\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Alert, Image, ImageBackground, PixelRatio, Platform, Pressable, ScrollView, StyleSheet, Text, TouchableOpacity, View } from 'react-native'\r\nimport { Button, Icon } from '@ui-kitten/components'\r\n\r\nimport { flex, fonts, row, shadow, sizes } from '../style'\r\nimport UserLogo from '@iconify/icons-mdi/user'\r\nimport { IconifyIcon } from './IconfiyIcon'\r\nimport { Header, Subheader } from './Headers'\r\nimport { PrimaryChip } from './PrimaryChip'\r\nimport { BookmarkActive, BookmarkIcons, CommentIcon, navIcons, postBg, social, UpvoteIcon } from '../images'\r\nimport { social as socialStyle } from '../style'\r\nimport { IconButton } from './IconButton'\r\n//import { IPostList } from '../api/entities/interfaces'\r\nimport { LogoImage } from './LogoImage'\r\n//import { ensureCurrentUser } from '../apis/Authentication'\r\n//import { WebView } from 'react-native-webview';\r\nimport { color } from 'react-native-reanimated'\r\n//import { screens } from '../navigationComponents'\r\n//import { fullDashOptions } from '../layouts/DashboardLayout'\r\nimport { AsyncPressable } from './AsyncPressable'\r\nimport { AppColors } from '../constants/Colors'\r\nimport { Api, Interface } from '@tradingpost/common/api'\r\nimport { HtmlView } from './HtmlView'\r\nimport { useWindowDimensions } from 'react-native'\r\nimport { ProfileButton } from './ProfileButton'\r\nimport { useToast } from 'react-native-toast-notifications'\r\n//import { setBookmarked } from '../apis/PostApi'\r\n//import { openProfileScreen } from '../screens/ProfileScreen'\r\n\r\n\r\nconst postTotalVerticalMargin = sizes.rem1;\r\nconst postTotalHorizontalMargin = sizes.rem2;\r\nconst postSidePad = sizes.rem2;\r\nconst postTotalBorder = 2//4;\r\nexport const spaceOnSide = postTotalHorizontalMargin + postTotalBorder + postSidePad\r\n//const profileStyle = { marginLeft: 0, height: 56, width: 56, borderRadius: 28, marginRight: sizes.rem1 / 4 }\r\n\r\n\r\n\r\n// const platformStyles: Partial<Record<PostPlatform, string>> = {\r\n//     \"tradingpost\": `<style>body { margin: 0; padding:16; /*background-color:orange;*/ font-size:40 } div {/* background-color:green*/ }</style>`,\r\n//     \"youtube\": `<style>body { margin: 0; padding:0; /*background-color:orange;*/  } div {/* background-color:green*/ }</style>`\r\n// };\r\n// const platformInects: Partial<Record<PostPlatform, string>> = {\r\n//     \"tradingpost\": \"setTimeout(()=>ReactNativeWebView.postMessage(document.documentElement.scrollHeight),[100])\",\r\n//     \"twitter\": `\r\n//         function bodySized(){\r\n//             ReactNativeWebView.postMessage(document.documentElement.scrollHeight);\r\n//         }\r\n//         const v = setInterval(\r\n//                 ()=>{\r\n//                     const val = document.querySelector('.twitter-tweet-rendered');\r\n//                     if(val){\r\n//                         clearInterval(v);\r\n//                         twttr.ready(function (twttr) {\r\n//                             // At this point the widget.js file had been loaded.\r\n//                             // We can now make use of the twttr events\r\n//                             twttr.events.bind('rendered', function (event) {\r\n//                                  // At this point the tweet as been fully loaded\r\n//                                  // and rendered and you we can proceed with our Javascript\r\n//                                 //console.log(\"Created widget\", event.target.id);\r\n//                                 setTimeout(()=>\r\n//                                 bodySized(),100)\r\n//                             });\r\n//                         });\r\n\r\n//                     }\r\n//                 },[100])\r\n\r\n//         // var ro = new ResizeObserver(entries => {\r\n//         //     bodySized();\r\n//         // });\r\n\r\n\r\n//         //ro.observe(document.body);\r\n//     `\r\n// };\r\n// const platformAspectRatio: Partial<Record<PostPlatform, number>> = {\r\n//     //\"twitter\": 0.4\r\n//     \"youtube\": 1.77\r\n// };\r\n// const platformAutoHeight: Partial<Record<PostPlatform, number>> = {\r\n//     \"tradingpost\": PixelRatio.get(),\r\n//     \"twitter\": 1\r\n// };\r\n\r\n//export const EXTRA_HEIGHT = 54 + 8 * 2 + 1 + 20;\r\n//+ 8 * 2 + 9 * 2 + 8 * 2;\r\n\r\nexport const postInnerHeight = (itm: Interface.IElasticPost | undefined, windowWidth: number) => {\r\n    const size = (itm as Interface.IElasticPost | undefined)?._source.size\r\n    if (itm?._source.postType === \"substack\") {\r\n        return 200;\r\n    }\r\n    else if (size) {\r\n        return windowWidth / size.aspectRatio + (itm?._source.postType === \"tweet\" ? 20 * windowWidth / itm._source.size.maxWidth : 0);\r\n    }\r\n    else if (itm?._source.postType === \"youtube\") {\r\n        return windowWidth / (390 / 230);\r\n    }\r\n    else if (itm?._source.postType === \"spotify\") {\r\n        return windowWidth / (360 / 162);\r\n    }\r\n    else {\r\n        return 200;\r\n    }\r\n}\r\nexport const resolvePostContent = (itm: Interface.IElasticPost | undefined, windowWidth: number) => {\r\n    switch (itm?._source.postType) {\r\n        case \"youtube\":\r\n            return itm._source.postUrl.replace(\"https://www.youtube.com/watch?v=\", \"//www.youtube.com/embed/\");\r\n        case 'tweet':\r\n            return `<html><head><meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0\"></meta></head><body style=\"margin:0; padding:0;width:${itm._source.size.maxWidth}px;transform: scale(${windowWidth / itm._source.size.maxWidth});transform-origin: top left;\">\r\n            ${itm._source.content.htmlBody}\r\n            </body></html>`\r\n        case 'spotify':\r\n            const matches = /src=\"(.*)\"/.exec(itm._source.content.body);\r\n            return matches?.[1] || \"\";\r\n        default:\r\n            return itm?._source.content.htmlBody || \"\";\r\n    }\r\n}\r\nexport function PostView(props: { post: Interface.IElasticPostExt }) {\r\n    const { post } = props\r\n\r\n\r\n    //const cu = null,// ensureCurrentUser(),\r\n\r\n    const [isBookmarked, setIsBookmarked] = useState(Boolean(post.ext.is_bookmarked));\r\n    const [isUpvoted, setIsUpvoted] = useState(Boolean(post.ext.is_upvoted));\r\n\r\n    //[preloadVars, setPreloadVars] = useState<{ $_width: number } | undefined>(undefined),\r\n    //needsLayout = false,// props.post.platform === \"twitter\";\r\n    //preloadJS = preloadVars ? Object.keys(preloadVars).map(k => `const ${k}=${preloadVars[k as keyof typeof preloadVars]}`).join(\";\\r\\n\") : undefined,\r\n    //[webViewHeight, setWebViewHeight] = useState<number>();\r\n\r\n    // useEffect(() => {\r\n    //     if (props.post.platform === \"twitter\") {\r\n    //         console.log(props.post.html);\r\n    //     }\r\n\r\n    // }, [])\r\n\r\n    //    console.log(props.post.html);\r\n    //    const { type: postType } = props.post;\r\n    const [showStatus, setShowStatus] = useState(false);\r\n    return <View style={{ marginHorizontal: postTotalHorizontalMargin / 2, marginVertical: postTotalVerticalMargin / 2 }} >\r\n        <View\r\n            style={[shadow, { backgroundColor: \"white\", borderRadius: sizes.borderRadius * 4, borderColor: \"#ccc\", borderWidth: postTotalBorder / 2 }]}>\r\n            <Pressable\r\n                onPress={() => {\r\n                    //openProfileScreen(props.parentComponentId, props.post.creator.id_creator);\r\n                }} style={[row, { alignItems: \"center\", overflow: \"hidden\", borderBottomColor: \"#ccc\", borderBottomWidth: 1, padding: sizes.rem1 / 2 }]}>\r\n                {\r\n                    <ProfileButton userId={props.post._source.user.id} profileUrl={props.post.ext.user?.profile_url || \"\"} size={56} />\r\n                }\r\n                <View style={[flex, { marginLeft: sizes.rem0_5 }]}>\r\n                    <Subheader text={\"@\" + (props.post.ext.user?.handle || \"NoUserAttached\")} style={{ color: \"black\", fontWeight: \"bold\" }} />\r\n                    <View>\r\n                        <ScrollView nestedScrollEnabled horizontal>\r\n                            <View style={row}>\r\n                                {(props.post.ext.user?.tags || [\"No\", \"Tags\", \"Here\"]).map((chip, i) =>\r\n                                    <PrimaryChip isAlt key={i} label={chip} />)}\r\n                            </View>\r\n                        </ScrollView>\r\n                    </View>\r\n                </View>\r\n                <AsyncPressable\r\n                    onPress={async () => {\r\n                        try {\r\n                            const resp = await Api.Post.extensions.setBookmarked({\r\n                                id: props.post._id,\r\n                                is_bookmarked: !isBookmarked\r\n                            });\r\n                            setIsBookmarked(Boolean(resp.is_bookmarked));\r\n                        }\r\n                        catch (ex) {\r\n                            console.error(ex);\r\n                        }\r\n                    }}>\r\n                    {!isBookmarked && <IconButton iconSource={BookmarkIcons.inactive} style={{ height: 24, width: 24, marginLeft: \"auto\", }} />}\r\n                    {isBookmarked && <BookmarkActive style={{ height: 16, width: 16, marginLeft: \"auto\", marginRight: sizes.rem0_5 / 2 }} />}\r\n                </AsyncPressable>\r\n            </Pressable>\r\n            <View style={{ paddingHorizontal: postSidePad / 2 }}>\r\n                <PostContentView post={post} />\r\n            </View>\r\n            {/* {props.post.html ? <>\r\n                    {props.post.title && <Subheader text={props.post.title || \"\"} style={{ color: \"black\", marginTop: sizes.rem1 / 2, marginLeft: sizes.rem1 / 2 }} />}\r\n                    <WebView\r\n                        style={{\r\n                            aspectRatio: platformAspectRatio[props.post.platform as PostPlatform],\r\n                            height: platformAutoHeight[props.post.platform as PostPlatform] ? webViewHeight : undefined,\r\n                            //Causes a weird bug if this is set to 1...\r\n                            //..see https://github.com/react-native-webview/react-native-webview/issues/811\r\n                            opacity: Platform.OS === \"android\" ? 0.99 : undefined,\r\n                            minHeight: 80\r\n\r\n                        }}\r\n\r\n                        // onLayout={(ev) => {\r\n                        //     if (needsLayout) setPreloadVars({\r\n                        //         $_width:\r\n                        //             PixelRatio.getPixelSizeForLayoutSize(ev.nativeEvent.layout.width)\r\n                        //     })\r\n                        // }}\r\n                        key={\"webview\"}\r\n                        source={{ html: needsLayout && !preloadVars ? \"\" : ((platformStyles[props.post.platform as PostPlatform] || \"\") + props.post.html || \"\") }}\r\n                        // injectedJavaScriptBeforeContentLoaded={preloadJS}\r\n\r\n                        onMessage={(m: any) => {\r\n                            console.log(props.post.platform + \" Message:\" + m.nativeEvent.data);\r\n                            const val = platformAutoHeight[props.post.platform as PostPlatform];\r\n                            if (val)\r\n                                setWebViewHeight(Number(m.nativeEvent.data) / val);\r\n                        }}\r\n                        injectedJavaScript={platformInects[props.post.platform as PostPlatform]}\r\n                    /></> : \r\n                    (\r\n                    props.post.platform === \"substack\" ? <SubstackView post={props.post} /> :\r\n\r\n                    \r\n                        <Text>{props.post.content}</Text>\r\n                )} */\r\n            }\r\n            {(props.post._source.postType !== \"tweet\") &&\r\n                <View style={[row, { alignItems: \"center\", marginTop: \"auto\", borderTopColor: \"#ccc\", borderTopWidth: 1 }]}>\r\n                    {showStatus && <View style={{ position: \"absolute\", backgroundColor: \"black\", opacity: 0.6, width: 100, margin: \"auto\", top: 12, left: 0, borderRadius: 8, right: 0, padding: 4 }}><Text style={{ width: \"100%\", textAlign: \"center\", color: \"white\" }}>Upvoted!</Text></View>}\r\n                    <Button style={{ marginLeft: \"auto\", paddingHorizontal: 0 }} appearance={'ghost'} accessoryLeft={(props: any) => <CommentIcon height={24} width={24} style={{ height: 24, width: 24, }} />} >-</Button>\r\n                    {<Button\r\n                        style={{ paddingHorizontal: 0 }}\r\n                        onPress={() => {\r\n                            if (!isUpvoted)\r\n                                setShowStatus(true);\r\n                            Api.Post.extensions.setUpvoted({\r\n                                id: post._id,\r\n                                is_upvoted: !isUpvoted\r\n                            }).then((r) => {\r\n                                if (r.is_upvoted)\r\n                                    setTimeout(() => {\r\n                                        setShowStatus(false)\r\n                                    }, 1333);\r\n                                setIsUpvoted(r.is_upvoted);\r\n                            });\r\n                        }}\r\n                        accessoryLeft={(props: any) => <UpvoteIcon height={24} width={24} style={{ height: 24, width: 24, opacity: isUpvoted ? 1 : 0.25 }} />} appearance={\"ghost\"} >{\r\n                            isUpvoted ? \"1\" : \"-\"\r\n                        }</Button>}\r\n                    {/* <Button iconSource={(props: any) => <CommentIcon height={20} width={20} style={{ marginRight: sizes.rem1 / 2 }} />} label=\"Comment\" color=\"black\" backgroundColor={Colors.transparent} /> */}\r\n                    {//postType === \"platform\" && <IconButton iconSource={navIcons.Feed.active} style={{ marginLeft: \"auto\" }} />\r\n                    }\r\n                    {//postType === \"trade_alert\" && <IconButton iconSource={navIcons.Notification.active} style={{ marginLeft: \"auto\", }} />\r\n                    }\r\n                </View>}\r\n        </View>\r\n    </View >\r\n}\r\n\r\n\r\nconst SubstackView = (props: { post: Interface.IPostList }) => {\r\n    const { post } = props;\r\n    return <View style={{ margin: sizes.rem1 }}>\r\n        <View key=\"profile\" style={{ flexDirection: \"row\", marginBottom: sizes.rem1, }}>\r\n            {/* <Image style={{ aspectRatio: 0.9, marginRight: sizes.rem1 / 2 }} source={{ uri: post.platform_profile_url }} /> */}\r\n            <IconifyIcon style={{ width: 40, height: 40, marginTop: 2, marginRight: sizes.rem1 / 1.5 }} svgProps={{ style: { margin: \"auto\" } }} icon={social.SubstackLogo} currentColor={socialStyle.substackColor} />\r\n            <View style={{}}>\r\n                <Text style={{ fontSize: fonts.small, fontWeight: \"bold\", textAlignVertical: \"center\" }}>\r\n                    {/* {post.creator.first_name} {post.creator.last_name} */}\r\n                </Text>\r\n                {/* <Text>{post.platform_display_name}</Text> */}\r\n            </View>\r\n        </View>\r\n        {/* <Subheader text={post.title || \"\"} style={{ color: \"black\" }}></Subheader> */}\r\n        {/* <Text key=\"content\" style={{ fontSize: fonts.small }}>{post.content}</Text> */}\r\n    </View>\r\n}\r\n\r\nconst PostContentView = (props: { post: Interface.IElasticPost }) => {\r\n    const { width: windowWidth, scale } = useWindowDimensions(),\r\n        availWidth = windowWidth - spaceOnSide\r\n\r\n    return <HtmlView style={{ height: postInnerHeight(props.post, availWidth) }}\r\n        isUrl={props.post._source.postType === \"youtube\" || props.post._source.postType === \"spotify\"}\r\n    >{resolvePostContent(props.post, availWidth)}\r\n    </HtmlView>\r\n}","import { Interface } from \"@tradingpost/common/api\";\r\nimport { IElasticPost } from \"@tradingpost/common/api/entities/interfaces\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport { ScrollView, Text } from \"react-native\";\r\n\r\n//import { Bookmark, getPosts } from \"../apis/PostApi\";\r\n//import { FeedType, IPost, IPostWithHtmlAndBk } from \"../interfaces/IPost\";\r\nimport { fonts } from \"../style\";\r\n//import { toAmiraDate, fromAmiraDate } from \"../utils/misc\";\r\nimport { DataOrQuery, List } from \"./List\";\r\nimport { PostView } from \"./PostView\";\r\n\r\n\r\n\r\nexport function PostList(props: { posts?: DataOrQuery<Interface.IElasticPostExt>, datasetKey?: string }) {\r\n\r\n    return <List\r\n\r\n        getItemLayout={(items, index, sizeCache) => {\r\n            const curItem = items?.[index];\r\n            const output = typeof curItem === \"object\" ? sizeCache[index]\r\n                //|| (sizeCache[index] = {\r\n                //     index,\r\n                //     offset: index ? sizeCache[index - 1].offset + sizeCache[index - 1].length : 0,\r\n                //     length: (() => {\r\n                //         const size = (items?.[index] as IElasticPost | undefined)?._source.size\r\n                //         if (size) {\r\n                //             return size.maxWidthPx / size.aspectRatio;\r\n                //             //return size\r\n                //         }\r\n                //         else {\r\n                //             return 20;\r\n                //         }\r\n                //     })()\r\n                //}) \r\n                :\r\n                { index, offset: sizeCache[index - 1].offset + sizeCache[index - 1].length, length: 40 };\r\n\r\n            return output;\r\n\r\n        }}\r\n        data={props.posts}\r\n        keyExtractor={(item, index) => typeof item === \"string\" ? \"loadingtext\" : (index + \"_\" + item._id)}\r\n        preloadOffset={2}\r\n        datasetKey={props.datasetKey}\r\n        renderItem={(item) => {\r\n            if (typeof item.item === \"string\") {\r\n                return <Text style={{ textAlign: \"center\", fontSize: fonts.large }}>Loading More...</Text>\r\n            }\r\n            else {\r\n                return <PostView key={item.index + \"_\" + item.item._id} post={item.item} />\r\n            }\r\n        }}\r\n        noDataMessage={\"No Posts Available\"}\r\n        loadingItem={\"COOL\"}\r\n    />\r\n}\r\n\r\n\r\n//Keeping this commented to emphasise how ridiculous it was lol!!!!!!!!!!!\r\n// export function usePostLoader(pageSize: number, bookmarks: Bookmark[] | undefined, isBookMarked?: boolean, creatorId?: string, errorHandler?: (message: string) => void) {\r\n//     const feedTypeRef = useRef<{\r\n//         response: FeedType,\r\n//         subscriber_min_time?: number\r\n//         disco_min_time?: number,\r\n//         creator_min_time?: number\r\n//     }>({\r\n//         response: creatorId ? \"creator\" : \"subscriber\"\r\n//     })\r\n//     console.log(\"FEED TYPE BASE:\" + feedTypeRef.current.response);\r\n\r\n//     return bookmarks ? async (existingData: IPostWithHtmlAndBk[] | undefined, currentPage: number) => {\r\n//         const output: IPostWithHtmlAndBk[] = [];\r\n\r\n//         try {\r\n//             if (existingData)\r\n//                 output.push(...existingData);\r\n//             let newPosts: IPostWithHtmlAndBk[] = [];\r\n\r\n//             const bod: FeedRequestBody = {\r\n//                 feed_type: feedTypeRef.current.response,\r\n//                 //discovery_feed_last_loaded_post_id: existingData?.length ? existingData[existingData.length - 1]?.id : undefined\r\n//                 creator_id: creatorId,\r\n//                 subscriber_feed_last_loaded_date: feedTypeRef.current.subscriber_min_time ? toAmiraDate(new Date(feedTypeRef.current.subscriber_min_time)) : undefined,\r\n//                 discovery_feed_last_loaded_date: feedTypeRef.current.disco_min_time ? toAmiraDate(new Date(feedTypeRef.current.disco_min_time)) : undefined,\r\n//                 creator_feed_last_loaded_date: feedTypeRef.current.creator_min_time ? toAmiraDate(new Date(feedTypeRef.current.creator_min_time)) : undefined\r\n//             };\r\n\r\n//             if (!isBookMarked) {\r\n//                 const resp = (await getFeed(String(pageSize), bod));\r\n\r\n//                 let curLastMin: number | undefined;\r\n//                 let output: number[] = [];\r\n\r\n//                 resp.posts.forEach((p) => {\r\n//                     const val = fromAmiraDate(p.created_at as string).valueOf();\r\n//                     output.push(val)\r\n//                     if (!curLastMin) {\r\n//                         curLastMin = val;\r\n//                     }\r\n//                     else {\r\n//                         curLastMin = Math.min(val, curLastMin);\r\n//                     }\r\n//                 });\r\n\r\n//                 feedTypeRef.current.response = resp.feed_type;\r\n\r\n//                 if (feedTypeRef.current.response === \"subscriber\")\r\n//                     feedTypeRef.current.subscriber_min_time = curLastMin;\r\n//                 else if (feedTypeRef.current.response === \"discovery\")\r\n//                     feedTypeRef.current.disco_min_time = curLastMin;\r\n//                 else if (feedTypeRef.current.response === \"creator\") {\r\n//                     feedTypeRef.current.creator_min_time = curLastMin;\r\n//                 }\r\n//                 console.log(\"FEED TYPE:\" + JSON.stringify(feedTypeRef.current));\r\n//                 newPosts = resp.posts;\r\n//             }\r\n//             else if (currentPage === 0)\r\n//                 newPosts = await getPosts(bookmarks.map((b) => b.post_id) || []);\r\n\r\n//             // newPosts.forEach((p) => {\r\n//             //     p.bookmarkId = bookmarks.find(b => b.post_id === p.id)?.id;\r\n//             // });\r\n\r\n//             if (newPosts.length)\r\n//                 console.log(`${newPosts[0].id}->${newPosts[newPosts.length - 1].id}`);\r\n\r\n//             output.push(...newPosts);\r\n//         } catch (ex) {\r\n//             if (errorHandler) {\r\n//                 errorHandler(\"Something went wrong.\")\r\n//             }\r\n//         }\r\n//         return output;\r\n\r\n\r\n//     } : undefined\r\n// }","import { NavigationProp } from \"@react-navigation/native\";\r\nimport { Api, Interface } from \"@tradingpost/common/api\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useWindowDimensions } from \"react-native\";\r\nimport { View, Text } from \"react-native\";\r\nimport { PostList } from \"../components/PostList\";\r\nimport { spaceOnSide, postInnerHeight, PostView } from \"../components/PostView\";\r\nimport { SearchBar } from \"../components/SearchBar\";\r\n\r\nexport const FeedScreen = (props: { navigation: NavigationProp<any> } & { route: { params: { bookmarkedOnly?: \"true\" | \"false\" } } }) => {\r\n    const [searchText, setSearchText] = useState(\"\");\r\n\r\n    //useEffect(()=>{\r\n    //props.navigation.setOptions({\r\n    //headerRight:\r\n    //  })\r\n    // return <Pressable onPress={() => {\r\n    //     navigation.setParams({\r\n    //       bookmarkedOnly: true\r\n    //     })\r\n    //   }}>\r\n    //     <IconButton iconSource={BookmarkIcons.inactive} style={{ height: 24, width: 24 }} />\r\n    //   </Pressable>\r\n    //},[])\r\n\r\n    return (\r\n        <View style={{ flex: 1, backgroundColor: \"#F7f8f8\" }}>\r\n            <FeedPart bookmarkedOnly={props.route.params.bookmarkedOnly === \"true\"} searchText={searchText} />\r\n            {/* <View style={styles.separator} lightColor=\"#eee\" darkColor=\"rgba(255,255,255,0.1)\" />\r\n        <EditScreenInfo path=\"/screens/TabOneScreen.tsx\" /> */}\r\n        </View>\r\n    );\r\n}\r\n\r\n\r\nexport const FeedPart = (props: {\r\n    bookmarkedOnly?: boolean,\r\n    searchText?: string,\r\n    userId?: string\r\n\r\n}) => {\r\n    const { width: windowWidth } = useWindowDimensions();\r\n    const { searchText, bookmarkedOnly, userId } = props\r\n    return <PostList\r\n        key={bookmarkedOnly ? String(Date.now()) : \"STATIC\"}\r\n        datasetKey={searchText ? searchText : \"____________\"}\r\n        posts={async (allItems, page, sizeCache) => {\r\n            const posts = (await Api.Post.extensions.feed({\r\n                page,\r\n                bookmarkedOnly: bookmarkedOnly,\r\n                userId,\r\n                data: searchText ? {\r\n                    terms: searchText.split(\" \")\r\n                } : undefined\r\n            }));\r\n            const newItems = [...(allItems || []), ...posts]\r\n            newItems.forEach((itm, index) => {\r\n                if (!sizeCache[index]) {\r\n                    sizeCache[index] = {\r\n                        index,\r\n                        offset: index ? sizeCache[index - 1].offset + sizeCache[index - 1].length : 0,\r\n                        length: postInnerHeight(itm, windowWidth - spaceOnSide)\r\n                    }\r\n                }\r\n            })\r\n            return newItems;\r\n        }}\r\n    />\r\n}","import { NavigationProp, useNavigation } from \"@react-navigation/native\"\r\nimport { Interface } from \"@tradingpost/common/api\"\r\nimport { Avatar, Text } from \"@ui-kitten/components\"\r\nimport React from \"react\"\r\nimport { Pressable, View, ViewStyle } from \"react-native\"\r\nimport { flex, sizes } from \"../style\"\r\nimport { ProfileButton } from \"./ProfileButton\"\r\n\r\nexport const ProfileBar = (props: {\r\n    user?: Interface.IUserList,\r\n    style?: ViewStyle\r\n}) => {\r\n    const nav = useNavigation<NavigationProp<any>>();\r\n    const openProfile = () => {\r\n        if (props.user?.id) {\r\n            nav.navigate(\"Profile\", {\r\n                userId: props.user.id\r\n            });\r\n        }\r\n    }\r\n\r\n    return <View style={props.style}><View style={{ flexDirection: \"row\", width: \"100%\", marginBottom: sizes.rem0_5 }}>\r\n        <ProfileButton userId={props.user?.id || \"\"} profileUrl={props.user?.profile_url || \"\"} size={sizes.rem2} />\r\n        <View style={[flex, { marginLeft: sizes.rem0_5 }]}>\r\n            <Pressable onPress={openProfile}><Text category={\"s1\"}>{props.user?.display_name}</Text></Pressable>\r\n            <Pressable onPress={openProfile}><Text category={\"s2\"}>{\"@\" + props.user?.handle}</Text></Pressable>\r\n        </View>\r\n    </View>\r\n    </View>\r\n}","import { NavigationProp, useNavigation } from \"@react-navigation/native\"\r\nimport { Api, Interface } from \"@tradingpost/common/api\"\r\nimport WatchlistApi from \"@tradingpost/common/api/entities/apis/WatchlistApi\"\r\nimport { IWatchlistGetExt } from \"@tradingpost/common/api/entities/extensions/Watchlist\"\r\nimport { ISecurityList } from \"@tradingpost/common/api/entities/interfaces\"\r\nimport { Avatar, Icon } from \"@ui-kitten/components\"\r\nimport React, { PropsWithChildren, useEffect, useState } from \"react\"\r\nimport { View, Text, Pressable } from \"react-native\"\r\nimport { useToast } from \"react-native-toast-notifications\"\r\nimport { useAppUser } from \"../App\"\r\nimport { EditButton, FavButton } from \"../components/AddButton\"\r\nimport { ProfileBar } from \"../components/ProfileBar\"\r\nimport { ElevatedSection, Section, Subsection } from \"../components/Section\"\r\nimport { ITableColumn, Table } from \"../components/Table\"\r\nimport { TextField } from \"../components/TextField\"\r\nimport { AppColors } from \"../constants/Colors\"\r\nimport { AllPages, TabScreenProps } from \"../navigation\"\r\nimport { elevated, flex, paddView, paddViewWhite, row, sizes } from \"../style\"\r\nimport { useSecuritiesList } from \"../utils/hooks\"\r\nimport { toDollarsAndCents } from \"../utils/misc\"\r\n\r\n\r\nexport const useNoteField = (hideEmptyNote?: boolean) => {\r\n    const [shownMap, setShownMap] = useState<Record<string, boolean>>({})\r\n    return {\r\n        shownMap,\r\n        column: {\r\n            field: (info: { index: number, item: { note?: string } }) => {\r\n                return <Pressable onPress={() => {\r\n                    if (info.item.note || !hideEmptyNote) {\r\n                        setShownMap({\r\n                            ...shownMap,\r\n                            [info.index]: !shownMap[info.index]\r\n                        })\r\n                    }\r\n                }}>\r\n                    <Icon style={{ opacity: (info.item.note || !hideEmptyNote) ? (info.item.note ? 1 : 0.25) : 0, height: 16, width: 32 }} name={!shownMap[info.index] ? \"file-text-outline\" : \"close-outline\"}\r\n                        fill={AppColors.primary}\r\n                    /></Pressable>\r\n            }, alias: \" \", width: 32\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst SecPressable = (props: PropsWithChildren<{ securityId: number }>) => {\r\n    const nav = useNavigation<NavigationProp<AllPages>>();\r\n    return <Pressable onPress={() => {\r\n        nav.navigate(\"Company\", {\r\n            securityId: props.securityId\r\n        })\r\n    }}>{props.children}</Pressable>\r\n}\r\n\r\nexport const useMakeSecurityFields = (getIdValue: (itm: any) => string | number) => {\r\n    const { securities: { bySymbol, byId } } = useSecuritiesList();\r\n    return [{\r\n        field: (a: any) => <SecPressable securityId={\r\n            (() => {\r\n                const value = getIdValue(a.item);\r\n                if (typeof value === \"string\")\r\n                    return bySymbol[value]?.id || -1\r\n                else\r\n                    return byId[value]?.id || -1\r\n            })()\r\n        } ><Avatar style={{ marginRight: sizes.rem0_5 }}\r\n            source={\r\n                (() => {\r\n                    const value = getIdValue(a.item);\r\n                    if (typeof value === \"string\")\r\n                        return bySymbol[value] ? { uri: bySymbol[value].logo_url } : undefined\r\n                    else\r\n                        return byId[value] ? { uri: byId[value].logo_url } : undefined\r\n                })()}\r\n            size=\"tiny\" /></SecPressable>,\r\n        headerStyle: {\r\n            width: sizes.rem1_5,\r\n            marginRight: sizes.rem0_5\r\n        },\r\n        alias: \" \",\r\n        width: sizes.rem1_5\r\n    },\r\n    {\r\n        alias: \"Security\",\r\n        align: \"left\" as \"left\",\r\n        style: { lineHeight: sizes.rem1_5 },\r\n        stringify: (value: any, key: any, item: any) => {\r\n            const v = getIdValue(item);\r\n            if (typeof v === \"string\")\r\n                return bySymbol[v]?.symbol || \"\"\r\n            else\r\n                return byId[v]?.symbol || \"\"\r\n        }\r\n    }\r\n    ]\r\n}\r\n\r\nexport const useWatchlistItemColumns = (hideEmptyNote?: boolean) => {\r\n\r\n    const [iconField, secField] = useMakeSecurityFields((item) => item.symbol);\r\n    const { column, shownMap } = useNoteField(hideEmptyNote);\r\n    return {\r\n        shownMap,\r\n        columns: [\r\n            iconField,\r\n            secField,\r\n            {\r\n                alias: \"Price\",\r\n                stringify: (a, b, c) => {\r\n                    if (c.price?.price) {\r\n                        return toDollarsAndCents(c.price.price);\r\n                    }\r\n                    else\r\n                        return \"-\"\r\n                }\r\n            },\r\n            {\r\n                alias: \"Date\",\r\n                stringify: (a, b, c) => {\r\n                    return c.price?.time || \"-\"\r\n                }\r\n            },\r\n            column\r\n            //        { field: \"symbol\", align: \"left\", style: { lineHeight: sizes.rem1_5 } },\r\n\r\n        ] as ITableColumn<IWatchlistGetExt[\"items\"][0]>[]\r\n    }\r\n}\r\n\r\n\r\nexport const WatchlistScreen = (props: TabScreenProps<{ watchlistId: number }>) => {\r\n    const [watchlist, setWatchlist] = useState<IWatchlistGetExt>()\r\n    const watchlistId = props.route?.params?.watchlistId;\r\n    const [isSaved, setIsFav] = useState(false)\r\n    const { appUser } = useAppUser();\r\n    const { shownMap, columns } = useWatchlistItemColumns(watchlist?.user[0].id !== appUser?.id);\r\n\r\n    const toast = useToast();\r\n    useEffect(() => {\r\n        if (watchlistId)\r\n            WatchlistApi.get(watchlistId).then((w) => {\r\n                setIsFav(w.is_saved)\r\n                setWatchlist(w as IWatchlistGetExt);\r\n            })\r\n    }, [watchlistId])\r\n    return <View style={paddView}>\r\n        <ElevatedSection title={watchlist?.name || \"\"} button={(_p) => {\r\n            return watchlist?.user[0].id === appUser?.id ? <EditButton {..._p} onPress={() => {\r\n                props.navigation.navigate(\"WatchlistEditor\", {\r\n                    watchlistId: watchlistId\r\n                })\r\n            }} /> : <FavButton\r\n                isSelected={isSaved}\r\n                {..._p}\r\n                onPress={() => {\r\n                    if (watchlistId) {\r\n                        Api.Watchlist.extensions.saveWatchlist({\r\n                            id: watchlistId,\r\n                            is_saved: !isSaved\r\n                        })\r\n                        setIsFav(f => !f);\r\n                        toast.show(\"Watchlist Added\")\r\n                    }\r\n                }}\r\n            />\r\n        }}>\r\n\r\n            <ProfileBar user={watchlist?.user[0]} />\r\n            <Text style={[{ marginVertical: sizes.rem0_5 }, !watchlist?.note ? { color: \"#ccc\", fontStyle: \"italic\" } : undefined]}>{watchlist?.note || \"No Notes\"}</Text>\r\n        </ElevatedSection>\r\n        <ElevatedSection title=\"Items\" >\r\n            <Table\r\n                data={watchlist?.items}\r\n                columns={columns}\r\n                renderAuxItem={(info) => {\r\n                    return shownMap[info.index] && watchlist ?\r\n                        <NoteEditor note={info.item.note} onChangeNote={(note) => {\r\n                            info.item.note = note;\r\n                        }} canEdit={watchlist?.user[0].id === appUser?.id} ticker={info.item.symbol} watchlistId={watchlist.id} />\r\n                        : null\r\n                }}\r\n\r\n\r\n            />\r\n        </ElevatedSection>\r\n        <ElevatedSection title=\"Comments\"></ElevatedSection>\r\n    </View >\r\n}\r\n\r\nconst NoteEditor = (props: { canEdit: boolean, note: string | undefined, ticker: string, watchlistId: number, onChangeNote: (note: string) => void }) => {\r\n    const [isEdit, setIsEdit] = useState(!props.note && props.canEdit);\r\n    const [note, setNote] = useState(props.note)\r\n\r\n    return (!props.canEdit || (!isEdit && note)) ?\r\n        <View style={{ flexDirection: \"row\", alignItems: \"center\" }}><Text><Text style={{ fontWeight: \"bold\" }}>Note:</Text>{note}</Text>\r\n            {props.canEdit && <EditButton\r\n                style={{ marginLeft: \"auto\" }}\r\n                height={24} width={24} onPress={() => {\r\n                    setIsEdit(true);\r\n                }}\r\n            />}\r\n\r\n        </View> :\r\n        <View style={[row, { alignItems: \"center\" }]}><TextField placeholder=\"Add a note\" style={flex} value={note} onChangeText={(t) => {\r\n            setNote(t);\r\n        }} /><Pressable onPress={() => {\r\n            props.onChangeNote(note || \"\");\r\n            setIsEdit(false)\r\n        }\r\n        }><Icon name=\"checkmark-outline\" fill={AppColors.primary} style={{\r\n            height: 24,\r\n            width: 24\r\n        }} />\r\n            </Pressable>\r\n        </View>\r\n\r\n}","import { useNavigation } from \"@react-navigation/native\"\r\nimport { Interface } from \"@tradingpost/common/api\"\r\nimport { IWatchlistList } from \"@tradingpost/common/api/entities/interfaces\"\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { Pressable, Text } from \"react-native\"\r\nimport { PlusIcon } from \"../images\"\r\nimport { useNoteField } from \"../screens/WatchlistScreen\"\r\nimport { sizes } from \"../style\"\r\nimport { AddButton } from \"./AddButton\"\r\nimport { ElevatedSection, Section } from \"./Section\"\r\nimport { ITableColumn, Table } from \"./Table\"\r\n\r\n\r\nexport function WatchlistSection(props: { title: string, watchlists: Interface.IWatchlistList[] | undefined, showAddButton?: boolean, shared?: boolean, hideNoteOnEmpty?: boolean }) {\r\n    const nav = useNavigation<any>();\r\n\r\n\r\n    const fields: ITableColumn<IWatchlistList>[] = !props.shared ? [{ field: \"name\", alias: \"Name\", align: \"left\" },\r\n    { field: \"item_count\", alias: \"Items\" },\r\n    { field: \"saved_by_count\", alias: \"Saves\" },\r\n    { field: \"type\" }] : [{ field: \"name\", alias: \"Name\", align: \"left\" },\r\n    {\r\n        field: \"user\",\r\n        align: \"left\",\r\n        alias: \"Analyst\",\r\n        stringify: (user: IWatchlistList[\"user\"], key, item) => {\r\n            return user[0].handle\r\n        },\r\n    }]\r\n    const { column, shownMap } = useNoteField(props.hideNoteOnEmpty);\r\n    return <ElevatedSection title={props.title} button={props.showAddButton ? (p) => <AddButton height={p.height} width={p.width} onPress={() => {\r\n        nav.navigate(\"WatchlistEditor\")\r\n    }} /> : undefined}>\r\n        <Table\r\n            noDataMessage={props.shared ? \"No Shared Watchlists\" : \"No Watchlists\"}\r\n            columns={[\r\n                ...fields,\r\n                column\r\n            ]}\r\n            rowPressed={(item, idx) => {\r\n                nav.navigate(\"Watchlist\", {\r\n                    watchlistId: item.id\r\n                })\r\n            }}\r\n            renderAuxItem={(info) => shownMap[info.index] ? <Text><Text style={{ fontWeight: \"bold\" }}>Details: </Text>{info.item.note}</Text> : null}\r\n            data={props.watchlists}\r\n        />\r\n    </ElevatedSection>\r\n}\r\n","import React from \"react\"\r\nimport { Table } from \"../components/Table\"\r\nimport { View } from 'react-native'\r\nimport { Text } from '@ui-kitten/components'\r\nimport { AllPages, TabScreenProps } from \"../navigation\"\r\nimport { NavigationProp, useNavigation } from \"@react-navigation/native\"\r\nimport { Link } from \"../components/Link\"\r\nimport { flex, paddView, paddViewWhite } from \"../style\"\r\nimport { ElevatedSection } from \"../components/Section\"\r\n\r\n\r\nexport function LimitedTable<T>(props: {\r\n    maxPage: number,\r\n    title: string,\r\n    tableProps: Omit<Parameters<typeof Table<T>>[0], \"maxPage\">\r\n}) {\r\n    const nav = useNavigation<NavigationProp<AllPages>>();\r\n    return <View style={[{ height: \"100%\" }]}>\r\n        <View>\r\n            <Table {...props.tableProps} maxPage={props.maxPage} />\r\n        </View>\r\n        <Link\r\n            style={{\r\n                marginLeft: \"auto\"\r\n            }}\r\n            onPress={() => {\r\n                nav.navigate(\"TableModal\", {\r\n                    tableProps: props.tableProps as any,\r\n                    title: props.title\r\n                })\r\n            }}>View All</Link>\r\n    </View>\r\n}\r\n\r\nexport function TableModalScreen<T>(props: TabScreenProps<{ title: string, tableProps: Parameters<typeof Table<T>>[0] }>) {\r\n    return props.route?.params?.tableProps ? <View style={paddView}><ElevatedSection title={props.route.params.title} ><Table {...props.route?.params?.tableProps} /></ElevatedSection></View> : <Text>Error</Text>\r\n}","import { Button, ButtonGroup as UI_ButtonGroup, ButtonGroupProps, ButtonProps } from \"@ui-kitten/components\"\r\nimport React, { useState } from \"react\"\r\nimport { sizes } from \"../style\"\r\n\r\nexport const ButtonGroup = <T extends string>(props: {\r\n    value: T | undefined,\r\n    onValueChange: (value: T) => void\r\n    items: { label: string, value: T }[],\r\n    unselectedStyle?: ButtonProps[\"style\"],\r\n    style?: ButtonGroupProps[\"style\"]\r\n}) => {\r\n    return <UI_ButtonGroup style={[{ width: \"100%\", marginBottom: sizes.rem1 }, props.style]}>\r\n        {\r\n            props.items.map((v, idx, arr) => {\r\n                return <Button key={'button_' + idx} style={props.value === v.value ? { backgroundColor: \"green\", width: 100 / arr.length + \"%\" } : [{\r\n                    backgroundColor: '#777'// \"lightgray\"\r\n                    , opacity: 0.25, width: 100 / arr.length + \"%\"\r\n                }, props.unselectedStyle]} onPress={() => props.onValueChange(v.value)}>{v.label}</Button>\r\n            })\r\n        }\r\n        {/* <Button style={type === \"public\" ? { backgroundColor: \"green\", width: \"50%\" } : { backgroundColor: \"lightgray\", opacity: 0.25, width: \"50%\" }} onPress={() => setWatchlistType(\"public\")}>Public</Button>\r\n        <Button style={type === \"private\" ? { backgroundColor: \"green\", width: \"50%\" } : { backgroundColor: \"lightgray\", opacity: 0.25, width: \"50%\" }} onPress={() => setWatchlistType(\"private\")}>Private</Button> */}\r\n    </UI_ButtonGroup>\r\n\r\n}\r\n\r\n\r\n","import React, { Component, FC, PureComponent, ReactChild, ReactChildren, ReactElement, ReactNode, useState } from 'react'\r\nimport { View, Platform, ViewStyle, GestureResponderEvent, LayoutChangeEvent } from 'react-native'\r\nimport PropTypes from 'prop-types'\r\nimport * as shape from 'd3-shape'\r\nimport Svg, { G, Path, PathProps } from 'react-native-svg'\r\n\r\n// class PieChart_OLD extends PureComponent {\r\n//     state = {\r\n//         height: 0,\r\n//         width: 0,\r\n//     }\r\n\r\n//     _onLayout(event) {\r\n//         const {\r\n//             nativeEvent: {\r\n//                 layout: { height, width },\r\n//             },\r\n//         } = event\r\n\r\n//         this.setState({ height, width })\r\n//     }\r\n\r\n//     _calculateRadius(arg, max, defaultVal) {\r\n//         if (typeof arg === 'string') {\r\n//             return (arg.split('%')[0] / 100) * max\r\n//         } else if (arg) {\r\n//             return arg\r\n//         } else {\r\n//             return defaultVal\r\n//         }\r\n//     }\r\n\r\n//     render() {\r\n//         const {\r\n//             data,\r\n//             dataPoints,\r\n//             innerRadius,\r\n//             outerRadius,\r\n//             labelRadius,\r\n//             padAngle,\r\n//             animate,\r\n//             animationDuration,\r\n//             style,\r\n//             sort,\r\n//             valueAccessor,\r\n//             children,\r\n//             startAngle,\r\n//             endAngle,\r\n//         } = this.props\r\n\r\n//         const { height, width } = this.state\r\n\r\n//         if (!data && dataPoints) {\r\n//             throw `\"dataPoints\" have been renamed to \"data\" to better reflect the fact that it's an array of objects`\r\n//         }\r\n\r\n//         if (data.length === 0) {\r\n//             return <View style={ style } />\r\n//         }\r\n\r\n//         const maxRadius = Math.min(width, height) / 2\r\n\r\n//         if (Math.min(...data.map((obj) => valueAccessor({ item: obj }))) < 0) {\r\n//             console.error(\"don't pass negative numbers to pie-chart, it makes no sense!\")\r\n//         }\r\n\r\n//         const _outerRadius = this._calculateRadius(outerRadius, maxRadius, maxRadius)\r\n//         const _innerRadius = this._calculateRadius(innerRadius, maxRadius, 0)\r\n//         const _labelRadius = this._calculateRadius(labelRadius, maxRadius, _outerRadius)\r\n\r\n//         if (outerRadius > 0 && _innerRadius >= outerRadius) {\r\n//             console.warn('innerRadius is equal to or greater than outerRadius')\r\n//         }\r\n\r\n//         const arcs = data.map((item) => {\r\n//             const arc = shape\r\n//                 .arc()\r\n//                 .outerRadius(_outerRadius)\r\n//                 .innerRadius(_innerRadius)\r\n//                 .padAngle(padAngle) // Angle between sections\r\n\r\n//             item.arc &&\r\n//                 Object.entries(item.arc).forEach(([key, value]) => {\r\n//                     if (typeof arc[key] === 'function') {\r\n//                         if (typeof value === 'string') {\r\n//                             arc[key]((value.split('%')[0] / 100) * _outerRadius)\r\n//                         } else {\r\n//                             arc[key](value)\r\n//                         }\r\n//                     }\r\n//                 })\r\n\r\n//             return arc\r\n//         })\r\n\r\n//         const labelArcs = data.map((item, index) => {\r\n//             if (labelRadius) {\r\n//                 return shape\r\n//                     .arc()\r\n//                     .outerRadius(_labelRadius)\r\n//                     .innerRadius(_labelRadius)\r\n//                     .padAngle(padAngle)\r\n//             }\r\n//             return arcs[index]\r\n//         })\r\n\r\n//         const pieSlices = shape\r\n//             .pie()\r\n//             .value((d) => valueAccessor({ item: d }))\r\n//             .sort(sort)\r\n//             .startAngle(startAngle)\r\n//             .endAngle(endAngle)(data)\r\n\r\n//         const slices = pieSlices.map((slice, index) => ({\r\n//             ...slice,\r\n//             pieCentroid: arcs[index].centroid(slice),\r\n//             labelCentroid: labelArcs[index].centroid(slice),\r\n//         }))\r\n\r\n//         const extraProps = {\r\n//             width,\r\n//             height,\r\n//             data,\r\n//             slices,\r\n//         }\r\n\r\n//         return (\r\n//             <View pointerEvents= { 'box-none'} style = { style } >\r\n//                 <View pointerEvents={ 'box-none' } style = {{ flex: 1 }\r\n//     } onLayout = {(event) => this._onLayout(event)}>\r\n//         { height > 0 && width > 0 && (\r\n//             <Svg pointerEvents={ Platform.OS === 'android' && 'box-none' } style = {{ height, width }}>\r\n//                 {/* center the progress circle*/ }\r\n//                 < G x = { width / 2} y = { height / 2}>\r\n//                 {\r\n//                     React.Children.map(children, (child) => {\r\n//                         if (child && child.props.belowChart) {\r\n//                             return React.cloneElement(child, extraProps)\r\n//                         }\r\n//                         return null\r\n//                     })\r\n//                 }\r\n// {\r\n//     pieSlices.map((slice, index) => {\r\n//         const { key, onPress, svg } = data[index]\r\n//         return (\r\n//             <Path\r\n//                                             key= { key }\r\n//         onPress = { onPress }\r\n//         {...svg}\r\n// d = { arcs[index](slice) }\r\n// animate = { animate }\r\n// animationDuration = { animationDuration }\r\n//     />\r\n//                                     )\r\n//                                 })}\r\n// {\r\n//     React.Children.map(children, (child) => {\r\n//         if (child && !child.props.belowChart) {\r\n//             return React.cloneElement(child, extraProps)\r\n//         }\r\n//         return null\r\n//     })\r\n// }\r\n// </G>\r\n//     < /Svg>\r\n//                     )}\r\n// </View>\r\n//     < /View>\r\n//         )\r\n//     }\r\n// }\r\n\r\n\r\n// PieChart.propTypes = {\r\n//     data: PropTypes.arrayOf(\r\n//         PropTypes.shape({\r\n//             svg: PropTypes.object,\r\n//             key: PropTypes.any.isRequired,\r\n//             value: PropTypes.number,\r\n//             arc: PropTypes.object,\r\n//         })\r\n//     ).isRequired,\r\n//     innerRadius: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n//     outerRadius: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n//     labelRadius: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n//     padAngle: PropTypes.number,\r\n//     animate: PropTypes.bool,\r\n//     animationDuration: PropTypes.number,\r\n//     style: PropTypes.any,\r\n//     sort: PropTypes.func,\r\n//     valueAccessor: PropTypes.func,\r\n// }\r\n\r\n// PieChart.defaultProps = {\r\n//     width: 100,\r\n//     height: 100,\r\n//     padAngle: 0.05,\r\n//     startAngle: 0,\r\n//     endAngle: Math.PI * 2,\r\n//     valueAccessor: ({ item }) => item.value,\r\n//     innerRadius: '50%',\r\n//     sort: (a, b) => b.value - a.value,\r\n// }\r\n\r\n//export default PieChart\r\n\r\nfunction _calculateRadius(arg: Length | undefined, max: number, defaultVal: number) {\r\n    if (typeof arg === 'string') {\r\n        return (Number(arg.split('%')[0]) / 100) * max\r\n    } else if (arg) {\r\n        return arg\r\n    } else {\r\n        return defaultVal\r\n    }\r\n}\r\n\r\n\r\n//Can be used as a default type if that needs to be setup ...\r\nexport type Datum = {\r\n    props?: PathProps,\r\n    key?: string,\r\n    onPress?: (event: GestureResponderEvent) => void,\r\n    value: number,\r\n    arc?: Record<string, Length>\r\n}\r\n\r\ntype Length = number | string;\r\ntype ItemType = { value: number }\r\n\r\n//width,\r\n//height,\r\n//data,\r\n//slices,\r\n\r\nexport interface PieChartChild<D> {\r\n    width?: number,\r\n    height?: number,\r\n    data?: D[],\r\n    slices?: {\r\n        pieCentroid: [number, number];\r\n        labelCentroid: [number, number];\r\n        data: Datum;\r\n        value: number;\r\n        index: number;\r\n        startAngle: number;\r\n        endAngle: number;\r\n        padAngle: number;\r\n    }[],\r\n    belowChart?: boolean\r\n}\r\n\r\nexport default function PieChart(props: {\r\n    data: Datum[],\r\n    //dataPoints,\r\n    innerRadius?: Length,\r\n    outerRadius?: Length,\r\n    labelRadius?: Length,\r\n    padAngle?: number,\r\n    //animate?: boolean,\r\n    //animationDuration?: number,\r\n    style?: ViewStyle,\r\n    sort?: (a: Datum, b: Datum) => number,\r\n    valueAccessor?: (d: Datum, i: number, data: Datum[]) => number,\r\n    children?: ReactElement<PieChartChild<Datum>>,\r\n    startAngle?: number,\r\n    endAngle?: number,\r\n}) {\r\n\r\n    const padAngle = props.padAngle || 0.05;\r\n    const startAngle = props.startAngle || 0;\r\n    const endAngle = props.endAngle || Math.PI * 2;\r\n    const valueAccessor = props.valueAccessor || ((item) => item.value)\r\n    const innerRadius = props.innerRadius || '50%';\r\n    const sort = props.sort || ((a: Datum, b: Datum) => b.value - a.value)\r\n    const { data, style, outerRadius, labelRadius, children /*animate, animationDuration*/ } = props;\r\n\r\n    const [height, setHeight] = useState(100);\r\n    const [width, setWidth] = useState(100);\r\n\r\n    function _onLayout(event: LayoutChangeEvent) {\r\n        const {\r\n            nativeEvent: {\r\n                layout: { height, width },\r\n            },\r\n        } = event\r\n\r\n        setHeight(height);\r\n        setWidth(width);\r\n    }\r\n    //   const { height, width } = this.state;\r\n    // if (!data && dataPoints) {\r\n    //     throw `\"dataPoints\" have been renamed to \"data\" to better reflect the fact that it's an array of objects`\r\n    // }\r\n\r\n    if (data.length === 0) {\r\n        return <View style={style} />\r\n    }\r\n\r\n    const maxRadius = Math.min(width, height) / 2\r\n\r\n    if (Math.min(...data.map((obj, i, d) => valueAccessor(obj, i, d))) < 0) {\r\n        console.error(\"don't pass negative numbers to pie-chart, it makes no sense!\")\r\n    }\r\n\r\n    const _outerRadius = _calculateRadius(outerRadius, maxRadius, maxRadius)\r\n    const _innerRadius = _calculateRadius(innerRadius, maxRadius, 0)\r\n    const _labelRadius = _calculateRadius(labelRadius, maxRadius, _outerRadius)\r\n\r\n    if ((outerRadius || 0) > 0 && _innerRadius >= (outerRadius || 0)) {\r\n        console.warn('innerRadius is equal to or greater than outerRadius')\r\n    }\r\n\r\n    const arcs = data.map((item) => {\r\n        const arc = shape\r\n            .arc<Datum>()\r\n            .outerRadius(_outerRadius)\r\n            .innerRadius(_innerRadius)\r\n            .padAngle(padAngle) // Angle between sections\r\n\r\n        //console.log(`O:${_outerRadius}I:${_innerRadius}P:${padAngle}`)\r\n        /**** Not reallt sure what this will do  I think it ws supposed to be a manual arc.. but I done this it works.****/\r\n        item.arc &&\r\n            Object.entries(item.arc).forEach(([key, value]) => {\r\n                if (typeof arc[key as keyof typeof arc] === 'function') {\r\n                    if (typeof value === 'string') {\r\n                        (arc[key as keyof typeof arc] as any)((Number(value.split('%')[0]) / 100) * _outerRadius)\r\n                    } else {\r\n                        (arc[key as keyof typeof arc] as any)(value)\r\n                    }\r\n                }\r\n\r\n            })\r\n\r\n        return arc;\r\n    })\r\n\r\n    const labelArcs = data.map((item, index) => {\r\n        if (labelRadius) {\r\n            return shape\r\n                .arc<Datum>()\r\n                .outerRadius(_labelRadius)\r\n                .innerRadius(_labelRadius)\r\n                .padAngle(padAngle)\r\n        }\r\n        return arcs[index]\r\n    })\r\n\r\n    const pieSlices = shape\r\n        .pie<Datum>()\r\n        .value((d, i, dd) => valueAccessor(d, i, dd))\r\n        .sort(sort)\r\n        .startAngle(startAngle)\r\n        .endAngle(endAngle)(data)\r\n\r\n    const slices = pieSlices.map((slice, index) => ({\r\n        ...slice,\r\n        pieCentroid: arcs[index].centroid(slice),\r\n        labelCentroid: labelArcs[index].centroid(slice),\r\n    }))\r\n\r\n    const extraProps = {\r\n        width,\r\n        height,\r\n        data,\r\n        slices,\r\n    }\r\n\r\n    return (\r\n        <View pointerEvents={'box-none'} style={style} >\r\n            <View pointerEvents={'box-none'} style={{ flex: 1 }} onLayout={_onLayout}>\r\n                {height > 0 && width > 0 && (\r\n                    <Svg pointerEvents={Platform.OS === 'android' ? 'box-none' : undefined} style={{ height, width }}>\r\n                        {/* center the progress circle*/}\r\n                        < G x={width / 2} y={height / 2}>\r\n                            {\r\n                                React.Children.map(children, (child) => {\r\n                                    if (child && child.props.belowChart) {\r\n                                        return React.cloneElement(child, extraProps)\r\n                                    }\r\n                                    return null\r\n                                })\r\n                            }\r\n                            {\r\n                                pieSlices.map((slice, index) => {\r\n                                    const { key, onPress, props } = data[index]\r\n                                    return (\r\n                                        <Path\r\n                                            key={key}\r\n                                            onPress={onPress}\r\n                                            {...props}\r\n                                            d={arcs[index](slice) || undefined}\r\n                                        //animate={animate}\r\n                                        //animationDuration={animationDuration}\r\n                                        />\r\n                                    )\r\n                                })}\r\n                            {\r\n                                React.Children.map(children, (child) => {\r\n                                    if (child && !child.props.belowChart) {\r\n                                        return React.cloneElement(child, extraProps)\r\n                                    }\r\n                                    return null\r\n                                })\r\n                            }\r\n                        </G>\r\n                    </Svg>\r\n                )}\r\n            </View>\r\n        </View>\r\n    )\r\n\r\n\r\n}\r\n","\r\nimport React from \"react\";\r\nimport { Alert } from \"react-native\";\r\nimport { Text } from \"react-native-svg\";\r\nimport PieChart, { PieChartChild, Datum } from \"../charts/pie-chart\";\r\nimport { chartColors } from \"../style\";\r\n\r\n\r\nconst data = [5, 10, 4, 6, 8];\r\nexport function PieLabels(props: PieChartChild<Datum>) {\r\n    return <>\r\n        {props.slices?.map((d) => {\r\n            return <Text\r\n                key={d.index}\r\n                x={d.labelCentroid[0]}\r\n                y={d.labelCentroid[1]}\r\n                textAnchor={'middle'}\r\n                alignmentBaseline={'center'}\r\n                fontSize={14}\r\n                stroke={'black'}\r\n                strokeWidth={0.2}>\r\n                {d.data.key}\r\n            </Text>\r\n            //\r\n        })}\r\n    </>\r\n}\r\nexport function PieHolder() {\r\n    return <PieChart innerRadius={8} style={{ aspectRatio: 16 / 9 }} data={data.map((value, i) => ({ value, onPress: () => Alert.alert(\"Value is \" + value), key: `key_${i}`, props: { fill: chartColors[i] } }))}>\r\n        <PieLabels key=\"LABELZ\" />\r\n    </PieChart>\r\n}","import { Api } from \"@tradingpost/common/api\";\r\nimport { AllWatchlists, IWatchlistGet, IWatchlistList } from \"@tradingpost/common/api/entities/interfaces\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { ScrollView, TextStyle, View } from \"react-native\";\r\nimport { AddButton, EditButton } from \"../components/AddButton\";\r\nimport { Icon, Text } from '@ui-kitten/components'\r\nimport { ElevatedSection, Section, Subsection } from \"../components/Section\";\r\nimport { Table } from \"../components/Table\";\r\nimport { DataOrQuery } from '../components/List'\r\nimport { DashScreenProps, TabScreenProps } from \"../navigation\";\r\nimport { flex, paddView, sizes } from \"../style\";\r\nimport { useToast } from \"react-native-toast-notifications\";\r\nimport {  useMakeSecurityFields, useWatchlistItemColumns } from \"./WatchlistScreen\";\r\nimport { AwaitedReturn, toPercent, toPercent2, toThousands } from \"../utils/misc\";\r\nimport { WatchlistSection } from \"../components/WatchlistSection\";\r\nimport Theme from '../theme-light.json'\r\nimport { LimitedTable } from \"./TableModalScreen\";\r\nimport { ButtonGroup } from \"../components/ButtonGroup\";\r\nimport { PieHolder } from \"../components/PieHolder\";\r\nimport { AppColors } from \"../constants/Colors\";\r\n\r\nconst styles = {\r\n    stateLabel: {\r\n        color: Theme[\"color-info-800\"],\r\n        textAlign: \"center\"\r\n    } as TextStyle,\r\n    stateValue: {\r\n        // color: AppColors.primary,\r\n        textAlign: \"center\",\r\n        marginBottom: sizes.rem0_5\r\n    } as TextStyle,\r\n}\r\ntype TradeReturnType = AwaitedReturn<typeof Api.User.extensions.getTrades>\r\n\r\nexport const PortfolioScreen = (props: TabScreenProps) => {\r\n\r\n    const [watchlists, setWatchlists] = useState<AllWatchlists>()\r\n    const [quickWatchlist, setQuickWatchlist] = useState<IWatchlistGet>()\r\n    const toast = useToast();\r\n    //const [trades, setTrades] = useState<AwaitedReturn<typeof Api.User.extensions.getTrades>>();\r\n    const [holdings, setHoldings] = useState<AwaitedReturn<typeof Api.User.extensions.getHoldings>>();\r\n    const [portfolio, setPortfolio] = useState<AwaitedReturn<typeof Api.User.extensions.getPortfolio>>();\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const [lists, holdings] = await Promise.all([\r\n                    Api.Watchlist.extensions.getAllWatchlists(),\r\n                    Api.User.extensions.getHoldings(),\r\n\r\n                ]);\r\n                //KEeping apart for now .. seems to have an error\r\n                try {\r\n                    const portfolio = await Api.User.extensions.getPortfolio({});\r\n                    setPortfolio(portfolio);    \r\n                } catch (ex) {\r\n                    console.error(ex);\r\n                }\r\n\r\n                if (lists.quick.id) {\r\n                    setQuickWatchlist(await Api.Watchlist.get(lists.quick.id));\r\n                }\r\n                else\r\n                    setQuickWatchlist({\r\n                        id: 0,\r\n                        items: [],\r\n                        name: \"\",\r\n                        saved_by_count: 0,\r\n                        type: \"primary\",\r\n                        user: [],\r\n                        is_saved: false\r\n                    })\r\n                setWatchlists(lists);\r\n                //          setTrades(trades);\r\n                setHoldings(holdings);\r\n\r\n            }\r\n            catch (ex: any) {\r\n                toast.show(ex.message);\r\n            }\r\n        })()\r\n    }, [])\r\n    const [portPeriod, setPortPeriod] = useState(\"1Y\")\r\n    const { columns: watchlistItemColumns} = useWatchlistItemColumns(true)\r\n    return <View style={[paddView]}>\r\n        <ScrollView>\r\n            <ElevatedSection key={\"portfolio\"} title=\"Portfolio\">\r\n                <Subsection title=\"Performance\">\r\n                    <View style={{ marginBottom: sizes.rem1 }}>\r\n                        <PieHolder />\r\n                    </View>\r\n                    <ButtonGroup key={\"period\"} items={[\"1D\", \"1W\", \"1M\", \"3M\", \"1Y\", \"5Y\", \"Max\"].map(v => ({ label: v, value: v }))} onValueChange={(v) => setPortPeriod(v)} value={portPeriod} />\r\n                    <View style={{ borderColor: \"#ccc\", borderWidth: 1, backgroundColor: \"#f5f5f5\", padding: sizes.rem0_5 / 2 }}>\r\n                        <View key={\"returns\"} style={{ flexDirection: \"row\" }}>\r\n                            {[\r\n                                { title: \"Total Return\", value: 0.5 },\r\n                                { title: \"Beta\", value: portfolio?.beta || 0 },\r\n                                { title: \"Sharpe Ratio\", value: portfolio?.sharpe || 0 }]\r\n                                .map((item, idx) => {\r\n                                    return <View key={\"key_\" + idx} style={flex}>\r\n                                        <Text style={styles.stateLabel} >{item.title}</Text>\r\n                                        <Text style={styles.stateValue}>{toPercent(item.value)}</Text>\r\n                                    </View>\r\n                                })}\r\n                        </View>\r\n                        <View key=\"exposures\" style={{ flexDirection: \"row\" }}>\r\n                            {[\r\n                                { title: \"Long\", value: portfolio?.exposure.long || 0 },\r\n                                { title: \"Short\", value: portfolio?.exposure.short || 0 },\r\n                                { title: \"Gross\", value: portfolio?.exposure.gross || 0 },\r\n                                { title: \"Net\", value: portfolio?.exposure.net || 0 }]\r\n                                .map((item, idx) => {\r\n                                    return <View key={\"key_\" + idx} style={flex}>\r\n                                        <Text style={styles.stateLabel} >{item.title}</Text>\r\n                                        <Text style={styles.stateValue}>{toPercent(item.value)}</Text>\r\n                                    </View>\r\n                                })}\r\n                        </View>\r\n                    </View>\r\n                </Subsection>\r\n                <Subsection key=\"holdings\" title=\"Holdings\">{\r\n                    <Table\r\n                        data={holdings}\r\n                        columns={[\r\n                            ...useMakeSecurityFields((item: Exclude<typeof holdings, undefined>[0]) => {\r\n                                return Number(item.security_id)\r\n                            }),\r\n                            { field: \"quantity\", stringify: (a, b, c) => String(a) },\r\n                            { field: \"price\", stringify: toThousands },\r\n                            { field: \"value\", stringify: toThousands },\r\n                            { alias: \"pnl\", stringify: (a, b, c) => toThousands(Number(c.value) - Number(c.cost_basis)) }\r\n                        ]} />\r\n                }</Subsection>\r\n                <Subsection key=\"trades\" title=\"Trades\">\r\n                    <LimitedTable\r\n                        title=\"All Trades\"\r\n                        maxPage={0}\r\n                        tableProps={{\r\n                            keyExtractor: (item, idx) => {\r\n                                return item ? \"trade_\" + idx : \"empty\";\r\n                            },\r\n                            data: (async (a, $page) => {\r\n                                const newArr = a || [];\r\n                                newArr.push(... (await Api.User.extensions.getTrades({ $page, settings: {} })))\r\n                                console.log(JSON.stringify(newArr))\r\n                                return newArr;\r\n                            }) as DataOrQuery<TradeReturnType[0]>,\r\n                            columns: [\r\n                                ...useMakeSecurityFields((item: TradeReturnType[0]) => {\r\n                                    return Number(item.security_id)\r\n                                }),\r\n                                { field: \"date\", stringify: (a, b, c) => String(a) },\r\n                                { field: \"quantity\", stringify: toThousands },\r\n                                { field: \"price\", stringify: toThousands }\r\n                            ]\r\n                        }\r\n                        }\r\n                    />\r\n                </Subsection>\r\n            </ElevatedSection>\r\n            <ElevatedSection key={\"quick_watch\"} title=\"Quick Watch\"\r\n                button={(_p) => {\r\n                    return watchlists?.quick.id ?\r\n                        <EditButton {..._p} onPress={() => {\r\n                            props.navigation.navigate(\"WatchlistEditor\", {\r\n                                watchlistId: watchlists?.quick.id\r\n                            })\r\n                        }} /> :\r\n                        <AddButton {..._p} onPress={() => {\r\n                            props.navigation.navigate(\"WatchlistEditor\", {\r\n                                watchlistId: -1\r\n                            })\r\n                        }} />\r\n                }}\r\n            >\r\n                <Table\r\n                    noDataMessage=\"No Companies\"\r\n                    columns={watchlistItemColumns}\r\n                    data={quickWatchlist?.items}\r\n                />\r\n            </ElevatedSection>\r\n            <WatchlistSection\r\n                title=\"My Watchlists\"\r\n                key={\"my_watchlist\"}\r\n                watchlists={watchlists?.created}\r\n                showAddButton\r\n                hideNoteOnEmpty\r\n            />\r\n            <WatchlistSection\r\n                title=\"Shared Watchlists\"\r\n                key={\"my_watchlist\"}\r\n                watchlists={watchlists?.saved}\r\n                shared\r\n            />\r\n            {/* <ElevatedSection key={\"saved_watchlists\"} title=\"Saved Watchlists\">\r\n                <Table\r\n                    noDataMessage=\"No saved watchlists\"\r\n                    data={watchlists?.saved}\r\n                    rowPressed={(info) => {\r\n                        props.navigation.navigate(\"Watchlist\", {\r\n                            watchlistId: info.id\r\n                        })\r\n                    }}\r\n                    columns={[\r\n                        \r\n                        \r\n                    ]}\r\n\r\n                />\r\n            </ElevatedSection> */}\r\n        </ScrollView>\r\n    </View >\r\n\r\n}","import { Api } from \"@tradingpost/common/api\";\r\nimport { Button, } from \"@ui-kitten/components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { View, Text } from \"react-native\";\r\nimport { useToast } from \"react-native-toast-notifications\";\r\nimport { ButtonGroup } from \"../components/ButtonGroup\";\r\nimport { ScrollWithButtons } from \"../components/ScrollWithButtons\";\r\nimport { ElevatedSection, Section } from \"../components/Section\";\r\nimport { SwitchField } from \"../components/SwitchField\";\r\nimport { TextField } from \"../components/TextField\";\r\nimport { useWatchlistPicker, WatchlistPicker } from \"../components/WatchlistPicker\";\r\nimport { setValue } from \"../lds\";\r\nimport { DashScreenProps, TabScreenProps } from \"../navigation\";\r\nimport { flex, paddView, paddViewWhite, sizes } from \"../style\";\r\ntype WLTypes = \"public\" | \"primary\" | \"private\";\r\nexport const WatchlistEditorScreen = (props: TabScreenProps<{ watchlistId?: number }>) => {\r\n    const pickerProps = useWatchlistPicker();\r\n    const [name, setName] = useState(\"\");\r\n    const [note, setNote] = useState<string>();\r\n    const [type, setWatchlistType] = useState<WLTypes>(\"public\");\r\n\r\n    const watchlistId = props.route?.params?.watchlistId;\r\n    //TODO: HACK need to clean this u\r\n    const [magic, setMagic] = useState(true);\r\n    const toast = useToast();\r\n    useEffect(() => {\r\n        const converter = pickerProps.symbolConverter.current;\r\n        if (watchlistId && converter)\r\n            if (watchlistId > 0) {\r\n                Api.Watchlist.get(watchlistId).then((watchlist) => {\r\n                    //TODO: need to deal with settings for primary watchlist\r\n                    setName(watchlist.name);\r\n                    setWatchlistType(watchlist.type as WLTypes);\r\n                    setNote(watchlist.note);\r\n                    const selectedItems = converter(watchlist.items.map((s) => s.symbol));\r\n                    pickerProps.onSelectedItemschanged(selectedItems);\r\n\r\n                    //TODO:: need to cache items notes since this is an delete and insert style update\r\n\r\n                }).catch((ex) => {\r\n                    toast.show(ex.message);\r\n                })\r\n            }\r\n            else {\r\n                setName(\"Primary Watchlists\")\r\n                setWatchlistType(\"primary\");\r\n            }\r\n    }, [watchlistId, Boolean(pickerProps.symbolConverter.current)])\r\n\r\n\r\n    return <View style={paddView}>\r\n        {type !== \"primary\" &&\r\n\r\n            <ElevatedSection title={(props.route?.params?.watchlistId ? \"Edit\" : \"Create\") + \" Watchlist\"} >\r\n                <View style={{ flexDirection: \"column\", margin: sizes.rem0_5 }}>\r\n                    <ButtonGroup value={type} onValueChange={(value) => {\r\n                        setWatchlistType(value);\r\n                    }}\r\n                        items={[{ label: \"Public\", value: \"public\" }, { label: \"Private\", value: \"private\" }]}\r\n                    />\r\n                    <TextField value={name} onChangeText={(v) => setName(v || \"\")} placeholder=\"Watchlist Name\" style={{ flex: 1, marginBottom: sizes.rem1 }} />\r\n                    <TextField value={note} onChangeText={(v) => setNote(v || \"\")} placeholder=\"Wathlist Note\" style={{ flex: 1 }} />\r\n                </View>\r\n            </ElevatedSection>\r\n\r\n        }\r\n\r\n        <ScrollWithButtons\r\n            fillHeight\r\n            buttons={{\r\n                right: {\r\n                    text: props.route?.params?.watchlistId ? \"Update Watchlist\" : \"Create Watchlist\",\r\n                    onPress: async () => {\r\n                        if (name && pickerProps.selectionConverter.current) {\r\n                            const items = pickerProps.selectionConverter.current(pickerProps.selectedItems);\r\n                            if (items.length < 2)\r\n                                toast.show(\"Please select at least 2 securities\");\r\n                            else {\r\n                                const watchlistData = {\r\n                                    items: items.map(i => ({\r\n                                        symbol: i.symbol\r\n                                    })),\r\n                                    name: name,\r\n                                    note,\r\n                                    type: type\r\n                                }\r\n\r\n                                if (props.route?.params?.watchlistId && props.route.params.watchlistId > 0)\r\n                                    await Api.Watchlist.update(props.route.params.watchlistId, watchlistData)\r\n                                else\r\n                                    await Api.Watchlist.insert(watchlistData)\r\n\r\n                                props.navigation.goBack();\r\n                            }\r\n                        }\r\n                        else {\r\n                            toast.show(\"Please name your watchlist\");\r\n                        }\r\n                    }\r\n                }\r\n            }}>\r\n            <ElevatedSection style={{ height: \"100%\" }} title={type === \"primary\" ? \"Quick Watchlist\" : \"Watchlist Securities\"}>\r\n                <WatchlistPicker {...pickerProps} securitiesLoaded={() => {\r\n                    console.log(\"Securities are available...\");\r\n                    setMagic(m => !m)\r\n                }} />\r\n            </ElevatedSection>\r\n        </ScrollWithButtons>\r\n\r\n    </View >\r\n\r\n}\r\n","import AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text } from '@ui-kitten/components'\r\nimport { useEffect } from 'react';\r\nimport { TabScreenProps } from '../navigation';\r\n\r\nexport const AuthScreen = (props: TabScreenProps<{ platform: \"twitter\" | \"youtube\" | \"spotify\" | \"finicity\", code: string }>) => {\r\n    const platform = props.route?.params?.platform;\r\n    const code = props.route?.params?.code;\r\n    useEffect(() => {\r\n\r\n        if (platform === \"twitter\" && code) {\r\n            AsyncStorage.setItem(`auth-${platform}-code`, code);\r\n        }\r\n        //redundant but I may change this\r\n        else if (platform === \"finicity\") {\r\n            AsyncStorage.setItem(`auth-${platform}-code`, \"DONE!\");\r\n        }\r\n\r\n    }, [platform, code]);\r\n    return <Text>You have been authozied to {platform || \"Missing platform\"}</Text>\r\n}","import { Button } from \"@ui-kitten/components\";\r\n\r\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport { Animated, View } from \"react-native\";\r\nimport { TabScreenProps } from \"../navigation\";\r\nimport { requestMediaLibraryPermissionsAsync, ImageInfo, launchImageLibraryAsync } from 'expo-image-picker'\r\n\r\nimport { flex } from \"../style\";\r\n\r\n//const imageCrop = require('expo-image-crop')\r\n//const ImageManipulator = imageCrop.ImageManipulator;\r\n\r\nexport const ImagePickerScreen = (props: TabScreenProps<{ onComplete: (data: any) => void }>) => {\r\n    const [imageUri, setImageUri] = useState(\"\")\r\n    // useLayoutEffect(() => {\r\n    //     requestMediaLibraryPermissionsAsync().then(async (r) => {\r\n    //         if (r.granted) {\r\n    //             const img = await launchImageLibraryAsync();\r\n    //             setImageUri((img as ImageInfo).uri);\r\n    //         }\r\n    //         else {\r\n    //             props.navigation.goBack();\r\n    //         }\r\n    //     });\r\n    // }, [])\r\n    return <View style={[flex, { backgroundColor: \"orange\" }]}>\r\n        <Animated.View\r\n            onMoveShouldSetResponder={() => true}\r\n            onStartShouldSetResponder={() => true}\r\n            onResponderStart={() => {\r\n                console.log(\"STARTED RESPONDER\")\r\n            }}\r\n            onResponderMove={(ev) => {\r\n                console.log(`MOVING  (${ev.nativeEvent.pageX},${ev.nativeEvent.pageY})`)\r\n            }}\r\n\r\n            style={{ height: 100, width: 100, backgroundColor: \"blue\" }}>\r\n\r\n        </Animated.View>\r\n        {/* <ImageManipulator\r\n            photo={{ uri:imageUri }}\r\n            isVisible\r\n            onPictureChoosed={(p:any) => setImageUri(p.uri)}\r\n            onToggleModal={()=>{}}\r\n        /> */}\r\n        {/* <ImageEditor\r\n            imageUri={imageUri}\r\n            visible={Boolean(imageUri)}\r\n            onCloseEditor={() => () => {\r\n                props.navigation.goBack()\r\n            }}\r\n            fixedCropAspectRatio={1}\r\n            lockAspectRatio={true}\r\n            minimumCropDimensions={{\r\n                width: 100,\r\n                height: 100,\r\n            }}\r\n            onEditingComplete={(result) => {\r\n                //            setImageData(result);\r\n            }}\r\n            mode=\"full\"\r\n        /> */}\r\n    </View>\r\n}\r\n\r\n","import { View, Animated, ImageStyle, Pressable, ViewStyle } from \"react-native\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { Text, Image } from \"react-native\";\r\nimport { IconifyIcon } from \"./IconfiyIcon\";\r\nimport UserLogo from '@iconify/icons-mdi/user'\r\nimport { flex, row, sizes } from \"../style\";\r\nimport { useWindowDimensions } from \"react-native\";\r\nimport { social } from \"../images\";\r\n//import { ImageResultCallback, openImagePicker } from \"../screens/ImagePickerScreen\";\r\nimport ProfileBg from '../assets/profile/profileBg.png'\r\nimport { NavigationProp } from \"@react-navigation/native\";\r\nimport { AppColors } from \"../constants/Colors\";\r\nimport { Interface } from \"@tradingpost/common/api\";\r\n\r\nexport const profileImageSize = sizes.rem6;\r\nexport const profileImageSmall = sizes.rem4;\r\nexport const actionPanelSize = sizes.rem2;\r\nconst profileImageStyle = {\r\n    height: profileImageSize,\r\n    width: profileImageSize,\r\n    position: \"absolute\",\r\n    borderRadius: profileImageSize / 2,\r\n    backgroundColor: \"darkgray\",\r\n    bottom: 0\r\n}\r\n\r\nconst profileImageSmallStyle = {\r\n    height: profileImageSmall,\r\n    width: profileImageSmall,\r\n    borderRadius: profileImageSmall / 2,\r\n    backgroundColor: \"darkgray\",\r\n    position: \"absolute\",\r\n    left: sizes.rem1,\r\n    bottom: 0\r\n}\r\n\r\n\r\nexport function useProfileBannerSize() {\r\n    const dim = useWindowDimensions();\r\n    return dim.width / bannerAspectRatio + actionPanelSize;\r\n}\r\n\r\nconst bannerAspectRatio = 21 / 9;//16 / 9;\r\nconst viewStyle: ViewStyle = {\r\n    backgroundColor: \"lightgray\", aspectRatio: bannerAspectRatio, width: \"100%\", alignItems: \"center\", justifyContent: \"flex-end\"\r\n};\r\n\r\ntype ImageResultCallback = (a: any, b: any) => void;\r\n\r\nexport function ProfileBanner<T extends boolean>(props: { profilePic: string | undefined, bannerPic: string | undefined, editMode?: T, collapse?: boolean, extraMarginTop?: number, navigator: NavigationProp<any>, platforms: string[] } &\r\n    (T extends true ? {\r\n        onBannerPicked: ImageResultCallback,\r\n        onProfilePicked: ImageResultCallback\r\n\r\n    } : { onBannerPicked?: ImageResultCallback, onProfilePicked?: ImageResultCallback })\r\n) {\r\n    const { profilePic, collapse } = props;\r\n\r\n    return <View style={{ alignItems: \"center\", width: \"100%\" }}>\r\n        <Pressable\r\n            key=\"imagepart\"\r\n\r\n            style={[viewStyle, { backgroundColor: AppColors.primary }, collapse ? { marginTop: actionPanelSize / 2 + (props.extraMarginTop || 0) } : undefined]}\r\n        >\r\n            {/* <Image style={{ width: \"100%\", height: \"100%\", position: \"absolute\" }} source={ProfileBg} /> */}\r\n            {\r\n                /*</> :\r\n                <View style={[row, { backgroundColor: \"blue\", width: \"100%\" }]}>\r\n                    <ProfilePic profilePic={profilePic} collapse={collapse} editMode={props.editMode} />\r\n                </View>\r\n                */\r\n            }\r\n        </Pressable>\r\n        {!collapse && <View key=\"uncollapseFoot\" style={[row, { width: \"100%\", alignSelf: \"stretch\", height: actionPanelSize, backgroundColor: \"white\", alignContent: \"center\", alignItems: \"center\" }]}>\r\n            <Text style={[flex, {\r\n                textAlign: \"center\", transform: [{\r\n                    translateX: - profileImageSize / 4\r\n                }]\r\n            }]} >Subscribers {0}</Text>\r\n            <View style={[row, flex, {\r\n                justifyContent: \"center\",\r\n                height: sizes.rem1_5,\r\n                transform: [{\r\n                    translateX: profileImageSize / 4\r\n                }]\r\n            }]}>\r\n                <SocialBar claims={props.platforms} />\r\n            </View>\r\n        </View>}\r\n        {collapse && <View key=\"collapseFoot\" style={[{ width: \"100%\", alignSelf: \"stretch\", height: actionPanelSize, backgroundColor: \"white\", alignContent: \"center\", alignItems: \"center\" }]} >\r\n            <View style={[row, { height: \"100%\", alignSelf: \"flex-end\", marginRight: sizes.rem1 }]}>\r\n                <SocialBar claims={props.platforms} />\r\n            </View>\r\n        </View>}\r\n        <ProfilePic profilePic={profilePic} collapse={collapse} editMode={props.editMode} navigator={props.navigator} onProfilePicked={props.onProfilePicked} />\r\n    </View>\r\n}\r\n\r\nconst SocialBar = (props: { claims: string[] }) => {\r\n    //{social.TwitterLogo, social.LinkedInLogo, social.YouTubeLogo}\r\n    return <>\r\n        {[\"Twitter\", \"YouTube\", \"Spotify\"].map((logoName, i) => {\r\n            //social.TwitterLogo, social.LinkedInLogo, social.YouTubeLogo\r\n            //social.TwitterLogo, social.LinkedInLogo, social.YouTubeLogo\r\n            const logo = social[logoName + \"Logo\" as keyof typeof social];\r\n            return props.claims.find((c) => c.toLowerCase() === logoName.toLowerCase()) ? <View style={{ height: \"100%\", aspectRatio: 1 }}>\r\n                <IconifyIcon key={`social_${i}`} icon={logo} svgProps={{ height: \"75%\" }} style={{ height: \"75%\", margin: \"12.5%\", aspectRatio: 1 }} />\r\n            </View> : undefined\r\n        })}\r\n    </>\r\n}\r\n\r\nfunction ProfilePic(props: { profilePic: string | undefined, collapse: boolean | undefined, editMode: boolean | undefined, navigator: NavigationProp<any>, onProfilePicked?: ImageResultCallback }) {\r\n    const { profilePic, collapse, editMode } = props;\r\n    const style = collapse ? profileImageSmallStyle : profileImageStyle\r\n    return <Pressable disabled={!editMode} style={style as ViewStyle}\r\n    // onPress={() => \r\n    //     openImagePicker(props.componentId, {\r\n    //     onImagePicked: props.onProfilePicked,\r\n    //     cropSettings: {\r\n    //         height: 256 * 4,\r\n    //         width: 256 * 4\r\n    //     }\r\n    // })}\r\n\r\n    >\r\n        {profilePic ? <Image source={{ uri: profilePic }} style={[style as ImageStyle, { left: 0 }]} /> :\r\n            <IconifyIcon\r\n                style={{ height: \"120%\", width: \"120%\", left: \"-10%\" }}\r\n                icon={UserLogo}\r\n                currentColor='black'\r\n            />}\r\n    </Pressable>\r\n}","import React, { ReactElement, ReactNode, useEffect, useRef, useState } from \"react\";\r\nimport { Api } from '@tradingpost/common/api'\r\nimport { Tab, TabBar, TabView, Text } from \"@ui-kitten/components\";\r\n//import { ensureCurrentUser } from \"../apis/Authentication\";\r\nimport { ProfileBanner, profileImageSize, profileImageSmall, useProfileBannerSize } from \"../components/ProfileBanner\";\r\n//import { IAmiraUser } from \"../interfaces/IUser\";\r\n//import { DashboardScreen, DashProps, fullDashOptions, IDashboard } from \"../layouts/DashboardLayout\";\r\n//import { } from 'react-native-linear-gradient'\r\nimport { flex, fonts, paddView, row, sizes } from \"../style\";\r\nimport { Animated, View, ScrollView, NativeScrollEvent, NativeSyntheticEvent, useWindowDimensions, Alert, FlatList, ViewStyle } from \"react-native\";\r\nimport { AwaitedReturn, DEV_ONLY, toThousands } from \"../utils/misc\";\r\nimport { SecondaryButton } from \"../components/SecondaryButton\";\r\nimport { ElevatedSection, Section, Subsection } from \"../components/Section\";\r\n//import { PostList, usePostLoader } from \"../components/PostList\";\r\n//import { getCompetitionsPast } from \"../apis/CompetitionApi\";\r\nimport { stringyDate, Table } from \"../components/Table\";\r\nimport { ChipPicker } from \"../components/ChipBar\";\r\nimport { PieHolder } from \"../components/PieHolder\";\r\nimport { WatchlistSection } from \"../components/WatchlistSection\";\r\nimport { TabScreenProps } from \"../navigation\";\r\nimport { IUserGet } from \"@tradingpost/common/api/entities/interfaces\";\r\nimport { useToast } from \"react-native-toast-notifications\";\r\nimport { FeedPart } from \"./FeedScreen\";\r\nimport { AppColors } from \"../constants/Colors\";\r\nimport { useMakeSecurityFields } from \"./WatchlistScreen\";\r\nimport { PrimaryChip } from \"../components/PrimaryChip\";\r\n//import { screens } from \"../navigationComponents\";\r\n//import { getUser } from \"../apis/UserApi\";\r\n\r\n//May need to be changed for ios\r\nconst TabPanelSize = 48;\r\nconst StatusBarsize = 20;\r\nconst ButtonMargin = 8;\r\nconst ButtonBarsize = 43;\r\nconst titles = 27 + 17;\r\nconst tabBarMargin = sizes.rem1;\r\nconst clampBuffer = 4;\r\n\r\nconst collapseShift = 2 * ButtonMargin;\r\n\r\nexport function ProfileScreen(props: TabScreenProps<{ userId: string }>) {\r\n    const userId = props.route?.params?.userId;\r\n\r\n\r\n    const [user, setUser] = useState<IUserGet>(),\r\n        [watchlists, setWatchlists] = useState<AwaitedReturn<typeof Api.User.extensions.getWatchlists>>(),\r\n        //authedUser = ensureCurrentUser(),\r\n        translateHeaderY = useRef(new Animated.Value(0)).current;\r\n\r\n    const dim = useWindowDimensions();\r\n    const scrollRef = useRef<FlatList>(null);\r\n    const\r\n        bannerHeight = useProfileBannerSize(),\r\n        headerHeight = bannerHeight + TabPanelSize + ButtonBarsize + ButtonMargin * 2 + titles + tabBarMargin;\r\n\r\n    const clampMax = bannerHeight - profileImageSmall;\r\n    //    const scrollYClamped = Animated.diffClamp(translateHeaderY, 0, clampMax);\r\n    const minViewHeight = dim.height - clampMax - StatusBarsize - headerHeight + bannerHeight + 2 * titles;\r\n    const [collapsed, setCollapsed] = useState(false);\r\n    const [isMaxed, setIsMaxed] = useState(false);\r\n    const translation = translateHeaderY.interpolate({\r\n        inputRange: [0, clampMax],\r\n        outputRange: [0, -clampMax],\r\n        extrapolate: 'clamp',\r\n    });\r\n    const manager = useRef<boolean[]>([]).current;\r\n\r\n    useEffect(() => {\r\n        translation.addListener((v: { value: number }) => {\r\n            const c = Math.abs(v.value + clampMax) < profileImageSize - profileImageSmall + 8;\r\n            const isMaxed = -v.value === clampMax;\r\n            setCollapsed(c);\r\n            setIsMaxed(isMaxed);\r\n        });\r\n        return () => translation.removeAllListeners();\r\n    }, [translation, clampMax]);\r\n\r\n    const [tab, setTab] = useState(0);\r\n    //const dashRef = useRef<any>()\r\n    const toast = useToast();\r\n\r\n    useEffect(() => {\r\n\r\n        if (userId) {\r\n            (async () => {\r\n                try {\r\n                    const [user, watchlists] = await Promise.all([\r\n                        Api.User.get(userId),\r\n                        Api.User.extensions.getWatchlists({ userId: userId as string })\r\n                    ]);//await getUser({ user_id: userId });\r\n\r\n                    setWatchlists(watchlists);\r\n                    setUser(user);\r\n\r\n                } catch (ex: any) {\r\n                    toast.show(ex.message);\r\n                }\r\n            })()\r\n        }\r\n\r\n    }, [userId])\r\n\r\n    return <View style={[flex]}>\r\n        <Animated.FlatList\r\n            data={[\r\n                <ProfilePage\r\n                    style={{ paddingHorizontal: 0 }} index={0} minViewHeight={minViewHeight} manager={manager} currentIndex={tab}>\r\n                    <FeedPart\r\n                        userId={userId}\r\n                    />\r\n                </ProfilePage>,\r\n                <ProfilePage index={1} minViewHeight={minViewHeight} manager={manager} currentIndex={tab}>\r\n                    <PieHolder />\r\n                    <ElevatedSection title=\"Holdings\">\r\n                    </ElevatedSection>\r\n                    <WatchlistSection title=\"Watchlists\" watchlists={watchlists} />\r\n                    {/* <WatchlistSection parentComponentId={props.componentId} userId={props.userId} /> */}\r\n                </ProfilePage>,\r\n                <ProfilePage index={2} minViewHeight={minViewHeight} manager={manager} currentIndex={tab} >\r\n                    <ElevatedSection title=\"\">\r\n                        <Table\r\n\r\n\r\n                            keyExtractor={(item, idx) => {\r\n                                return item ? \"trade_\" + idx : \"empty\";\r\n                            }}\r\n                            data={(async (a, $page) => {\r\n                                const newArr = a || [];\r\n                                newArr.push(... (await Api.User.extensions.getTrades({ $page, $limit: 20, settings: { user_id: userId } })))\r\n                                console.log(JSON.stringify(newArr))\r\n                                return newArr;\r\n                            })}\r\n                            columns={[\r\n                                ...useMakeSecurityFields((item: any) => {\r\n                                    return Number(item.security_id)\r\n                                }),\r\n                                { field: \"date\", stringify: (a, b, c) => String(a) },\r\n                                { field: \"quantity\", stringify: toThousands },\r\n                                { field: \"price\", stringify: toThousands }\r\n                            ]}\r\n\r\n                        />\r\n                    </ElevatedSection>\r\n                </ProfilePage>,\r\n                <ProfilePage index={3} minViewHeight={minViewHeight} manager={manager} currentIndex={tab}>\r\n                    <ElevatedSection title=\"General\">\r\n                        <Subsection title=\"Biography\">\r\n                            <Text>{user?.bio}</Text>\r\n                        </Subsection>\r\n                        <View style={row} >\r\n                            <Subsection title=\"Strategy\" style={flex}>\r\n                                <Text>{user?.analyst_profile?.investment_strategy}</Text>\r\n                            </Subsection>\r\n                            <Subsection title=\"Benchmark\" style={flex}>\r\n                                <Text>{user?.analyst_profile?.benchmark}</Text>\r\n                            </Subsection>\r\n                        </View>\r\n                        <Subsection title=\"Interest &amp; Specialities\" style={flex}>\r\n                            <View style={{ flexDirection: \"row\" }}>\r\n                                {(user?.analyst_profile?.interests || [\"No\", \"Tags\", \"Here\"]).map((chip, i) =>\r\n                                    <PrimaryChip isAlt key={i} label={chip} style={{ flex: 1 }} />)}\r\n                            </View>\r\n                        </Subsection>\r\n                    </ElevatedSection>\r\n                    {/* <ElevatedSection title=\"Competitions\">\r\n                        <Table elevated data={[]} columns={\r\n                            [\r\n                                {\r\n                                    field: \"name\",\r\n                                    align: \"left\"\r\n                                },\r\n                                {\r\n                                    field: \"position\",\r\n                                    alias: \"# Rank\",\r\n                                    width: 128\r\n                                },\r\n                                {\r\n                                    field: \"endDate\",\r\n                                    stringify: stringyDate,\r\n                                    width: 72\r\n                                }\r\n                            ]} />\r\n                    </ElevatedSection> */}\r\n                    <ElevatedSection title=\"Social Analytics\"></ElevatedSection>\r\n                </ProfilePage>\r\n            ]}\r\n            renderItem={(info) => {\r\n                return info.item;\r\n            }}\r\n            ref={scrollRef} contentContainerStyle={[{ paddingTop: headerHeight }]} nestedScrollEnabled\r\n            onMomentumScrollEnd={(ev) => {\r\n                if (collapsed && !isMaxed) {\r\n\r\n                    scrollRef.current?.scrollToOffset({ offset: clampMax, animated: true });\r\n                    setIsMaxed(true);\r\n                }\r\n            }}\r\n            onScroll={Animated.event<NativeSyntheticEvent<NativeScrollEvent>>([\r\n                { nativeEvent: { contentOffset: { y: translateHeaderY } } }\r\n            ], { useNativeDriver: true })}>\r\n        </Animated.FlatList>\r\n        <Animated.View style={{ position: \"absolute\", top: 0, backgroundColor: AppColors.background, transform: [{ translateY: translation }], alignItems: \"stretch\", width: \"100%\" }}>\r\n            {/* <ElevatedSection style={{ alignItems: \"center\", width:\"100%\" }} title=\"\"> */}\r\n            <ProfileBanner navigator={props.navigation} profilePic={user?.profile_url} collapse={collapsed}\r\n                bannerPic={\"\"}\r\n                extraMarginTop={collapseShift}\r\n                platforms={user?.claims.map(c => c.platform) || []}\r\n\r\n            />\r\n            <View style={[collapsed ? row : undefined, { width: \"100%\", alignItems: \"center\" }]}>\r\n                <View style={{ marginLeft: collapsed ? sizes.rem1 : 0 }}>\r\n                    <Text style={{ color: \"black\", textAlign: !collapsed ? \"center\" : \"left\", fontSize: fonts.xSmall }}>@{user?.handle || \"\"}</Text>\r\n                    <Text style={{ color: \"black\", textAlign: !collapsed ? \"center\" : \"left\", fontSize: fonts.medium }}>{user?.display_name}</Text>\r\n                </View>\r\n                <SecondaryButton style={{\r\n                    width: \"50%\", marginVertical: ButtonMargin,\r\n                    marginLeft: \"auto\", marginRight: collapsed ? sizes.rem1 : \"auto\"\r\n                }} >Subscribe</SecondaryButton>\r\n            </View>\r\n            {/* </ElevatedSection> */}\r\n            <ElevatedSection title=\"\" style={{ marginHorizontal: sizes.rem1, marginTop: tabBarMargin }} >\r\n                <TabBar\r\n                    indicatorStyle={{\r\n                        marginTop: 26\r\n                    }}\r\n                    style={{ width: \"100%\" }}\r\n                    selectedIndex={tab}\r\n                    onSelect={t => {\r\n                        if (collapsed)\r\n                            scrollRef.current?.scrollToOffset({ offset: clampMax, animated: false });\r\n\r\n                        setTab(t);\r\n                    }}>\r\n                    {[\"Posts\", \"Portfolio\", \"Trades\", \"About\"].map(t => <Tab style={{ marginTop: -4 }} title={t} />)}\r\n                </TabBar>\r\n            </ElevatedSection>\r\n        </Animated.View>\r\n    </View>\r\n\r\n\r\n    {/* </ScrollView> */ }\r\n}\r\n\r\nfunction ProfilePage(props: { manager: boolean[], index: number, currentIndex: number, minViewHeight: number, children?: ReactNode, style?: ViewStyle }) {\r\n    props.manager[props.currentIndex] = true;\r\n    return (props.index === props.currentIndex || props.manager[props.index]) ?\r\n        <View style={[paddView, {\r\n            minHeight: props.minViewHeight,\r\n            display: props.currentIndex === props.index ? \"flex\" : \"none\",\r\n\r\n        }, props.style]}>\r\n            {props.children}\r\n        </View> : null\r\n}\r\n","import { NavigationProp } from \"@react-navigation/native\";\r\nimport { Api, Interface } from \"@tradingpost/common/api\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { View } from \"react-native\";\r\nimport { ButtonGroup } from \"../components/ButtonGroup\";\r\nimport { List } from \"../components/List\";\r\nimport { ProfileBar } from \"../components/ProfileBar\";\r\nimport { SearchBar } from \"../components/SearchBar\";\r\nimport { ElevatedSection } from \"../components/Section\";\r\nimport { sizes } from \"../style\";\r\nimport { FeedPart } from \"./FeedScreen\";\r\nimport { Text } from '@ui-kitten/components'\r\n\r\n\r\nexport const SearchScreen = (props: { navigation: NavigationProp<any> } & { route: { params: {} } }) => {\r\n    const [searchText, setSearchText] = useState(\"\"),\r\n        [searchType, setSearchType] = useState<\"posts\" | \"people\">(\"posts\"),\r\n        [people, setPeople] = useState<Interface.IUserList[]>(),\r\n        debounceRef = useRef<any>()\r\n\r\n    useEffect(() => {\r\n        clearTimeout(debounceRef.current);\r\n        if (searchType === \"people\") {\r\n            if (searchText.length >= 3) {\r\n                debounceRef.current = setTimeout(async () => {\r\n                    try {\r\n                        setPeople(await Api.User.extensions.search({\r\n                            term: searchText\r\n                        }));\r\n                    }\r\n                    catch (ex) {\r\n                        console.error(ex);\r\n                    }\r\n                }, 500)\r\n            }\r\n            else {\r\n                setPeople(undefined);\r\n            }\r\n        }\r\n    }, [searchText, searchType])\r\n\r\n    return (\r\n        <View style={{ flex: 1, backgroundColor: \"#F7f8f8\" }}>\r\n            <SearchBar onTextChange={(v) => {\r\n                setSearchText(v);\r\n            }} />\r\n            <ButtonGroup\r\n                style={{ margin: sizes.rem1, width: \"auto\" }}\r\n                unselectedStyle={{\r\n                    backgroundColor: \"#777\",\r\n                }}\r\n                value={searchType}\r\n                onValueChange={(value) => {\r\n                    setSearchType(value);\r\n                    setPeople(undefined);\r\n                }} items={[{ label: \"People\", \"value\": \"people\" }, { label: \"Posts\", value: \"posts\" }]} />\r\n            {searchType === \"posts\" && <FeedPart searchText={searchText} />}\r\n            {searchType === \"people\" && <View\r\n                style={{ marginHorizontal: sizes.rem1, flex: 1 }}><List\r\n                    data={people}\r\n                    loadingMessage={\"Search For People\"}\r\n                    loadingItem={undefined}\r\n                    renderItem={(item) => {\r\n                        return <ElevatedSection title=\"\">\r\n                            <ProfileBar user={item.item} style={{marginBottom:-sizes.rem0_5}} />\r\n                        </ElevatedSection>\r\n                    }}\r\n                /></View>}\r\n            {/* <View style={styles.separator} lightColor=\"#eee\" darkColor=\"rgba(255,255,255,0.1)\" />\r\n                <EditScreenInfo path=\"/screens/TabOneScreen.tsx\" /> */}\r\n        </View>\r\n    );\r\n}\r\n","import { NavigationProp, useNavigation } from \"@react-navigation/native\"\r\nimport React from \"react\"\r\nimport { View, Text, Pressable } from 'react-native'\r\nimport { flex, sizes } from \"../style\"\r\nexport const OverlayScreen = () => {\r\n    const nav = useNavigation<NavigationProp<any>>();\r\n    return <View style={[flex, { justifyContent: \"center\" }]}>\r\n        <Pressable onPress={() => {\r\n            nav.goBack();\r\n\r\n        }} style={{ backgroundColor: \"white\", opacity: 0.85, position: \"absolute\", height: \"100%\", width: \"100%\" }}></Pressable>\r\n        <View style={{ margin: sizes.rem1, padding: sizes.rem1, backgroundColor: \"orange\" }}>\r\n            <Text>\r\n                FUCK OFF\r\n            </Text>\r\n        </View>\r\n    </View>\r\n}","import { Api, Interface } from \"@tradingpost/common/api\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { View } from \"react-native\";\r\nimport { useToast } from \"react-native-toast-notifications\";\r\nimport { Avatar, Text } from '@ui-kitten/components'\r\nimport { PieHolder } from \"../components/PieHolder\";\r\nimport { DashScreenProps, TabScreenProps } from \"../navigation\";\r\nimport { flex, paddView, row, sizes } from \"../style\";\r\nimport { ElevatedSection, Section } from \"../components/Section\";\r\nimport { Label } from \"../components/Label\";\r\nimport { FavButton } from \"../components/AddButton\";\r\n\r\nexport const CompanyScreen = (props: TabScreenProps<{ securityId: number }>) => {\r\n    const [security, setSecurity] = useState<Interface.ISecurityGet>();\r\n    const { securityId } = props.route.params\r\n    const toast = useToast();\r\n    const [isFav, setIsFav] = useState(false)\r\n    useEffect(() => {\r\n\r\n        Api.Security.get(securityId)\r\n            .then((s) => {\r\n                setSecurity(s)\r\n                setIsFav(s.isOnQuickWatch || false)\r\n            })\r\n            .catch((ex) => toast.show(ex.message))\r\n\r\n    }, [securityId])\r\n    return <View style={paddView}>\r\n        <ElevatedSection title=\"Company\"\r\n            button={(p) => {\r\n                return <FavButton {...p} isSelected={isFav} onPress={() => {\r\n                    if (security) {\r\n                        Api.Security.extensions.quickadd({\r\n                            add: !isFav,\r\n                            ticker: security?.symbol\r\n                        })\r\n                        setIsFav(!isFav);\r\n                    }\r\n                }} />\r\n            }}\r\n        >\r\n            <View style={[row, { marginBottom: sizes.rem0_5 }]}>\r\n                <Avatar source={{ uri: security?.logo_url }} style={{ marginRight: sizes.rem0_5 }} />\r\n                <View style={flex}>\r\n                    <Text>{security?.symbol}</Text>\r\n                    <Text>{security?.company_name}</Text>\r\n                </View>\r\n                <View>\r\n                    <Text>{security?.price?.price}</Text>\r\n                    <Text></Text>\r\n                </View>\r\n            </View>\r\n            <View style={[row, { marginVertical: sizes.rem0_5 }]}>\r\n                <Text style={flex} category={\"label\"}>Open</Text>\r\n                <Text style={flex} category={\"c1\"}>{security?.price?.open}</Text>\r\n                <Text style={flex} category={\"label\"}>52 Wk High</Text>\r\n                <Text style={flex} category={\"c1\"}>{security?.price?.high}</Text>\r\n            </View>\r\n            <View style={[row, { marginBottom: sizes.rem1 }]}>\r\n                <Text style={flex} category={\"label\"}>Close</Text>\r\n                <Text style={flex} category={\"c1\"}>{\"    \"}</Text>\r\n                <Text style={flex} category={\"label\"}>52 Wk Low</Text>\r\n                <Text style={flex} category={\"c1\"}>{security?.price?.low}</Text>\r\n            </View>\r\n            <PieHolder />\r\n            <Text style={{ marginTop: sizes.rem1 }}>{security?.description}</Text>\r\n        </ElevatedSection >\r\n        <ElevatedSection title=\"Posts\">\r\n\r\n        </ElevatedSection>\r\n    </View >\r\n\r\n\r\n}","/**\n * If you are not familiar with React Navigation, refer to the \"Fundamentals\" guide:\n * https://reactnavigation.org/docs/getting-started\n *\n */\nimport { FontAwesome } from '@expo/vector-icons';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { getFocusedRouteNameFromRoute, NavigationContainer, DefaultTheme, DarkTheme, useNavigation, useLinkTo, NavigationProp, useNavigationState } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\n\nimport { createDrawerNavigator } from '@react-navigation/drawer';\nimport { SideMenu } from '../components/SideMenu';\n\nimport * as React from 'react';\nimport { useEffect } from 'react';\n\nimport { Text, ImageBackground, Image, ColorSchemeName, Pressable, View } from 'react-native';\nimport { useAppUser } from '../App';\n\nimport Colors from '../constants/Colors';\nimport useColorScheme from '../hooks/useColorScheme';\nimport { AppTitle, BookmarkActive, BookmarkActiveBlue, BookmarkIcons, Logo, navIcons } from '../images';\nimport CreateAccountScreen from '../screens/CreateAccountScreen';\nimport LoginScreen from '../screens/LoginScreen';\nimport ModalScreen from '../screens/ModalScreen';\nimport NotFoundScreen from '../screens/NotFoundScreen';\nimport TabOneScreen from '../screens/TabOneScreen';\nimport TabTwoScreen from '../screens/TabTwoScreen';\nimport WelcomeScreen from '../screens/WelcomeScreen';\nimport { RootStackParamList, RootTabParamList, RootTabScreenProps } from '../types';\nimport LinkingConfiguration from './LinkingConfiguration';\nimport { LogoNoBg } from '../images'\nimport { SvgExpo } from '../components/SvgExpo';\nimport Auth from '@tradingpost/common/api/entities/static/AuthApi';\nimport { IUserGet } from '@tradingpost/common/api/entities/interfaces';\nimport { sizes } from '../style';\nimport { FeedScreen } from '../screens/FeedScreen';\nimport { PortfolioScreen } from '../screens/PortfolioScreen';\nimport { WatchlistEditorScreen } from '../screens/WatchlistEditorScreen';\nimport { WatchlistScreen } from '../screens/WatchlistScreen';\nimport { AuthScreen } from '../screens/AuthScreen';\nimport { ImagePickerScreen } from '../screens/ImagePicker';\nimport { ProfileScreen } from '../screens/ProfileScreen';\nimport { SearchScreen } from '../screens/SearchScreen';\nimport { TableModalScreen } from '../screens/TableModalScreen';\nimport { IconButton } from '../components/IconButton';\nimport { OverlayScreen } from '../screens/OverlayScreen';\nimport { CompanyScreen } from '../screens/CompanyScreen';\n\n\nexport default function Navigation({ colorScheme }: { colorScheme: ColorSchemeName }) {\n  return (\n    <NavigationContainer\n      linking={LinkingConfiguration}\n      theme={colorScheme === 'dark' ? DarkTheme : DefaultTheme}>\n      <RootNavigator />\n    </NavigationContainer>\n  );\n}\n\ntype UndefinedProxy<T extends keyof any> = {\n  [P in T]: undefined\n}\n\n// TODO: these defined the parameters... so should type these correctly .. I will do that in the future\nexport type AllPages = UndefinedProxy<\"Launch\" | \"Create\" | \"Login\" | \"Dash\" | \"WatchlistEditor\" | \"Watchlist\" | \"Auth\" | \"ImagePicker\" | \"Profile\"> & {\n  \"Company\": Parameters<(typeof CompanyScreen)>[\"0\"][\"route\"][\"params\"],\n  \"Bookmarks\": Parameters<(typeof FeedScreen)>[\"0\"][\"route\"][\"params\"],\n  \"TableModal\": Parameters<(typeof TableModalScreen)>[\"0\"][\"route\"][\"params\"],\n  \"OverlayModal\": undefined\n}\n\nconst Drawer = createDrawerNavigator();\n\n/**\n * A root stack navigator is often used for displaying modals on top of all other content.\n * https://reactnavigation.org/docs/modal\n */\nconst Stack = createNativeStackNavigator<RootStackParamList & AllPages>();\n\nconst HeaderTp = () => {\n  return <SvgExpo style={{ height: \"100%\", aspectRatio: 1 }}>\n    <LogoNoBg />\n  </SvgExpo>\n}\n\nexport type DashScreenProps = {\n  appUser: IUserGet\n}\n\nexport type TabScreenProps<T = never> = DashScreenProps & {\n  navigation: NavigationProp<any>,\n  route: T extends never ? undefined : { params: T }\n}\n\nfunction DrawerPart() {\n  const { appUser } = useAppUser();\n\n  const linkTo = useLinkTo();\n\n  useEffect(() => {\n    if (!appUser) {\n      Auth.signOut();\n      linkTo(\"/login\")\n    }\n  }, [appUser, linkTo])\n\n  return appUser ? <Drawer.Navigator drawerContent={(props) => <SideMenu appUser={appUser} {...props} />}\n    screenOptions={({ route, navigation }) => ({\n      headerTitleAlign: \"center\",\n      headerTitle: HeaderTp,\n      headerRight: (() => {\n        const routeName = getFocusedRouteNameFromRoute(route);\n        switch (routeName) {\n          case \"Feed\":\n            return () => {\n\n              const state = useNavigationState((state) => {\n                return (((state.routes[0]?.state?.routes as any[])?.find(r => r.name === \"Feed\").params as any)?.bookmarkedOnly || \"false\") as \"true\" | \"false\"\n              });\n              const isMarked = state === \"true\";\n              return <Pressable onPress={() => {\n                navigation.navigate(\"Feed\", {\n                  bookmarkedOnly: isMarked ? \"false\" : \"true\"\n                })\n              }}>\n                {!isMarked ? <IconButton iconSource={isMarked ? BookmarkIcons.active : BookmarkIcons.inactive} style={{ height: 24, width: 24, marginRight: sizes.rem1 }} />\n                  : <BookmarkActiveBlue style={{ height: 16, width: 16, marginLeft: \"auto\", marginRight: (sizes.rem1_5 + sizes.rem1) / 2 }} />\n                }\n              </Pressable>\n            }\n          default:\n            console.log(routeName);\n            return undefined;\n        }\n      })()\n    })}>\n    <Drawer.Screen name=\"Root\" component={BottomTabNavigator} initialParams={{ appUser }} />\n  </Drawer.Navigator > : null;\n}\n\nfunction RootNavigator() {\n  return <Stack.Navigator screenOptions={{ headerTitle: () => <AppTitle style={{ marginTop: sizes.rem0_5, height: \"100%\", aspectRatio: 4 }} />, headerTitleAlign: \"center\", headerBackVisible: false }}>\n    <Stack.Screen name=\"Root\" component={WelcomeScreen} options={{ headerShown: false }} />\n    <Stack.Screen name=\"Create\" component={CreateAccountScreen} options={{ headerShown: true, headerBackVisible: false }} />\n    <Stack.Screen name=\"Dash\" component={DrawerPart} options={{ headerShown: false }} />\n    <Stack.Screen name=\"NotFound\" component={NotFoundScreen} options={{ title: 'Oops!' }} />\n    <Stack.Group screenOptions={{ presentation: 'modal' }}>\n      <Stack.Screen name=\"Modal\" component={ModalScreen} />\n      <Stack.Screen name=\"WatchlistEditor\" component={WatchlistEditorScreen} />\n      <Stack.Screen name=\"Watchlist\" component={WatchlistScreen} />\n      <Stack.Screen name=\"Auth\" component={AuthScreen} />\n      <Stack.Screen name=\"ImagePicker\" component={ImagePickerScreen} />\n      <Stack.Screen name=\"Company\" component={CompanyScreen} />\n      {/* <Stack.Screen name=\"Bookmarks\" component={FeedScreen}\n        initialParams={{\n          bookmarkedOnly: true\n        }}\n      /> */}\n      <Stack.Screen name=\"TableModal\" component={TableModalScreen} />\n      <Stack.Screen name=\"OverlayModal\" options={{\n        presentation: \"transparentModal\",\n        headerStyle: {\n          backgroundColor: \"transparent\"\n        },\n        headerTintColor: \"white\",\n        headerShown: false,\n        // headerBackground: () => <View></View>,\n        headerTitle: \"\",\n        contentStyle: {\n          //marginTop: -64\n        }\n      }} component={OverlayScreen} />\n    </Stack.Group>\n    <Stack.Group screenOptions={{\n      presentation: \"modal\",\n      headerStyle: {\n        backgroundColor: \"transparent\"\n      },\n      headerTintColor: \"white\",\n      headerBackground: () => <View></View>,\n      headerTitle: \"\",\n      contentStyle: {\n        marginTop: -64\n      }\n    }}>\n      <Stack.Screen name=\"Profile\" component={ProfileScreen} />\n    </Stack.Group>\n  </Stack.Navigator >\n}\n\n/**\n * A bottom tab navigator displays tab buttons on the bottom of the display to switch screens.\n * https://reactnavigation.org/docs/bottom-tab-navigator\n */\nconst BottomTab = createBottomTabNavigator<any>();\n\n\nconst DashComponents: Partial<Record<keyof typeof navIcons, { c: React.ComponentType<any>, p?: any, headerRight?: (props: { navigation: NavigationProp<any>, route: any }) => React.ReactNode }>> = {\n  Portfolio: {\n    c: PortfolioScreen\n  },\n  Feed: {\n    c: FeedScreen\n  },\n  Search: {\n    c: SearchScreen,\n  }\n}\n\nfunction BottomTabNavigator(props: { appUser: IUserGet }) {\n  const colorScheme = useColorScheme();\n  const { appUser } = props;\n  return <BottomTab.Navigator\n    initialRouteName=\"Feed\"\n    screenOptions={{\n      tabBarActiveTintColor: Colors[colorScheme].tint,\n      headerShown: false\n    }}>\n    {\n      Object.keys(navIcons).map((n) => {\n        return <BottomTab.Screen\n          key={n}\n          name={n}\n          options={({ navigation, route }) => ({\n            //TODO: this makes things a bit choppy .. shoudl change in the future \n            unmountOnBlur: true,\n            tabBarShowLabel: false,\n            lazy: true,\n            tabBarIcon: ({ color, focused, size }) => {\n              return <ImageBackground source={navIcons[n as keyof typeof navIcons][focused ? \"active\" : \"inactive\"]} resizeMode=\"contain\" style={{ height: size, width: size }} />\n            },\n            // headerRight: (() => {\n            //   const hr = DashComponents[n as keyof typeof navIcons]?.headerRight;\n            //   return hr ? () => hr({\n            //     navigation,\n            //     route\n            //   }) : undefined\n            // })(),\n            //headerShown: Boolean(DashComponents[n as keyof typeof navIcons]?.headerRight)\n          })}\n          component={DashComponents[n as keyof typeof navIcons]?.c || TabOneScreen}\n          initialParams={{ appUser, ...DashComponents[n as keyof typeof navIcons]?.p }}\n        />\n      })}\n    {/* <BottomTab.Screen\n      name=\"TabOne\"\n      component={TabOneScreen}\n      options={({ navigation }: RootTabScreenProps<'TabOne'>) => ({\n        title: 'Tab One',\n        tabBarIcon: ({ color }) => <TabBarIcon name=\"code\" color={color} />,\n        headerRight: () => (\n          <Pressable\n            onPress={() => navigation.navigate('Modal')}\n            style={({ pressed }) => ({\n              opacity: pressed ? 0.5 : 1,\n            })}>\n            <FontAwesome\n              name=\"info-circle\"\n              size={25}\n              color={Colors[colorScheme].text}\n              style={{ marginRight: 15 }}\n            />\n          </Pressable>\n        ),\n      })}\n    />\n    <BottomTab.Screen\n      name=\"TabTwo\"\n      component={TabTwoScreen}\n      options={{\n        title: 'Tab Two',\n        tabBarIcon: ({ color }) => <TabBarIcon name=\"code\" color={color} />,\n      }}\n    /> */}\n  </BottomTab.Navigator>\n\n}\n\n/**\n * You can explore the built-in icon families and icons on the web at https://icons.expo.fyi/\n */\nfunction TabBarIcon(props: {\n  name: React.ComponentProps<typeof FontAwesome>['name'];\n  color: string;\n}) {\n  return <FontAwesome size={30} style={{ marginBottom: -3 }} {...props} />;\n}\n\n\n\n\n\n","import { StatusBar } from 'expo-status-bar';\n//import { SafeAreaProvider } from 'react-native-safe-area-context';\n//import { Colors } from 'react-native-ui-lib';\n\nimport useCachedResources from './hooks/useCachedResources';\nimport useColorScheme from './hooks/useColorScheme';\nimport Navigation, { AllPages } from './navigation';\nimport { Platform, Text } from 'react-native'\nimport WelcomeScreen from './screens/WelcomeScreen';\nimport * as eva from '@eva-design/eva';\nimport { ApplicationProvider, Layout, Button, IconRegistry } from '@ui-kitten/components';\nimport theme from \"./theme-light.json\"; // <-- Import app theme\nimport { ToastProvider } from 'react-native-toast-notifications';\nimport { useData } from './lds'\nimport Auth from '@tradingpost/common/api/entities/static/AuthApi';\nimport User from '@tradingpost/common/api/entities/apis/UserApi';\nimport { } from '@tradingpost/common/api/entities/apis/UserApi';\nimport React, { useCallback, useEffect } from 'react';\nimport { NavigationProp, useNavigation } from '@react-navigation/native';\nimport { configApi } from '@tradingpost/common/api/entities/static/EntityApiBase'\nimport { EvaIconsPack } from '@ui-kitten/eva-icons';\n\n// Colors.loadColors({\n//   primary: '#11146F',\n//   //primaryColor: '#2364AA',\n//   //secondaryColor: '#81C3D7',\n//   secondary: '#35A265',\n//   lightBlue: \"#cae9fb\"\n//   //textColor: '#221D23',\n//   //errorColor: '#E63B2E',\n//   //successColor: '#ADC76F',\n//   //warnColor: '#FF963C'\n// });\n\n//console.log(\"MY URL IS DEFINED HERE \" + process.env.API_BASE_URL);\n\n\nif (Platform.OS === \"web\" && !__DEV__)\n  configApi({\n    apiBaseUrl: \"https://api.tradingpostapp.com\"\n  })\n\n//console.log(\"API ENV::::::::::::::::::\" + process.env.API_BASE_URL)\n\nexport default function App() {\n  const { isLoadingComplete } = useCachedResources();\n\n  const colorScheme = useColorScheme();\n  const { appUser, signIn } = useAppUser();\n  const { value: authToken, setValue: setAuthToken } = useData(\"authToken\");\n\n\n  //try auth signin\n  useEffect(() => {\n    if (authToken) {\n      signIn(\"\", authToken);\n    }\n  }, [Boolean(authToken)])\n\n\n  if (!isLoadingComplete) {\n    return null;\n  }\n\n  return <ApplicationProvider {...eva} theme={{ ...eva.light, ...theme }}>\n    <IconRegistry icons={EvaIconsPack} />\n    <ToastProvider>\n      <Navigation colorScheme={colorScheme} />\n      <StatusBar />\n    </ToastProvider>\n  </ApplicationProvider>\n}\n\nexport const Authentication = {\n\n  signIn: async (email: string, pass: string) => {\n    const result = await Auth.login(email, pass);\n    return {\n      loginResult: result,\n      currentUser: result.user_id ? await User.get(result.user_id) : undefined\n    }\n  }\n}\n\nexport const useAppUser = () => {\n  const { value: appUser, setValue: setAppUser } = useData(\"currentUser\");\n  const { value: loginResult, setValue: setLoginResult } = useData(\"loginResult\");\n  const { value: authToken, setValue: setAuthToken } = useData(\"authToken\");\n\n  return {\n    appUser,\n    authToken,\n    loginResult,\n    signIn: useCallback(async (email: string, pass: string) => {\n      const value = await Authentication.signIn(email, pass)\n      setLoginResult(value.loginResult);\n      setAppUser(value.currentUser);\n\n      if (value.loginResult.user_id)\n        setAuthToken(value.loginResult.token);\n\n    }, []),\n    signOut: useCallback(() => {\n      Auth.signOut();\n      setAuthToken(undefined);\n      setLoginResult(undefined);\n      setAppUser(undefined);\n    }, [])\n  }\n}\n\n","import { FontAwesome } from '@expo/vector-icons';\nimport * as Font from 'expo-font';\nimport * as SplashScreen from 'expo-splash-screen';\nimport { useEffect, useState } from 'react';\nimport { initLds, setValue } from '../lds';\nimport Auth from '@tradingpost/common/api/entities/static/AuthApi'\nimport { Authentication, useAppUser } from '../App';\nexport default function useCachedResources() {\n  const [isLoadingComplete, setLoadingComplete] = useState(false);\n\n  // Load any resources or data that we need prior to rendering the app\n  useEffect(() => {\n    async function loadResourcesAndDataAsync() {\n      try {\n\n\n        SplashScreen.preventAutoHideAsync();\n\n\n\n        // Load fonts\n        await Font.loadAsync({\n          ...FontAwesome.font,\n          'space-mono': require('../assets/fonts/SpaceMono-Regular.ttf'),\n        });\n\n        const lds = await initLds();\n\n        if (lds.authToken) {\n          try {\n            const results = await Authentication.signIn(\"\", lds.authToken);\n            setValue(\"loginResult\", results.loginResult);\n            setValue(\"currentUser\", results.currentUser);\n          }\n          catch (ex) {\n            setValue(\"authToken\", undefined);\n            console.error(ex);\n          }\n        }\n\n\n\n\n      } catch (e) {\n        // We might want to provide this error information to an error reporting service\n        console.warn(e);\n      } finally {\n        setLoadingComplete(true);\n        SplashScreen.hideAsync();\n      }\n    }\n\n    loadResourcesAndDataAsync();\n  }, []);\n\n  return {\n    isLoadingComplete,\n  }\n}\n","module.exports = __webpack_public_path__ + \"./fonts/SpaceMono-Regular.ttf\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAIBAMAAAA7P9P/AAAAFVBMVEUAAAAAAAAAAABHcEwAAAAAAAAAAAAsXusGAAAABnRSTlPUFhUAxLV788luAAAAQ0lEQVQI12MIUTY2NjZyZXBjAtIKKQwCCcrGRmyMDIZsTMYKCcIMxgIJSmyMxgzGhmwMCcJA2lggjdEYRBu5CBsbAwA6HgmSu7c8IwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADfSURBVHgB3ZVhDYMwEIVfMDAkzMEszMEqoRJwAA6oA+ZgszAFzEEzBZuDrc1oUkjbO0p/8SXvz+XuHeXKAeyd2qgxuhlpo++kcYpJbEAYvT3TmHROo55hvFTLNW8zzJ16ylwSBsroSuSIVANNFDtSOXZudc7TcxtYNS6x8oouKMc51OCIcpxCweUxB/BRiLzOKlH0AZ8DJ4m6QWuGPLpE/wRPlOMVavBAOe6hoP04qOXmoJZfFEEUD6AXoQSBAj3EmDow6TLMFVYiwbu6dm4CG5D4/x5HzAdpY3ap1dg1PyNVyJlgDEwbAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAAcklEQVRIDWNgGAWjIYAcAgqGtltBGFmMEJuFkAIU+f//vVD4RHCYiFBDkZJRCwgGHyM2FeCUQmqEMjJue3D+sDe6eVSLA8b/DP/RDSeZr2Bg8x+ESdFINR/gsnTUAlwhAxcnrSwCJkWqpBa49aOMYRECANa7E7ZM1CXvAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/portfolio-active.efe3924c.png\";","module.exports = __webpack_public_path__ + \"static/media/portfolio.e8bf12f0.png\";","module.exports = __webpack_public_path__ + \"static/media/feed-active.7796425f.png\";","module.exports = __webpack_public_path__ + \"static/media/feed.31fac6f4.png\";","module.exports = __webpack_public_path__ + \"static/media/search-active.cc2d6f99.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAoCAYAAAB99ePgAAAACXBIWXMAAAsTAAALEwEAmpwYAAADFklEQVRYhc2YC08TQRSFv4IgCGhriIGqIIKCD/CBAopgwkOpgFAUKC3bxP//J8wkZ/RmAu3udDfhJJNtd/feOXPv3Mcs9IZS8H8QuA9MAbMa7ncZGOgiWwj6gWlgAzgGzoEmcKnR1L0j4DPwGOgrioxd8QywD7QMmQRo62rHpRk/ZNGrdPZM7DawaSzT0jgBtoBlYBFYAj4A28Cv4H33e924uyeCXngM+ClrNDTJN+ApMNRBfhiYA2qSaUiHs+JIHgRHtK9assAp8OyahdgRPnupfXghoociHw23ifeMa46ASjBpN9h3xoG6IbgbYzkv8E4b3Smry71pSV2ns6x9eiHdb2J0lo0b3JjogVhIsGr0ujnuZVW0atLBSg7EQoIfTRpyc6XGHaUBFwS/gVHyx6iCqyk3D6dd1ROTPNcKIFbS9ZOZZyat0Ipx6XTwLA94XdPyTibXbkngLEgdRbk2UVLvilvK4Imqgus6isKgkrGb6yBNczBoStVhkd0E/5N8Wwm+qyEGtIpEAs6SRaFfdbctg4T935XYFbmTgtKIx5DqdqI2LFUUrUvA5aDJ4FmeqJhOxQVhR3gCCyZ7LwXP8oDXNW/meZtlRefKQfvaG0Vgx3Q83kOpsC3BlprKvGvrpOmQ99NmBS88ZVZl811eBL9Lt3Ppixjd3npubF6xgFgsm4UfxKarssqL71xXIgnad1/JlX5PVyP0/cOCyDVEcEMnMTvxdYrt/T6dyjyxtskEUVhVQXbtelMkW9qDsynd4Qg+Ck5gbRGNxqKUtVX/5uView51++W9Jh9Txh/SiW1COvbMyc3LufuZ4d0wJxLnunrzV0xu8mkmkUVPdQiqm32amMO3L1HVXog91Ap9WXGRFWJKkezJJx3GhVz6PDaZl8y58swQczW2EyoKmDU1CzUNl8O+AK+BB0FgZIpK//Jdc568VCFOE4VERG7mjzQHZn/UMnxsKUU+S4U+ucRH4XFeH1nywNcg4io3hdiq+azVyOmTQy5YEjFf49xB+kYQWzDEoluWojCubP1HdfPGYazXrqAI/AWJsGc6P11vXQAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/bookmark-active.a74f9155.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAYAAAAPOoFWAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbklEQVRYhe2XTU8CMRRFT1E3LiWRja4QBFyqgAqGOLIxEfnQ//9XzCO3SR0HKcwMcTEveXlhBu55vW1JC9AEJsC4xJyIwxRYKj9LyKXSOCTAB3AHdIGbArMrXdN/8TAj1ykn6tL/AWvopSsI4lQbh4SdZ8HsYQWLCada2ZgrnGplY65wqpWNucKpVjbmCqda2fg/bDw9FKwHzIB22bAesBDM6nVZsBA0VZ3/McK9YV0JL3TCPQJu9Xm+ARgFS0dHgpb91Lt7Ae143drw++iRtYMRDTK6TgOvdh2Z/1JLAiY03LJw+gGwGQPzx2/UoQc9RO69QQZw61k/BD0CtQgQamiYAfwFWwFnwGUwR08BKPay4eSEB15Id+Vhr9oztqTf1MVIy3sXkI+aHFlKz18GkxD2ro7GOUAuBVxId+ZhiR6Yfc/A8Z4gMoA2FaZr+muY/fV8FQRKA80hmxLTX1/gbdXYPjkpCJQG2gBs43e+AWheWzD4nGQdAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAoCAYAAAC4h3lxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6UlEQVRYhe2YPS8EURSGn5lllyg0QkFBKCQ+ExoKwg/wFa3KPxBaBYVGo9ZR6UQiVin+gZVoSUQnQmR9zO5cmTizublGrEJyRvYkT+7s3Fu8Z+45956z8GmejA1APzAMDClkEGjGsVj8MnALlIBARk0EMt4D664TS4BJGRv2DlzJy3cgVE4gWh+BtsiBdvlhnIVGIaHDRORAE3AnC0rOQm3CDVCW5yhaeuMw2pbJQCY08yZaj+wkzgIHCr60qZJzoNU9RiObBlaAVcXMWJor2j3HkTSYl/TSB+qAjFLqZKxZzf4qKTKCr5SM8CWBo8m0me8+tACbwAlwCuRl1EDe0rMD9LhOdALXCm5YUyXPwLi9HYcy8SL1kGZeRWshzoUW6XLsSk9bNWoSSulI6wjSFDwkLDLKHQiBsTiEzqwQKinnTbTeAI2xA6NAUcFXNr9g0T1G+6UnuJAEibhUREE4BqZEs5d0kUUVX06aHE3kgPqki8x+kYZS1U9p5VCz9JXUGaX434lPU2J43zX13cAcsKCYAceRim1Z17RmQmBP7oWKrVkLSsopi87dWHzWamYCBX+fhz8QO1CURowO4MkpWTWHT2gx+S92ICkHysoxdg7Yp9C7gjAxVbDvnkKxdQGzct7OK6XP0ut9AF3v9ga2MivCAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/flatgrad.0b9cb975.png\";"],"sourceRoot":""}